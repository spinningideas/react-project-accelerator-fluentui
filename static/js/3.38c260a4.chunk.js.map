{"version":3,"sources":["../node_modules/lodash-es/_root.js","../node_modules/webpack/buildin/harmony-module.js","../node_modules/lodash-es/_nodeUtil.js","../node_modules/lodash-es/_freeGlobal.js","../node_modules/lodash-es/isBuffer.js","../node_modules/deepmerge/dist/es.js","../node_modules/lodash-es/_Symbol.js","../node_modules/lodash-es/_getRawTag.js","../node_modules/lodash-es/_objectToString.js","../node_modules/lodash-es/_baseGetTag.js","../node_modules/lodash-es/_overArg.js","../node_modules/lodash-es/_getPrototype.js","../node_modules/lodash-es/isObjectLike.js","../node_modules/lodash-es/isPlainObject.js","../node_modules/lodash-es/_listCacheClear.js","../node_modules/lodash-es/eq.js","../node_modules/lodash-es/_assocIndexOf.js","../node_modules/lodash-es/_listCacheDelete.js","../node_modules/lodash-es/_listCacheGet.js","../node_modules/lodash-es/_listCacheHas.js","../node_modules/lodash-es/_listCacheSet.js","../node_modules/lodash-es/_ListCache.js","../node_modules/lodash-es/_stackClear.js","../node_modules/lodash-es/_stackDelete.js","../node_modules/lodash-es/_stackGet.js","../node_modules/lodash-es/_stackHas.js","../node_modules/lodash-es/isObject.js","../node_modules/lodash-es/isFunction.js","../node_modules/lodash-es/_coreJsData.js","../node_modules/lodash-es/_isMasked.js","../node_modules/lodash-es/_toSource.js","../node_modules/lodash-es/_baseIsNative.js","../node_modules/lodash-es/_getValue.js","../node_modules/lodash-es/_getNative.js","../node_modules/lodash-es/_Map.js","../node_modules/lodash-es/_nativeCreate.js","../node_modules/lodash-es/_hashClear.js","../node_modules/lodash-es/_hashDelete.js","../node_modules/lodash-es/_hashGet.js","../node_modules/lodash-es/_hashHas.js","../node_modules/lodash-es/_hashSet.js","../node_modules/lodash-es/_Hash.js","../node_modules/lodash-es/_mapCacheClear.js","../node_modules/lodash-es/_isKeyable.js","../node_modules/lodash-es/_getMapData.js","../node_modules/lodash-es/_mapCacheDelete.js","../node_modules/lodash-es/_mapCacheGet.js","../node_modules/lodash-es/_mapCacheHas.js","../node_modules/lodash-es/_mapCacheSet.js","../node_modules/lodash-es/_MapCache.js","../node_modules/lodash-es/_stackSet.js","../node_modules/lodash-es/_Stack.js","../node_modules/lodash-es/_arrayEach.js","../node_modules/lodash-es/_defineProperty.js","../node_modules/lodash-es/_baseAssignValue.js","../node_modules/lodash-es/_assignValue.js","../node_modules/lodash-es/_copyObject.js","../node_modules/lodash-es/_baseTimes.js","../node_modules/lodash-es/_baseIsArguments.js","../node_modules/lodash-es/isArguments.js","../node_modules/lodash-es/isArray.js","../node_modules/lodash-es/_isIndex.js","../node_modules/lodash-es/isLength.js","../node_modules/lodash-es/_baseIsTypedArray.js","../node_modules/lodash-es/_baseUnary.js","../node_modules/lodash-es/isTypedArray.js","../node_modules/lodash-es/_arrayLikeKeys.js","../node_modules/lodash-es/_isPrototype.js","../node_modules/lodash-es/_nativeKeys.js","../node_modules/lodash-es/_baseKeys.js","../node_modules/lodash-es/isArrayLike.js","../node_modules/lodash-es/keys.js","../node_modules/lodash-es/_baseAssign.js","../node_modules/lodash-es/_nativeKeysIn.js","../node_modules/lodash-es/_baseKeysIn.js","../node_modules/lodash-es/keysIn.js","../node_modules/lodash-es/_baseAssignIn.js","../node_modules/lodash-es/_copyArray.js","../node_modules/lodash-es/_arrayFilter.js","../node_modules/lodash-es/stubArray.js","../node_modules/lodash-es/_getSymbols.js","../node_modules/lodash-es/_copySymbols.js","../node_modules/lodash-es/_arrayPush.js","../node_modules/lodash-es/_getSymbolsIn.js","../node_modules/lodash-es/_copySymbolsIn.js","../node_modules/lodash-es/_baseGetAllKeys.js","../node_modules/lodash-es/_getAllKeys.js","../node_modules/lodash-es/_getAllKeysIn.js","../node_modules/lodash-es/_DataView.js","../node_modules/lodash-es/_Promise.js","../node_modules/lodash-es/_Set.js","../node_modules/lodash-es/_WeakMap.js","../node_modules/lodash-es/_getTag.js","../node_modules/lodash-es/_initCloneArray.js","../node_modules/lodash-es/_Uint8Array.js","../node_modules/lodash-es/_cloneArrayBuffer.js","../node_modules/lodash-es/_cloneDataView.js","../node_modules/lodash-es/_cloneRegExp.js","../node_modules/lodash-es/_cloneSymbol.js","../node_modules/lodash-es/_cloneTypedArray.js","../node_modules/lodash-es/_initCloneByTag.js","../node_modules/lodash-es/_baseCreate.js","../node_modules/lodash-es/_initCloneObject.js","../node_modules/lodash-es/_baseIsMap.js","../node_modules/lodash-es/isMap.js","../node_modules/lodash-es/_baseIsSet.js","../node_modules/lodash-es/isSet.js","../node_modules/lodash-es/_baseClone.js","../node_modules/lodash-es/clone.js","../node_modules/lodash-es/_arrayMap.js","../node_modules/lodash-es/isSymbol.js","../node_modules/lodash-es/memoize.js","../node_modules/lodash-es/_memoizeCapped.js","../node_modules/lodash-es/_stringToPath.js","../node_modules/lodash-es/_toKey.js","../node_modules/lodash-es/_baseToString.js","../node_modules/lodash-es/toString.js","../node_modules/lodash-es/toPath.js","../node_modules/lodash-es/cloneDeep.js","../../src/utils.ts","../../src/FormikContext.tsx","../../src/Formik.tsx","../../src/Field.tsx","../../src/Form.tsx","../../src/connect.tsx","../../src/FieldArray.tsx","../../src/ErrorMessage.tsx","../../src/FastField.tsx","../node_modules/react-fast-compare/index.js","../node_modules/formik/node_modules/scheduler/index.js","../node_modules/formik/node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/lodash-es/stubFalse.js","../node_modules/lodash-es/_cloneBuffer.js","../../src/controlled.ts","../../src/renderFunction/composeRenderFunction.tsx","../../src/components/ChoiceGroup/ChoiceGroupOption/ChoiceGroupOption.base.tsx","../../src/components/ChoiceGroup/ChoiceGroupOption/ChoiceGroupOption.styles.ts","../../src/components/ChoiceGroup/ChoiceGroupOption/ChoiceGroupOption.tsx","../../src/components/ChoiceGroup/ChoiceGroup.base.tsx","../../src/components/ChoiceGroup/ChoiceGroup.styles.ts","../../src/components/ChoiceGroup/ChoiceGroup.tsx","../../src/components/TextField/TextField.base.tsx","../../src/components/TextField/TextField.styles.tsx","../../src/components/TextField/TextField.ts","../../src/utilities/color/consts.ts","../../src/utilities/color/hsv2rgb.ts","../../src/utilities/color/clamp.ts","../../src/utilities/color/rgb2hex.ts","../../src/utilities/color/getFullColorString.ts","../../src/utilities/color/hsv2hex.ts","../../src/utilities/color/_rgbaOrHexString.ts","../../src/utilities/color/updateSV.ts","../../src/components/ColorPicker/ColorRectangle/ColorRectangle.base.tsx","../../src/components/ColorPicker/ColorRectangle/ColorRectangle.styles.ts","../../src/components/ColorPicker/ColorRectangle/ColorRectangle.tsx","../../src/components/ColorPicker/ColorSlider/ColorSlider.base.tsx","../../src/components/ColorPicker/ColorSlider/ColorSlider.styles.ts","../../src/components/ColorPicker/ColorSlider/ColorSlider.tsx","../../src/utilities/color/cssColor.ts","../../src/utilities/color/hsl2rgb.ts","../../src/utilities/color/hsl2hsv.ts","../../src/utilities/color/getColorFromRGBA.ts","../../src/utilities/color/rgb2hsv.ts","../../src/utilities/color/getColorFromString.ts","../../src/utilities/color/updateA.ts","../../src/utilities/color/updateT.ts","../../src/components/ColorPicker/ColorPicker.base.tsx","../../src/utilities/color/updateH.ts","../../src/utilities/color/correctHex.ts","../../src/utilities/color/correctRGB.ts","../../src/components/ColorPicker/ColorPicker.styles.ts","../../src/utilities/dateValues/DateValues.ts","../../src/components/ColorPicker/ColorPicker.tsx","../../src/string.ts","../../src/utilities/dateValues/TimeConstants.ts","../../src/utilities/dateMath/DateMath.ts","../../src/assertNever.ts","../../src/components/Calendar/Calendar.scss.ts","../../src/components/Calendar/CalendarDay.tsx","../../src/components/Calendar/CalendarYear.tsx","../../src/components/Calendar/CalendarMonth.tsx","../../src/components/Calendar/Calendar.tsx","../../src/components/DatePicker/DatePicker.base.tsx","../../src/components/DatePicker/DatePicker.styles.ts","../../src/initials.ts","../../src/components/DatePicker/DatePicker.tsx","../../src/selection/Selection.types.ts","../../src/selection/Selection.ts","../../src/components/pickers/Suggestions/Suggestions.types.ts","../../src/utilities/selection/SelectionZone.tsx","../../src/components/Announced/Announced.base.tsx","../../src/components/Announced/Announced.ts","../../src/components/Announced/Announced.styles.ts","../../src/components/pickers/Suggestions/Suggestions.scss.ts","../../src/components/pickers/Suggestions/SuggestionsItem.tsx","../../src/components/pickers/Suggestions/SuggestionsItem.styles.ts","../../src/components/pickers/Suggestions/Suggestions.tsx","../../src/components/pickers/Suggestions/Suggestions.styles.ts","../../src/components/pickers/Suggestions/SuggestionsController.ts","../../src/components/pickers/BasePicker.types.ts","../../src/ie11Detector.ts","../../src/components/Autofill/Autofill.tsx","../../src/components/pickers/BasePicker.scss.ts","../../src/components/pickers/BasePicker.tsx","../../src/components/Persona/Persona.types.ts","../../src/components/Persona/PersonaConsts.tsx","../../src/components/Persona/PersonaPresence/PersonaPresence.base.tsx","../../src/components/Persona/PersonaPresence/PersonaPresence.styles.ts","../../src/components/Persona/PersonaPresence/PersonaPresence.tsx","../../src/components/Persona/PersonaInitialsColor.ts","../../src/components/Persona/PersonaCoin/PersonaCoin.base.tsx","../../src/components/Persona/PersonaCoin/PersonaCoin.styles.ts","../../src/components/Persona/PersonaCoin/PersonaCoin.tsx","../../src/components/Persona/Persona.base.tsx","../../src/components/Persona/Persona.styles.ts","../../src/components/Persona/Persona.tsx","../../src/components/pickers/PeoplePicker/PeoplePickerItems/PeoplePickerItem.styles.ts","../../src/components/pickers/PeoplePicker/PeoplePickerItems/PeoplePickerItem.tsx","../../src/components/pickers/PeoplePicker/PeoplePickerItems/PeoplePickerItemSuggestion.styles.ts","../../src/components/pickers/PeoplePicker/PeoplePickerItems/PeoplePickerItemSuggestion.tsx","../../src/components/pickers/BasePicker.styles.ts","../../src/components/pickers/PeoplePicker/PeoplePicker.tsx","../../src/components/Rating/Rating.types.ts","../../src/components/Rating/Rating.styles.ts","../../src/components/Rating/Rating.base.tsx","../../src/components/Rating/Rating.tsx","../../src/components/Slider/Slider.base.tsx","../../src/components/Slider/Slider.styles.ts","../../src/components/Slider/Slider.tsx","../../src/math.ts","../../src/components/SpinButton/SpinButton.styles.ts","../../src/components/SpinButton/SpinButton.classNames.ts","../../src/components/SpinButton/SpinButton.tsx","../../src/utilities/grid/Grid.base.tsx","../../src/utilities/grid/Grid.tsx","../../src/utilities/grid/Grid.styles.ts","../../src/utilities/grid/GridCell.tsx","../../src/components/SwatchColorPicker/ColorPickerGridCell.base.tsx","../../src/components/SwatchColorPicker/ColorPickerGridCell.styles.ts","../../src/components/SwatchColorPicker/ColorPickerGridCell.tsx","../../src/components/SwatchColorPicker/SwatchColorPicker.base.tsx","../../src/components/SwatchColorPicker/SwatchColorPicker.styles.ts","../../src/components/TextField/MaskedTextField/inputMask.ts","../../src/components/SwatchColorPicker/SwatchColorPicker.tsx","../../src/components/TextField/MaskedTextField/MaskedTextField.tsx","../../src/components/Toggle/Toggle.base.tsx","../../src/components/Toggle/Toggle.tsx","../../src/components/Toggle/Toggle.styles.ts","../../src/FormikTextField.tsx","../node_modules/tiny-warning/dist/tiny-warning.esm.js"],"names":["freeSelf","self","Object","root","freeGlobal","Function","module","exports","originalModule","webpackPolyfill","create","children","defineProperty","enumerable","get","l","i","freeExports","nodeType","freeModule","freeProcess","process","nodeUtil","types","require","binding","e","global","Buffer","undefined","isBuffer","stubFalse","isMergeableObject","value","isNonNullObject","stringValue","prototype","toString","call","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","Symbol","for","cloneUnlessOtherwiseSpecified","options","clone","deepmerge","val","Array","isArray","defaultArrayMerge","target","source","concat","map","element","arrayMerge","sourceIsArray","destination","keys","forEach","key","mergeObject","all","array","Error","reduce","prev","next","deepmerge_1","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","tag","unmasked","result","objectToString","baseGetTag","overArg","func","transform","arg","getPrototype","getPrototypeOf","isObjectLike","funcProto","funcToString","objectCtorString","isPlainObject","proto","Ctor","constructor","listCacheClear","this","__data__","size","eq","other","assocIndexOf","length","splice","listCacheDelete","data","index","pop","listCacheGet","listCacheHas","listCacheSet","push","ListCache","entries","clear","entry","set","has","stackClear","stackDelete","stackGet","stackHas","isObject","type","isFunction","coreJsData","maskSrcKey","uid","exec","IE_PROTO","isMasked","toSource","reIsHostCtor","reIsNative","RegExp","replace","baseIsNative","test","getValue","object","getNative","Map","nativeCreate","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","mapCacheClear","isKeyable","getMapData","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","stackSet","pairs","LARGE_ARRAY_SIZE","Stack","arrayEach","iteratee","baseAssignValue","assignValue","objValue","copyObject","props","customizer","isNew","newValue","baseTimes","n","baseIsArguments","propertyIsEnumerable","isArguments","arguments","reIsUint","isIndex","isLength","typedArrayTags","baseIsTypedArray","baseUnary","nodeIsTypedArray","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","isPrototype","nativeKeys","baseKeys","isArrayLike","baseAssign","nativeKeysIn","baseKeysIn","isProto","keysIn","baseAssignIn","copyArray","arrayFilter","predicate","resIndex","stubArray","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","copySymbols","arrayPush","values","offset","getSymbolsIn","copySymbolsIn","baseGetAllKeys","keysFunc","symbolsFunc","getAllKeys","getAllKeysIn","DataView","Promise","Set","WeakMap","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","resolve","ctorString","initCloneArray","input","Uint8Array","cloneArrayBuffer","arrayBuffer","byteLength","cloneDataView","dataView","isDeep","buffer","byteOffset","reFlags","cloneRegExp","regexp","lastIndex","symbolProto","symbolValueOf","valueOf","cloneSymbol","cloneTypedArray","typedArray","initCloneByTag","objectCreate","baseCreate","initCloneObject","baseIsMap","nodeIsMap","isMap","baseIsSet","nodeIsSet","isSet","cloneableTags","baseClone","bitmask","stack","isFlat","isFull","isFunc","cloneBuffer","stacked","subValue","add","arrayMap","isSymbol","memoize","resolver","TypeError","memoized","args","apply","cache","Cache","memoizeCapped","rePropName","reEscapeChar","stringToPath","string","charCodeAt","match","number","quote","subString","toKey","symbolToString","baseToString","toPath","cloneDeep","CLONE_DEEP_FLAG","isEmptyArray","obj","isInteger","Math","Number","isString","isEmptyChildren","React","isPromise","getIn","def","p","path","setIn","res","resVal","pathArray","currentPath","currentObj","nextPath","setNestedObjectValues","visited","response","k","FormikContext","FormikProvider","FormikConsumer","useFormikContext","formik","formikReducer","msg","payload","touched","isEqual","state","errors","status","isSubmitting","isValidating","submitCount","emptyErrors","emptyTouched","useFormik","validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit","rest","initialValues","initialErrors","initialTouched","initialStatus","isMounted","fieldRegistry","dispatch","runValidateHandler","maybePromisedErrors","actualException","reject","runValidationSchema","validationSchema","schema","promise","field","sync","context","validateData","prepareDataForValidation","abortEarly","validateYupSchema","err","yupError","yupToFormErrors","runSingleFieldLevelValidation","runFieldLevelValidations","fieldKeysWithValidation","f","fieldValidations","fieldErrorsList","curr","runAllValidations","fieldErrors","schemaErrors","validateErrors","validateFormWithLowPriority","useEventCallback","unstable_runWithPriority","combinedErrors","validateFormWithHighPriority","resetForm","nextState","dispatchFn","maybePromisedOnReset","validateField","maybePromise","error","name","registerField","validate","unregisterField","setTouched","shouldValidate","setErrors","setValues","setFieldError","setFieldValue","executeChange","eventOrTextValue","id","checked","multiple","maybePath","parsed","parseFloat","isNaN","currentValue","Boolean","currentArrayOfValues","isValueInArray","valueProp","getValueForCheckbox","el","getSelectedValues","handleChange","event","setFieldTouched","executeBlur","outerHTML","handleBlur","setFormikState","stateOrCb","setStatus","setSubmitting","submitForm","isInstanceOfError","promiseOrUndefined","executeSubmit","_errors","handleSubmit","reason","console","imperativeMethods","validateForm","handleReset","getFieldMeta","initialValue","initialError","getFieldHelpers","setValue","setError","getFieldProps","isAnObject","nameOrOptions","valueState","onChange","onBlur","is","dirty","isValid","Formik","formikbag","component","render","innerRef","shouldClone","useIsomorphicLayoutEffect","window","ref","Field","as","meta","legacyBag","form","asElement","Form","action","_action","onReset","connect","Comp","C","componentDisplayName","hoistNonReactStatics","insert","copy","copyArrayLike","arrayLike","maxIndex","parseInt","FieldArrayInner","updateArrayField","updateErrors","alterErrors","updateTouched","alterTouched","prevState","fn","fieldError","fieldTouched","handlePush","swap","a","indexA","handleSwap","move","from","handleMove","handleInsert","handleReplace","unshift","arr","handleUnshift","handleRemove","handlePop","componentDidUpdate","prevProps","remove","tmp","arrayHelpers","restOfFormik","keyList","hasProp","hasElementType","Element","b","equal","arrA","arrB","dateA","Date","dateB","getTime","regexpA","regexpB","message","warn","g","h","MessageChannel","q","t","unstable_now","setTimeout","u","now","clearTimeout","unstable_forceFrameRate","w","performance","x","y","z","A","cancelAnimationFrame","requestAnimationFrame","B","D","E","F","G","floor","H","I","port2","port1","onmessage","postMessage","J","c","d","K","L","M","m","v","r","sortIndex","N","O","P","Q","R","S","T","U","V","callback","startTime","expirationTime","W","X","priorityLevel","Y","Z","unstable_ImmediatePriority","unstable_UserBlockingPriority","unstable_NormalPriority","unstable_IdlePriority","unstable_LowPriority","unstable_next","unstable_scheduleCallback","delay","timeout","unstable_cancelCallback","unstable_wrapCallback","unstable_getCurrentPriorityLevel","unstable_shouldYield","unstable_requestPaint","unstable_continueExecution","unstable_pauseExecution","unstable_getFirstCallbackNode","unstable_Profiling","allocUnsafe","slice","isControlled","memoizer","outer","inner","innerMemoizer","defaultRender","innerProps","outerProps","classNamesFunction","_onChange","evt","_onBlur","_onFocus","onFocus","_onRenderField","imageSrc","imageAlt","selectedImageSrc","iconProps","imageSize","width","height","label","onRenderLabel","_onRenderLabel","htmlFor","className","_classNames","innerField","imageWrapper","Image","src","alt","selectedImageWrapper","iconWrapper","Icon","labelWrapper","labelId","text","initializeComponentRef","ariaLabel","focused","required","theme","disabled","styles","onRenderField","hasIcon","hasImage","imageIsLarge","choiceFieldWrapper","css","nativeProps","defaultProps","GlobalClassNames","getChoiceGroupFocusStyle","focusBorderColor","hasIconOrImage","selectors","position","outline","border","content","top","right","bottom","left","pointerEvents","borderColor","borderWidth","getImageWrapperStyle","isSelectedImageWrapper","paddingBottom","transitionProperty","transitionDuration","transitionTimingFunction","display","borderStyle","overflow","opacity","ChoiceGroupOption","styled","palette","semanticColors","fonts","classNames","circleBorderColor","neutralPrimary","circleHoveredBorderColor","inputBorderHovered","circleCheckedBorderColor","inputBackgroundChecked","circleCheckedHoveredBorderColor","themeDark","circleDisabledBorderColor","disabledBodySubtext","circleBackgroundColor","bodyBackground","dotUncheckedHoveredColor","neutralSecondary","dotCheckedColor","dotCheckedHoveredColor","dotDisabledColor","labelHoverFocusColor","neutralDark","focusBorder","iconOrImageChoiceBorderUncheckedHoveredColor","iconOrImageChoiceBorderCheckedColor","iconOrImageChoiceBorderCheckedHoveredColor","iconOrImageChoiceBackgroundColor","neutralLighter","fieldHoverOrFocusProperties","color","backgroundColor","enabledFieldWithImageHoverOrFocusProperties","circleAreaProperties","fontWeight","boxSizing","borderRadius","dotAreaProperties","choiceFieldSize","radioButtonSpacing","medium","alignItems","bodyText","minHeight","marginTop","paddingLeft","fontSize","margin","cursor","verticalAlign","userSelect","paddingTop","textAlign","justifyContent","flexDirection","disabledBodyText","paddingRight","lineHeight","labelWrapperLineHeight","maxWidth","whiteSpace","scope","_focusCallbacks","_changeCallbacks","ev","option","setState","keyFocused","defaultSelectedKey","validDefaultSelectedKey","_isControlled","some","keyChecked","_getKeyChecked","_id","getId","_labelId","newKeyChecked","divProps","optionsContainIconOrImage","ariaLabelledBy","applicationRole","role","Label","flexContainer","innerOptionProps","_getOptionId","focus","optionToFocus","checkedOption","filter","elementToFocus","document","getElementById","onChanged","originalOption","selectedKey","optionsChecked","flexWrap","_textElement","isFocused","validateOnFocusIn","_validate","validateOnFocusOut","labelStyles","subComponentStyles","_onRenderDescription","description","_onInputChange","isSameValue","_lastChangeValue","persist","prevValue","_getValue","uncontrolledValue","_async","Async","_fallbackId","_descriptionId","COMPONENT_NAME","_warnControlledUsage","defaultValue","errorMessage","_delayedValidate","debounce","deferredValidationTime","_lastValidation","componentDidMount","_adjustInputHeight","validateOnLoad","componentWillUnmount","dispose","getSnapshotBeforeUpdate","selection","selectionStart","selectionEnd","snapshot","start","end","multiline","setSelectionRange","_shouldValidateAllChanges","borderless","inputClassName","underlined","prefix","resizable","suffix","autoAdjustHeight","onRenderPrefix","onRenderSuffix","onRenderDescription","_errorMessage","hasLabel","hasErrorMessage","wrapper","fieldGroup","_onRenderPrefix","_renderTextArea","_renderInput","icon","_onRenderSuffix","_isDescriptionAvailable","DelayedRender","current","blur","select","setSelectionStart","setSelectionEnd","_hasWarnedNullValue","style","textAreaProps","onInput","readOnly","inputProps","_latestValidateValue","onGetErrorMessage","then","_notifyAfterValidate","onNotifyValidationResult","textField","scrollHeight","globalClassNames","unresizable","active","getLabelStyles","neutralTertiary","marginRight","TextField","effects","fieldPrefixSuffix","background","disabledBackground","disabledText","inputPlaceholderText","padding","flexShrink","placeholderStyles","disabledPlaceholderStyles","borderBottom","errorText","inputBorder","borderBottomColor","inputFocusBorderAlt","roundedCorner2","inputBackground","flex","inputText","minWidth","textOverflow","resize","flexGrow","bodySubtext","xSmall","slideDownIn20","small","HEX_REGEX","RGBA_REGEX","hsv2rgb","s","rgb","hh","abs","round","clamp","max","min","rgb2hex","_rgbToPaddedHex","join","num","hex","getFullColorString","hsv2hex","_rgbaOrHexString","updateSV","str","_disposables","_root","_isAdjustingSaturation","_onKeyDown","increment","shiftKey","which","KeyCodes","up","down","_updateColor","_onMouseDown","on","_onMouseMove","_disposeListeners","newColor","prevColor","rectSize","getBoundingClientRect","sPercentage","clientX","vPercentage","clientY","_getNewColor","minSize","ariaValueFormat","ariaDescription","valueText","tabIndex","onMouseDown","onKeyDown","light","dark","thumb","oldColor","defaultPrevented","preventDefault","ColorRectangle","marginBottom","MsHighContrastAdjust","neutralSecondaryAlt","boxShadow","elevation8","white","maxValue","_maxValue","home","_updateValue","win","getWindow","currentPercentage","warnDeprecations","thumbColor","overlayStyle","isAlpha","minValue","_type","overlayColor","sliderOverlay","sliderThumb","hueStyle","alphaStyle","backgroundImage","ColorSlider","neutralLight","useAlphaBackground","cssColor","easyColor","_rgba","_hex6","_hex3","hasAlpha","expectedPartCount","parts","split","rgba","hsv","hsl2hsv","hsl2rgb","_hsla","elem","createElement","body","appendChild","eComputedStyle","getComputedStyle","computedColor","removeChild","trim","_browserCompute","getColorFromRGBA","NaN","delta","getColorFromString","inputColor","updateA","updateT","allColorComponents","_onSVChanged","_onHChanged","updateH","_onATChanged","updater","alphaType","editingColor","isHex","isTransparency","minLength","substring","correctRGB","strings","hexLabel","redLabel","greenLabel","blueLabel","alphaLabel","alphaSliderHidden","hue","_getColorFromProps","_textChangeHandlers","_onTextChange","bind","defaultStrings","ColorPickerBase","_textLabels","red","green","blue","alpha","transparency","_strings","alphaAriaLabel","transparencyAriaLabel","textLabels","useTransparency","colorComponents","atValue","atLabel","selectedColorAriaParts","rootAriaLabelFormat","panel","svAriaLabel","svAriaDescription","svAriaValueFormat","colorRectangle","flexSlider","hueAriaLabel","showPreview","flexPreviewBox","colorSquare","table","cellPadding","cellSpacing","tableHeader","tableHexCell","tableAlphaCell","comp","_getDisplayValue","spellCheck","autoComplete","substr","DayOfWeek","MonthOfYear","FirstWeekOfYear","DateRangeType","tableLayout","td","FORMAT_ARGS_REGEX","FORMAT_REGEX","format","replaceFunc","replacement","MillisecondsInOneDay","MillisecondsIn1Sec","MillisecondsIn1Min","MillisecondsIn30Mins","MillisecondsIn1Hour","MinutesInOneDay","MinutesInOneHour","DaysInOneWeek","MonthInOneYear","addDays","date","days","setDate","getDate","addWeeks","weeks","addMonths","months","newMonth","getMonth","setMonth","addYears","years","setFullYear","getFullYear","getMonthStart","getMonthEnd","month","compareDates","date1","date2","compareDatePart","getDatePartHashValue","getDateRangeArray","dateRangeType","firstDayOfWeek","workWeekDays","daysToSelectInDayView","startDate","datesArray","endDate","Monday","Tuesday","Wednesday","Thursday","Friday","Day","getDatePart","Week","WorkWeek","daysOffset","getDay","getStartDateOfWeek","Month","assertNever","nextDate","indexOf","isInDateRangeArray","dateRange","getWeekNumbersInMonth","weeksInMonth","firstWeekOfYear","navigatedDate","selectedYear","selectedMonth","dayOfMonth","fistDayOfMonth","endOfFirstWeek","dateWeekDay","Sunday","adjustWeekDay","endOfWeekRange","weeksArray","getWeekNumber","FirstFullWeek","getWeekOfYearFullDays","FirstFourDayWeek","getDayOfYear","num3","getFirstDayWeekOfYear","numberOfFullDays","dayOfYear","daysInYear","December","num2","year","daysUntilDate","daysInMonth","picker","holder","pickerIsOpened","wrap","goTodaySpacing","dayPicker","header","divider","monthAndYear","decade","currentYear","currentDecade","dayWrapper","weekday","daySelection","dayIsToday","dayIsDisabled","dayIsUnfocused","dayIsFocused","dayIsHighlighted","pickerIsFocused","dayDisabled","dayBackground","dayHover","dayPress","weekBackground","weekIsHighlighted","showWeekNumbersRTL","monthComponents","yearComponents","decadeComponents","closeButton","prevMonth","nextMonth","prevYear","nextYear","prevDecade","nextDecade","prevMonthIsDisabled","nextMonthIsDisabled","prevYearIsDisabled","nextYearIsDisabled","prevDecadeIsDisabled","nextDecadeIsDisabled","headerToggleView","optionGrid","monthOption","yearOption","isHighlighted","monthOptionIsDisabled","yearOptionIsDisabled","goToday","goToTodayIsDisabled","goTodayInlineMonth","isPickingYears","monthPicker","yearPicker","monthPickerVisible","toggleMonthView","calendarsInline","monthPickerAsOverlay","holderWithButton","monthIsHighlighted","monthIsCurrentMonth","yearIsHighlighted","yearIsCurrentYear","topLeftCornerDate","topRightCornerDate","bottomLeftCornerDate","bottomRightCornerDate","weekSelection","monthSelection","topDate","rightDate","bottomDate","leftdate","enter","space","_onDayKeyDown","originalDate","weekIndex","dayIndex","_onSelectDate","_navigateMonthEdge","_onDayMouseDown","_applyFunctionToDayRefs","day","isInBounds","classList","dayWeekIndex","_onDayMouseUp","_onDayMouseOver","_onDayMouseLeave","_onTableMouseLeave","contains","relatedTarget","_onTableMouseUp","selectedDate","onSelectDate","autoNavigateOnSelection","minDate","maxDate","stopPropagation","_getBoundedDateRange","_getIsRestrictedDate","compareResult","_onSelectPrevMonth","_onSelectNextMonth","onNavigateDate","_onClose","onDismiss","_onHeaderSelect","onHeaderSelect","_onHeaderKeyDown","_onPrevMonthKeyDown","_onNextMonthKeyDown","_onCloseButtonKeyDown","activeDescendantId","_getWeeks","UNSAFE_componentWillReceiveProps","nextProps","navigationIcons","showWeekNumbers","dateTimeFormatter","showCloseButton","allFocusable","dayPickerId","monthAndYearId","leftNavigationIcon","leftNavigation","rightNavigationIcon","rightNavigation","closeNavigationIcon","closeIcon","weekNumbers","selectedDateWeekNumber","weekCorners","_getWeekCornerStyles","prevMonthInBounds","nextMonthInBounds","onClick","formatMonthYear","navContainer","title","prevMonthAriaLabel","iconName","nextMonthAriaLabel","closeButtonAriaLabel","FocusZone","shortDays","onMouseLeave","onMouseUp","week","weekNumberFormatString","isNavigatedDate","onSelected","_getHighlightedCornerStyle","isSelected","isInMonth","_setDayCellRef","onMouseOver","isToday","formatMonthDayYear","_setDayRef","formatDay","navigatedDay","weekCornersStyled","above","below","roundedTopRight","roundedBottomLeft","roundedBottomRight","minIndex","item","_findLastIndex","leftStyle","rightStyle","targetDate","DAYS_IN_WEEK","propsToUse","today","showSixWeeksByDefault","todaysDate","isAllDaysOfWeekOutOfMonth","selectedDates","shouldGetWeeks","dayInfo","restrictedDates","rd","boundedDateRange","items","DefaultCalendarYearStrings","prevRangeAriaLabel","nextRangeAriaLabel","DefaultNavigationIcons","_buttonRef","_onRenderYear","onRenderYear","_onClick","onSelectYear","selected","_selectedCellRef","_currentCellRef","_renderCell","minYear","maxYear","fromYear","toYear","cells","_onSelectPrev","isDisabled","onSelectPrev","iconStrings","prevRange","prevAriaLabel","_onSelectNext","onSelectNext","nextRange","nextAriaLabel","rangeAriaLabel","_onRenderTitle","onRenderTitle","_onRenderNav","_gridRef","_onNavNext","_onNavPrev","_renderHeader","_renderGrid","_calculateInitialStateFromProps","navigatedYear","rangeYear","_navigatedMonthRef","_onCalendarYearRef","_calendarYearRef","_onSelectYear","_focusOnUpdate","newNavigationDate","isYearPickerVisible","_yearToString","yearFormattingDate","formatYear","_yearRangeToString","yearRange","_yearRangeToNextDecadeLabel","nextYearRangeAriaLabel","_yearRangeToPrevDecadeLabel","prevYearRangeAriaLabel","_onSelectNextYear","_onSelectNextYearKeyDown","_onSelectPrevYear","_onSelectPrevYearKeyDown","_onSelectMonthKeyDown","_onSelectMonth","yearPickerHidden","_onYearPickerHeaderSelect","_selectMonthCallbacks","shortMonths","_isCurrentMonth","highlightCurrentMonth","highlightSelectedMonth","currentSelectedDate","rowIndexes","isPrevYearInBounds","isNextYearInBounds","getYearEnd","prevYearAriaLabel","nextYearAriaLabel","rowNum","monthsForRow","monthIndex","indexedMonth","isCurrentMonth","isNavigatedMonth","isSelectedMonth","isSelectedYear","defaultWorkWeekDays","dateTimeFormatterCallbacks","_dayPicker","_monthPicker","_navigateDayPickerDay","navigatedDayDate","navigatedMonthDate","_navigateMonthPickerDay","_onNavigateDayDate","focusOnNavigatedDay","_onNavigateMonthDate","showMonthPickerAsOverlay","isDayPickerVisible","selectedDateRangeArray","isMonthPickerVisible","_onGotoToday","selectDateOnClick","dates","_onGotoTodayClick","_onGotoTodayKeyDown","_onDatePickerPopupKeyDown","backspace","escape","_handleEscKey","currentDate","showGoToToday","monthPickerOnly","overlayedWithButton","goTodayEnabled","frame","componentRef","goToToday","FirstDay","DEFAULT_STRINGS","_calendar","_datePickerDiv","_textField","formatDate","calendarProps","formattedDate","_calendarDismissed","_onCalloutPositioned","shouldFocus","calloutProps","setInitialFocus","_onTextFieldFocus","disableAutoFocus","allowTextInput","_preventFocusOpeningPicker","_showDatePickerPopup","_onTextFieldBlur","_validateTextInput","_onTextFieldChanged","isDatePickerShown","_dismissDatePickerPopup","isRequired","isRequiredErrorMessage","_onTextFieldKeyDown","_onTextFieldClick","_onIconClick","parseDateFromString","inputValue","invalidInputErrorMessage","_isDateOutOfBounds","isOutOfBoundsErrorMessage","_getDefaultState","_setErrorMessage","onAfterMenuDismiss","initialPickerDate","pickerAriaLabel","placeholder","calendarAs","calloutId","textFieldProps","_getErrorMessage","Callout","isBeakVisible","gapSpace","doNotLayer","directionalHint","DirectionalHint","bottomLeftEdge","callout","onPositioned","FocusTrapZone","isClickableOutsideFocusTrap","disableFirstFocus","forceFocusInsideTrap","CalendarType","reset","toDateString","dateStr","parse","withLabel","withoutLabel","UNWANTED_CHARS_REGEX","DatePickerIcon","mediumPlus","PHONENUMBER_REGEX","MULTIPLE_WHITESPACES_REGEX","UNSUPPORTED_TEXT_REGEX","getInitials","displayName","isRtl","allowPhoneInitials","cleanupDisplayName","initials","splits","charAt","toUpperCase","getInitialsLatin","SelectionMode","SelectionDirection","onSelectionChanged","getKey","canSelectItem","selectionMode","mode","_getKey","defaultGetKey","_changeEventSuppressionCount","_exemptedCount","_anchoredIndex","_unselectableCount","_onSelectionChanged","_canSelectItem","_isModal","setItems","count","getSelectedCount","setChangeEvents","isEnabled","suppressChange","_hasChanged","_change","isModal","setModal","setAllSelected","shouldClear","newKeyToIndexMap","newUnselectableIndices","hasSelectionChanged","_setAllSelected","newExemptedIndicies","newExemptedCount","indexProperty","_exemptedIndices","exemptKey","_items","newIndex","_isAllSelected","_keyToIndexMap","_unselectableIndices","_selectedItems","_updateCount","getItems","getSelection","isIndexSelected","getSelectedIndices","_selectedIndices","isRangeSelected","fromIndex","endIndex","isAllSelected","selectableCount","single","isKeySelected","setKeySelected","shouldAnchor","setIndexSelected","none","isExempt","selectToKey","clearSelection","selectToIndex","anchorIndex","startIndex","toggleAllSelected","toggleKeySelected","toggleIndexSelected","toggleRangeSelected","preserveModalState","EventGroup","raise","SuggestionActionType","ignoreNextFocus","_handleNextFocus","_onSelectionChange","_onMouseDownCapture","activeElement","elementContains","_hasAttribute","getParent","isToggleModifierPressed","_isCtrlPressed","_isMetaPressed","_getSelectionMode","_shouldHandleFocus","isToggle","itemRoot","_findItemRoot","_getItemIndex","enterModalOnTouch","_isTouch","_setIsTouch","isSelectedOnFocus","_onItemSurfaceClick","_updateModifiers","_isSelectionDisabled","_shouldAutoSelect","_isShiftPressed","_onInvokeMouseDown","disableAutoSelectOnInputElements","tagName","_onTouchStartCapture","enableTouchInvocationTarget","isSelectionDisabled","_onToggleAllClick","_onToggleClick","_onInvokeClick","_onContextMenu","onItemContextMenu","nativeEvent","_onDoubleClick","onItemInvoked","_isInputElement","_onKeyDownCapture","isSelectAllKey","isClearSelectionKey","_events","getDerivedStateFromProps","_findScrollParentAndTryClearOnEmptyClick","onKeyDownCapture","onDoubleClick","onContextMenu","onMouseDownCapture","onFocusCapture","previousProps","off","_isTabPressed","_clearAndSelectIndex","scrollParent","_tryClearOnEmptyClick","Node","selectionPreservedOnEmptyClick","_isNonHandledClick","ctrlKey","metaKey","keyCode","tab","indexValue","getAttribute","attributeName","doc","getDocument","documentElement","handleFocus","_shouldHandleFocusTimeoutId","isTouch","_isTouchTimeoutId","Root","screenReaderText","Announced","suggestionsItem","suggestionsItemIsSuggested","itemButton","actionButton","buttonSelected","suggestionsTitle","suggestionsContainer","suggestionsNone","suggestionsSpinner","legacyStyles","suggestionModel","RenderSuggestion","onRemoveItem","isSelectedOverride","removeButtonAriaLabel","suggested","CommandButton","showRemoveButton","IconButton","SuggestionsItemGlobalClassNames","isSuggested","StyledSuggestionsItem","menuItemBackgroundHovered","menuItemTextHovered","menuItemBackgroundPressed","menuDivider","neutralTertiaryAlt","suggestionsProps","_forceResolveButton","_searchForMoreButton","_selectedElement","tryHandleKeyDown","currentSuggestionIndex","isEventHandled","newSelectedActionType","currentSelectedAction","selectedActionType","suggestionLength","suggestions","forceResolve","_refocusOnSuggestions","searchMore","_getAlertText","isLoading","isSearching","suggestionsAvailableAlertText","noResultsFoundText","_getMoreResults","onGetMoreResults","_forceResolve","createGenericItem","_shouldShowForceResolve","showForceResolve","_onClickTypedSuggestionsItem","onSuggestionClick","refocusSuggestions","_onRemoveTypedSuggestionsItem","onSuggestionRemove","scrollSelected","activeSelectedElement","forceResolveText","mostRecentlyUsedHeaderText","searchForMoreText","moreSuggestionsAvailable","loadingText","onRenderNoResultFound","searchingText","isMostRecentlyUsedVisible","resultsMaximumNumber","resultsFooterFull","resultsFooter","isResultsFooterVisible","suggestionsHeaderText","suggestionsClassName","suggestionsListId","forceResolveButtonSelected","searchForMoreButtonSelected","searchForMoreButton","forceResolveButton","suggestionsAvailable","noSuggestions","spinnerStyles","spinner","spinnerClassNameOrStyles","noResults","headerText","footerTitle","hasNoSuggestions","Spinner","_renderSuggestions","hasSuggestedAction","hasSuggestedActionSelected","executeSelectedAction","focusAboveSuggestions","focusBelowSuggestions","focusSearchForMoreButton","scrollIntoView","onRenderSuggestion","removeSuggestionAriaLabel","suggestionsItemClassName","showRemoveButtons","suggestionsContainerAriaLabel","StyledTypedSuggestionsItem","selectedIndex","suggestion","actionButtonStyles","borderTop","themeLight","actionButtonSelectedStyles","overflowY","overflowX","maxHeight","themePrimary","circle","ValidationState","_isSuggestionModel","_ensureSuggestionModel","primaryText","currentIndex","updateSuggestions","newSuggestions","convertSuggestionsToSuggestionItems","currentSuggestion","nextSuggestion","setSelectedSuggestion","previousSuggestion","getSuggestions","getCurrentItem","getSuggestionAtIndex","hasSelectedSuggestion","removeSuggestion","createGenericSuggestion","itemToConvert","itemToAdd","deselectAllSuggestions","isIE11","navigator","userAgent","_inputElement","_autoFillEnabled","_isComposing","_onCompositionStart","_onCompositionUpdate","_getCurrentInputValue","_onCompositionEnd","_tryEnableAutofill","_value","isComposing","displayValue","enableAutofillOnKeyPress","_onInputChanged","nativeEventComposing","_onChanged","composing","onInputChange","suggestedDisplayValue","_notifyInputChange","defaultVisibleValue","inputElement","selectionDirection","updateValueInWillReceiveProps","updatedInputValue","newDisplayValue","shouldSelectFullInputValueInComponentDidUpdate","differenceIndex","preventValueSelection","_doesTextStartWith","shouldSelectFullRange","toLocaleLowerCase","autoCapitalize","onCompositionStart","onCompositionUpdate","onCompositionEnd","oldValue","isComposed","onInputValueChange","startWith","pickerText","inputFocused","pickerInput","pickerItems","screenReaderOnly","PersonaSize","PersonaPresence","PersonaInitialsColor","personaSize","personaPresenceSize","basePickerProps","suggestionsType","focusZone","suggestionElement","SuggestionOfProperType","_styledSuggestions","_requestSuggestionsOnClick","dismissSuggestions","selectItemFunction","suggestionStore","canAddItems","addItemByIndex","currentPromise","suggestionsVisible","resetFocus","updateValue","onRemoveSuggestion","onInputFocus","onEmptyResolveSuggestions","onEmptyInputFocus","onInputBlur","button","emptyResolveSuggestions","updateSuggestionsList","_onResolveSuggestions","completeSuggestion","_completeGenericSuggestion","onBackspace","del","forceUpdate","onSuggestionSelect","onItemChange","changedItem","newItems","_updateSelectedItems","suggestionsArray","suggestionsPromiseLike","completeSelection","addItem","processedItem","onItemSelected","processedItemObject","processedItemPromiseLike","resolvedProcessedItem","removeItem","focusNextItem","removeItems","itemsToRemove","firstItemToRemove","_shouldFocusZoneEnterInnerZone","updatedValue","onResolveSuggestions","onValidateInput","invalid","selectedItems","defaultSelectedItems","_ariaMap","selectedSuggestionAlert","suggestionList","SuggestionsController","selectedIndices","UNSAFE_componentWillUpdate","newProps","newState","resolveDelay","focusInput","forceComplete","selectedSuggestionAlertId","enableSelectedSuggestionAlert","itemsWrapper","direction","bidirectional","shouldEnterInnerZone","getSuggestionsAlert","renderItems","getActiveDescendant","renderSuggestions","itemLimit","StyledTypedSuggestions","directionalHintForRTL","bottomRightEdge","pickerCalloutProps","onRenderSuggestionsItem","suggestionsLoading","pickerSuggestionsProps","onRenderItem","newEl","querySelectorAll","focusElement","itemValue","_getTextFromItem","onSelectionChange","_updateAndResolveValue","_getShowSuggestions","resolveNewValue","isValueSelected","cursorLocation","suggestionAlertClassName","selectedSuggestion","selectedSuggestionAlertText","focusIndex","_onSelectedItemsUpdated","getTextFromItem","isCircularNavigation","size8","size10","size16","size24","size28","size32","size40","size48","size56","size72","size100","size120","size6","size12","size20","isSize8","isSize10","tiny","isSize16","isSize24","extraExtraSmall","isSize28","extraSmall","isSize32","isSize40","isSize48","regular","isSize56","isSize72","large","isSize100","extraLarge","isSize120","sizeToPixels","presence","isAvailable","online","isAway","away","isBlocked","blocked","isBusy","busy","isDoNotDisturb","dnd","isOffline","offline","cacheSize","_onRenderIcon","determineIcon","isOutOfOffice","coinSize","presenceTitle","presenceColors","renderIcon","presenceHeightWidth","presenceMaxSize","coinSizeWithPresenceIconStyle","presenceFontMaxSize","coinSizeWithPresenceStyle","presenceIcon","makeOpenCircleIconStyle","makeBeforeBorderStyle","borderSize","makeSizeStyle","presenceColorAvailable","available","presenceColorAway","presenceColorBusy","presenceColorDnd","presenceColorOffline","presenceColorOof","oof","presenceColorBackground","isOpenCirclePresence","backgroundClip","COLOR_SWATCHES_LOOKUP","lightBlue","darkBlue","teal","darkGreen","lightPink","pink","magenta","purple","orange","lightRed","darkRed","violet","gold","burgundy","warmGray","cyan","rust","coolGray","COLOR_SWATCHES_NUM_ENTRIES","getPersonaInitialsColor","initialsColor","personaInitialsColor","lightGreen","transparent","black","gray","personaInitialsColorToHexCode","hashCode","iLen","ch","shift","getInitialsColorFromName","_onRenderCoin","imageUrl","imageShouldFadeIn","imageShouldStartVisible","showUnknownPersonaCoin","dimension","image","imageFit","cover","shouldFadeIn","shouldStartVisible","onLoadingStateChange","_onPhotoLoadingStateChange","_onRenderInitials","imageInitials","isRTL","_getText","loadState","isImageLoaded","loaded","isImageError","onPhotoLoadingStateChange","coinProps","onRenderCoin","onRenderPersonaCoin","onRenderInitials","showInitialsUntilImageLoads","divCoinProps","coinSizeStyle","hideImage","personaPresenceProps","shouldRenderInitials","coin","imageArea","size10WithoutPresenceIcon","PersonaCoin","perspective","semibold","xLarge","xxLarge","superLarge","_onRenderPersonaCoin","_onRenderPrimaryText","_onRenderText","_onRenderSecondaryText","secondaryText","_onRenderTertiaryText","tertiaryText","_onRenderOptionalText","optionalText","hidePersonaDetails","onRenderOptionalText","onRenderPrimaryText","onRenderSecondaryText","onRenderTertiaryText","showSecondaryText","personaCoinProps","personaDetails","details","_renderElement","renderFunction","defaultRenderFunction","dir","TooltipHost","overflowMode","Parent","topLeftEdge","doNotDisturb","textContent","Persona","sharedTextStyles","inputTextHovered","itemContent","removeButton","isInvalid","PeoplePickerItem","itemId","warning","personaStyles","persona","personaCoinStyles","personaCoin","personaPrimaryTextStyles","redDark","personaCoinInitialsStyles","inset","themeDarker","msButtonIcon","buttonText","personaWrapper","PeoplePickerItemSuggestion","personaProps","compact","textSelectorsStyles","alignSelf","currentValidationState","personaToConvert","RatingSize","rootIsSmall","rootIsLarge","ratingStar","ratingStarBack","ratingStarFront","ratingButton","ratingStarIsSmall","ratingStartIsLarge","labelText","ratingFocusZone","_getColorWithHighContrast","highContrastColor","fillPercentage","_min","allowZeroStars","rating","_getInitialValue","getAriaLabel","unselectedIcon","stars","starIds","_getRating","_getFillingPercentage","ratingStarProps","_getStarId","ratingStarIsLarge","Large","ceil","_getLabel","readOnlyProps","allowFocusRoot","horizontal","defaultActiveElement","ariaLabelFormat","_getClampedRating","starPosition","ceilValue","ratingStarUncheckedColor","ratingStarUncheckedHoverColor","ratingStarUncheckedHoverSelectedColor","ratingStarCheckedColor","ratingStarDisabledColor","ratingSmallIconSize","ratingLargeIconSize","ratingVerticalPadding","_sliderLine","_thumb","_onKeyDownTimer","_getAriaValueText","ariaValueText","_onMouseDownOrTouchStart","_onMouseMoveOrTouchMove","_onMouseUpOrTouchEnd","suppressEventCancelation","currentSteps","renderedValue","step","steps","sliderPositionRect","stepLength","vertical","_getPosition","diff","_clearOnKeyDownTimer","_setOnKeyDownTimer","warnMutuallyExclusive","showValue","buttonProps","valueFormat","originFromZero","thumbOffsetPercent","zeroOffsetPercent","lengthString","onMouseDownProp","onTouchStartProp","onTouchStart","onKeyDownProp","showTransitions","divButtonProps","titleLabel","container","slideBox","line","zeroTick","_getStyleUsingOffsetPercent","lineContainer","inactiveSection","activeSection","valueLabel","currentPosition","touches","snapToStep","numDec","isFinite","pow","roundedValue","toFixed","valueChanged","enabled","row","column","titleLabelClassName","pressedActiveSectionColor","inputBackgroundCheckedHovered","hoveredActiveSectionColor","hoveredPressedinactiveSectionColor","inputPlaceholderBackgroundChecked","restActiveSectionColor","smallInputBorder","restInactiveSectionColor","disabledBorder","disabledActiveSectionColor","disabledInactiveSectionColor","thumbBackgroundColor","thumbBorderColor","thumbDisabledBorderColor","slideBoxActiveSectionStyles","slideBoxInactiveSectionStyles","slideHoverSectionStyles","slideBoxActiveThumbStyles","slideBoxActiveZeroTickStyles","transition","durationValue3","easeFunction1","precisionRound","precision","base","exp","_getDisabledStyles","SpinButtonTextColorDisabled","SpinButtonBackgroundColorDisabled","getArrowButtonStyles","isUpArrow","customSpecificArrowStyles","ArrowButtonTextColor","ArrowButtonTextColorHovered","ArrowButtonTextColorPressed","ArrowButtonBackgroundHovered","buttonBackgroundHovered","ArrowButtonBackgroundPressed","buttonBackgroundPressed","defaultArrowButtonStyles","rootHovered","rootChecked","rootPressed","rootDisabled","marginLeft","customStyles","SpinButtonRootBorderColor","SpinButtonRootBackgroundColor","SpinButtonRootBorderColorHovered","SpinButtonRootBorderColorFocused","SpinButtonInputTextColor","SpinButtonInputTextColorSelected","SpinButtonInputBackgroundColorSelected","SpinButtonIconDisabledColor","defaultStyles","labelWrapperStart","float","labelWrapperEnd","labelWrapperTop","labelWrapperBottom","iconDisabled","labelDisabled","spinButtonWrapper","spinButtonWrapperTopBottom","spinButtonWrapperHovered","spinButtonWrapperFocused","spinButtonWrapperDisabled","DEFAULT_MIN_WIDTH","inputTextSelected","inputDisabled","arrowButtonsContainer","arrowButtonsContainerDisabled","keyboardSpinDirection","labelPosition","_getStyleForLabelBasedOnPosition","_getStyleForRootBasedOnPosition","arrowBox","KeyboardSpinDirection","_input","_initialStepDelay","_stepDelay","_spinningByMouse","notSpinning","_stop","_onValidate","onValidate","_defaultOnValidate","_calculatePrecision","groups","_lastValidValue","_onIncrement","onIncrement","_defaultOnIncrement","_precision","_onDecrement","onDecrement","_defaultOnDecrement","_valueToValidate","shouldSpin","stepDelay","stepFunction","_currentStepFunctionHandle","_handleKeyDown","spinDirection","_handleKeyUp","_onIncrementMouseDown","_onDecrementMouseDown","_inputId","incrementButtonIcon","incrementButtonAriaLabel","decrementButtonIcon","decrementButtonAriaLabel","ariaDescribedBy","upArrowButtonStyles","downArrowButtonStyles","ariaPositionInSet","ariaSetSize","ariaValueNow","keytipProps","iconButtonProps","getClassNames","KeytipData","keytipAttributes","onKeyUp","customUpArrowButtonStyles","customDownArrowButtonStyles","SpinButton","customizable","columnCount","ariaPosInSet","doNotContainWithinFocusZone","htmlProps","rowsOfItems","rows","rowIndex","cell","cellIndex","tableCell","shouldFocusCircularNavigate","focusedContainer","Grid","_onMouseEnter","onHover","onMouseEnter","onMouseMove","_onMouseLeave","cellDisabledStyle","cellIsSelectedStyle","getColorPickerGridCellButtonClassNames","variantClassName","iconClassName","menuIconClassName","expanded","isSplit","rootFocused","rootCheckedDisabled","rootCheckedHovered","rootCheckedPressed","_onRenderColorOption","colorOption","svg","viewBox","fill","cx","cy","idPrefix","onWheel","isWhite","_isWhiteCell","colorCell","cellHighContrastFocus","outlineColor","ColorPickerGridCell","buttonBorderHovered","buttonBorderChecked","buttonBorderCheckedHovered","buttonBorderIsWhite","calculatedBorderWidth","highContrastStyle","outlineOffset","navigationIdleDelay","_getItemsWithIndex","_onSwatchColorPickerBlur","onCellFocused","_cellFocused","_renderOption","getColorGridCellStyles","_onCellClick","_onGridCellHovered","_onGridCellFocused","cellShape","_onWheel","cellHeight","cellWidth","cellBorderWidth","focusOnHover","isNavigationIdle","currentTarget","targetElement","parentSelector","mouseLeaveParentSelector","elements","setActive","setNavigationTimeout","navigationIdleTimeoutId","async","onCellHovered","onColorChanged","selectedId","_getSelectedIndex","colorCells","cellMargin","DEFAULT_MASK_FORMAT_CHARS","borderCollapse","parseMask","mask","formatChars","maskCharData","escapedChars","maskChar","maskFormat","displayIndex","getMaskDisplay","maskDisplay","lastDisplayIndex","charData","nextChar","getRightFormatIndex","clearRange","selectionCount","insertString","newString","stringIndex","nextIndex","isStringInserted","_isFocused","_maskCharData","maskCursorPosition","_moveCursorOnMouseUp","_onMouseUp","_changeSelectionData","changeType","cursorPos","charsSelected","charCount","startPos","pastedString","isDel","clearNext","clearPrev","getLeftFormatIndex","enteredString","selectCount","_onPaste","onPaste","valueIndex","charDataIndex","testVal","_toggleButton","checkedProp","onAriaLabel","offAriaLabel","defaultChecked","offText","onText","inlineLabel","stateText","badAriaLabel","toggleNativeProps","onOffMissing","stateTextId","labelledById","ariaRole","RootType","hidden","pill","_noop","pillUncheckedBackground","pillCheckedBackground","pillCheckedHoveredBackground","thumbUncheckedHoveredBackground","pillCheckedDisabledBackground","thumbBackground","thumbCheckedBackground","inputForegroundChecked","thumbDisabledBackground","thumbCheckedDisabledBackground","pillBorderColor","pillBorderHoveredColor","pillBorderDisabledColor","textDisabledColor","order","wordBreak","DEFAULT_PILL_HEIGHT","getErrorMessage","mapFieldToTextField","FormikTextField","React.createElement","fieldProps","condition"],"mappings":"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","file":"static/js/3.38c260a4.chunk.js","sourcesContent":["import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n","var isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tObject.keys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tObject.keys(source).forEach(function(key) {\n\t\tif (!options.isMergeableObject(source[key]) || !target[key]) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = deepmerge(target[key], source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nexport default deepmerge_1;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n","import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n","import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n","import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n","import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n","import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n","import copyObject from './_copyObject.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nexport default baseAssign;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n","import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n","import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nexport default baseAssignIn;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n","import copyObject from './_copyObject.js';\nimport getSymbols from './_getSymbols.js';\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nexport default copySymbols;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import arrayPush from './_arrayPush.js';\nimport getPrototype from './_getPrototype.js';\nimport getSymbols from './_getSymbols.js';\nimport stubArray from './stubArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nexport default getSymbolsIn;\n","import copyObject from './_copyObject.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nexport default copySymbolsIn;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nexport default getAllKeysIn;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default baseIsMap;\n","import baseIsMap from './_baseIsMap.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nexport default isMap;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default baseIsSet;\n","import baseIsSet from './_baseIsSet.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nexport default isSet;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport baseAssignIn from './_baseAssignIn.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport copySymbolsIn from './_copySymbolsIn.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isMap from './isMap.js';\nimport isObject from './isObject.js';\nimport isSet from './isSet.js';\nimport keys from './keys.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nexport default clone;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n","import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n","import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import arrayMap from './_arrayMap.js';\nimport copyArray from './_copyArray.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\nimport stringToPath from './_stringToPath.js';\nimport toKey from './_toKey.js';\nimport toString from './toString.js';\n\n/**\n * Converts `value` to a property path array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {*} value The value to convert.\n * @returns {Array} Returns the new property path array.\n * @example\n *\n * _.toPath('a.b.c');\n * // => ['a', 'b', 'c']\n *\n * _.toPath('a[0].b.c');\n * // => ['a', '0', 'b', 'c']\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return arrayMap(value, toKey);\n  }\n  return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n}\n\nexport default toPath;\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nexport default cloneDeep;\n","import { FieldProps, getIn } from 'formik'\n\nexport type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>\n\nexport function getErrorMessage<T = any>({ field, form }: FieldProps<T>) {\n  const error = getIn(form.errors, field.name)\n  const touched = getIn(form.touched, field.name)\n\n  return touched ? error : undefined\n}\n\nexport function invokeAll(...callbacks: any[]) {\n  return () => {\n    for (const callback of callbacks) {\n      if (callback && typeof callback === 'function') {\n        callback()\n      }\n    }\n  }\n}\n\nexport function createFakeEvent({ name }: { name: string }) {\n  return { target: { name } }\n}\n","import * as React from 'react';\nimport { FormikContextType } from './types';\nimport invariant from 'tiny-warning';\n\nexport const FormikContext = React.createContext<FormikContextType<any>>(\n  undefined as any\n);\nexport const FormikProvider = FormikContext.Provider;\nexport const FormikConsumer = FormikContext.Consumer;\n\nexport function useFormikContext<Values>() {\n  const formik = React.useContext<FormikContextType<Values>>(FormikContext);\n\n  invariant(\n    !!formik,\n    `Formik context is undefined, please verify you are calling useFormikContext() as child of a <Formik> component.`\n  );\n\n  return formik;\n}\n","import * as React from 'react';\nimport isEqual from 'react-fast-compare';\nimport deepmerge from 'deepmerge';\nimport isPlainObject from 'lodash/isPlainObject';\nimport {\n  FormikConfig,\n  FormikErrors,\n  FormikState,\n  FormikTouched,\n  FormikValues,\n  FormikProps,\n  FieldMetaProps,\n  FieldHelperProps,\n  FieldInputProps,\n  FormikHelpers,\n} from './types';\nimport {\n  isFunction,\n  isString,\n  setIn,\n  isEmptyChildren,\n  isPromise,\n  setNestedObjectValues,\n  getActiveElement,\n  getIn,\n  isObject,\n} from './utils';\nimport { FormikProvider } from './FormikContext';\nimport invariant from 'tiny-warning';\nimport { LowPriority, unstable_runWithPriority } from 'scheduler';\n\ntype FormikMessage<Values> =\n  | { type: 'SUBMIT_ATTEMPT' }\n  | { type: 'SUBMIT_FAILURE' }\n  | { type: 'SUBMIT_SUCCESS' }\n  | { type: 'SET_ISVALIDATING'; payload: boolean }\n  | { type: 'SET_ISSUBMITTING'; payload: boolean }\n  | { type: 'SET_VALUES'; payload: Values }\n  | { type: 'SET_FIELD_VALUE'; payload: { field: string; value?: any } }\n  | { type: 'SET_FIELD_TOUCHED'; payload: { field: string; value?: boolean } }\n  | { type: 'SET_FIELD_ERROR'; payload: { field: string; value?: string } }\n  | { type: 'SET_TOUCHED'; payload: FormikTouched<Values> }\n  | { type: 'SET_ERRORS'; payload: FormikErrors<Values> }\n  | { type: 'SET_STATUS'; payload: any }\n  | {\n      type: 'SET_FORMIK_STATE';\n      payload: (s: FormikState<Values>) => FormikState<Values>;\n    }\n  | {\n      type: 'RESET_FORM';\n      payload: FormikState<Values>;\n    };\n\n// State reducer\nfunction formikReducer<Values>(\n  state: FormikState<Values>,\n  msg: FormikMessage<Values>\n) {\n  switch (msg.type) {\n    case 'SET_VALUES':\n      return { ...state, values: msg.payload };\n    case 'SET_TOUCHED':\n      return { ...state, touched: msg.payload };\n    case 'SET_ERRORS':\n      if (isEqual(state.errors, msg.payload)) {\n        return state;\n      }\n\n      return { ...state, errors: msg.payload };\n    case 'SET_STATUS':\n      return { ...state, status: msg.payload };\n    case 'SET_ISSUBMITTING':\n      return { ...state, isSubmitting: msg.payload };\n    case 'SET_ISVALIDATING':\n      return { ...state, isValidating: msg.payload };\n    case 'SET_FIELD_VALUE':\n      return {\n        ...state,\n        values: setIn(state.values, msg.payload.field, msg.payload.value),\n      };\n    case 'SET_FIELD_TOUCHED':\n      return {\n        ...state,\n        touched: setIn(state.touched, msg.payload.field, msg.payload.value),\n      };\n    case 'SET_FIELD_ERROR':\n      return {\n        ...state,\n        errors: setIn(state.errors, msg.payload.field, msg.payload.value),\n      };\n    case 'RESET_FORM':\n      return { ...state, ...msg.payload };\n    case 'SET_FORMIK_STATE':\n      return msg.payload(state);\n    case 'SUBMIT_ATTEMPT':\n      return {\n        ...state,\n        touched: setNestedObjectValues<FormikTouched<Values>>(\n          state.values,\n          true\n        ),\n        isSubmitting: true,\n        submitCount: state.submitCount + 1,\n      };\n    case 'SUBMIT_FAILURE':\n      return {\n        ...state,\n        isSubmitting: false,\n      };\n    case 'SUBMIT_SUCCESS':\n      return {\n        ...state,\n        isSubmitting: false,\n      };\n    default:\n      return state;\n  }\n}\n\n// Initial empty states // objects\nconst emptyErrors: FormikErrors<unknown> = {};\nconst emptyTouched: FormikTouched<unknown> = {};\n\n// This is an object that contains a map of all registered fields\n// and their validate functions\ninterface FieldRegistry {\n  [field: string]: {\n    validate: (value: any) => string | Promise<string> | undefined;\n  };\n}\n\nexport function useFormik<Values extends FormikValues = FormikValues>({\n  validateOnChange = true,\n  validateOnBlur = true,\n  validateOnMount = false,\n  isInitialValid,\n  enableReinitialize = false,\n  onSubmit,\n  ...rest\n}: FormikConfig<Values>) {\n  const props = {\n    validateOnChange,\n    validateOnBlur,\n    validateOnMount,\n    onSubmit,\n    ...rest,\n  };\n  const initialValues = React.useRef(props.initialValues);\n  const initialErrors = React.useRef(props.initialErrors || emptyErrors);\n  const initialTouched = React.useRef(props.initialTouched || emptyTouched);\n  const initialStatus = React.useRef(props.initialStatus);\n  const isMounted = React.useRef<boolean>(false);\n  const fieldRegistry = React.useRef<FieldRegistry>({});\n  React.useEffect(() => {\n    if (__DEV__) {\n      invariant(\n        typeof isInitialValid === 'undefined',\n        'isInitialValid has been deprecated and will be removed in future versions of Formik. Please use initialErrors or validateOnMount instead.'\n      );\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  React.useEffect(() => {\n    isMounted.current = true;\n\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const [state, dispatch] = React.useReducer<\n    React.Reducer<FormikState<Values>, FormikMessage<Values>>\n  >(formikReducer, {\n    values: props.initialValues,\n    errors: props.initialErrors || emptyErrors,\n    touched: props.initialTouched || emptyTouched,\n    status: props.initialStatus,\n    isSubmitting: false,\n    isValidating: false,\n    submitCount: 0,\n  });\n\n  const runValidateHandler = React.useCallback(\n    (values: Values, field?: string): Promise<FormikErrors<Values>> => {\n      return new Promise((resolve, reject) => {\n        const maybePromisedErrors = (props.validate as any)(values, field);\n        if (maybePromisedErrors == null) {\n          // use loose null check here on purpose\n          resolve(emptyErrors);\n        } else if (isPromise(maybePromisedErrors)) {\n          (maybePromisedErrors as Promise<any>).then(\n            errors => {\n              resolve(errors || emptyErrors);\n            },\n            actualException => {\n              if (process.env.NODE_ENV !== 'production') {\n                console.warn(\n                  `Warning: An unhandled error was caught during validation in <Formik validate />`,\n                  actualException\n                );\n              }\n\n              reject(actualException);\n            }\n          );\n        } else {\n          resolve(maybePromisedErrors);\n        }\n      });\n    },\n    [props.validate]\n  );\n\n  /**\n   * Run validation against a Yup schema and optionally run a function if successful\n   */\n  const runValidationSchema = React.useCallback(\n    (values: Values, field?: string): Promise<FormikErrors<Values>> => {\n      const validationSchema = props.validationSchema;\n      const schema = isFunction(validationSchema)\n        ? validationSchema(field)\n        : validationSchema;\n      const promise =\n        field && schema.validateAt\n          ? schema.validateAt(field, values)\n          : validateYupSchema(values, schema);\n      return new Promise((resolve, reject) => {\n        promise.then(\n          () => {\n            resolve(emptyErrors);\n          },\n          (err: any) => {\n            // Yup will throw a validation error if validation fails. We catch those and\n            // resolve them into Formik errors. We can sniff if something is a Yup error\n            // by checking error.name.\n            // @see https://github.com/jquense/yup#validationerrorerrors-string--arraystring-value-any-path-string\n            if (err.name === 'ValidationError') {\n              resolve(yupToFormErrors(err));\n            } else {\n              // We throw any other errors\n              if (process.env.NODE_ENV !== 'production') {\n                console.warn(\n                  `Warning: An unhandled error was caught during validation in <Formik validationSchema />`,\n                  err\n                );\n              }\n\n              reject(err);\n            }\n          }\n        );\n      });\n    },\n    [props.validationSchema]\n  );\n\n  const runSingleFieldLevelValidation = React.useCallback(\n    (field: string, value: void | string): Promise<string> => {\n      return new Promise(resolve =>\n        resolve(fieldRegistry.current[field].validate(value))\n      );\n    },\n    []\n  );\n\n  const runFieldLevelValidations = React.useCallback(\n    (values: Values): Promise<FormikErrors<Values>> => {\n      const fieldKeysWithValidation: string[] = Object.keys(\n        fieldRegistry.current\n      ).filter(f => isFunction(fieldRegistry.current[f].validate));\n\n      // Construct an array with all of the field validation functions\n      const fieldValidations: Promise<string>[] =\n        fieldKeysWithValidation.length > 0\n          ? fieldKeysWithValidation.map(f =>\n              runSingleFieldLevelValidation(f, getIn(values, f))\n            )\n          : [Promise.resolve('DO_NOT_DELETE_YOU_WILL_BE_FIRED')]; // use special case ;)\n\n      return Promise.all(fieldValidations).then((fieldErrorsList: string[]) =>\n        fieldErrorsList.reduce((prev, curr, index) => {\n          if (curr === 'DO_NOT_DELETE_YOU_WILL_BE_FIRED') {\n            return prev;\n          }\n          if (curr) {\n            prev = setIn(prev, fieldKeysWithValidation[index], curr);\n          }\n          return prev;\n        }, {})\n      );\n    },\n    [runSingleFieldLevelValidation]\n  );\n\n  // Run all validations and return the result\n  const runAllValidations = React.useCallback(\n    (values: Values) => {\n      return Promise.all([\n        runFieldLevelValidations(values),\n        props.validationSchema ? runValidationSchema(values) : {},\n        props.validate ? runValidateHandler(values) : {},\n      ]).then(([fieldErrors, schemaErrors, validateErrors]) => {\n        const combinedErrors = deepmerge.all<FormikErrors<Values>>(\n          [fieldErrors, schemaErrors, validateErrors],\n          { arrayMerge }\n        );\n        return combinedErrors;\n      });\n    },\n    [\n      props.validate,\n      props.validationSchema,\n      runFieldLevelValidations,\n      runValidateHandler,\n      runValidationSchema,\n    ]\n  );\n\n  // Run validations and dispatching the result as low-priority via rAF.\n  //\n  // The thinking is that validation as a result of onChange and onBlur\n  // should never block user input. Note: This method should never be called\n  // during the submission phase because validation prior to submission\n  // is actaully high-priority since we absolutely need to guarantee the\n  // form is valid before executing props.onSubmit.\n  const validateFormWithLowPriority = useEventCallback(\n    (values: Values = state.values) => {\n      return unstable_runWithPriority(LowPriority, () => {\n        return runAllValidations(values)\n          .then(combinedErrors => {\n            if (!!isMounted.current) {\n              dispatch({ type: 'SET_ERRORS', payload: combinedErrors });\n            }\n            return combinedErrors;\n          })\n          .catch(actualException => {\n            if (process.env.NODE_ENV !== 'production') {\n              // Users can throw during validate, however they have no way of handling their error on touch / blur. In low priority, we need to handle it\n              console.warn(\n                `Warning: An unhandled error was caught during low priority validation in <Formik validate />`,\n                actualException\n              );\n            }\n          });\n      });\n    }\n  );\n\n  // Run all validations methods and update state accordingly\n  const validateFormWithHighPriority = useEventCallback(\n    (values: Values = state.values) => {\n      dispatch({ type: 'SET_ISVALIDATING', payload: true });\n      return runAllValidations(values).then(combinedErrors => {\n        if (!!isMounted.current) {\n          dispatch({ type: 'SET_ISVALIDATING', payload: false });\n          if (!isEqual(state.errors, combinedErrors)) {\n            dispatch({ type: 'SET_ERRORS', payload: combinedErrors });\n          }\n        }\n        return combinedErrors;\n      });\n    }\n  );\n\n  React.useEffect(() => {\n    if (validateOnMount && isMounted.current === true) {\n      validateFormWithLowPriority(initialValues.current);\n    }\n  }, [validateOnMount, validateFormWithLowPriority]);\n\n  const resetForm = React.useCallback(\n    (nextState?: Partial<FormikState<Values>>) => {\n      const values =\n        nextState && nextState.values\n          ? nextState.values\n          : initialValues.current;\n      const errors =\n        nextState && nextState.errors\n          ? nextState.errors\n          : initialErrors.current\n          ? initialErrors.current\n          : props.initialErrors || {};\n      const touched =\n        nextState && nextState.touched\n          ? nextState.touched\n          : initialTouched.current\n          ? initialTouched.current\n          : props.initialTouched || {};\n      const status =\n        nextState && nextState.status\n          ? nextState.status\n          : initialStatus.current\n          ? initialStatus.current\n          : props.initialStatus;\n      initialValues.current = values;\n      initialErrors.current = errors;\n      initialTouched.current = touched;\n      initialStatus.current = status;\n\n      const dispatchFn = () => {\n        dispatch({\n          type: 'RESET_FORM',\n          payload: {\n            isSubmitting: !!nextState && !!nextState.isSubmitting,\n            errors,\n            touched,\n            status,\n            values,\n            isValidating: !!nextState && !!nextState.isValidating,\n            submitCount:\n              !!nextState &&\n              !!nextState.submitCount &&\n              typeof nextState.submitCount === 'number'\n                ? nextState.submitCount\n                : 0,\n          },\n        });\n      };\n\n      if (props.onReset) {\n        const maybePromisedOnReset = (props.onReset as any)(\n          state.values,\n          imperativeMethods\n        );\n\n        if (isPromise(maybePromisedOnReset)) {\n          (maybePromisedOnReset as Promise<any>).then(dispatchFn);\n        } else {\n          dispatchFn();\n        }\n      } else {\n        dispatchFn();\n      }\n    },\n    [props.initialErrors, props.initialStatus, props.initialTouched]\n  );\n\n  React.useEffect(() => {\n    if (!enableReinitialize) {\n      initialValues.current = props.initialValues;\n    }\n  }, [enableReinitialize, props.initialValues]);\n\n  React.useEffect(() => {\n    if (\n      enableReinitialize &&\n      isMounted.current === true &&\n      !isEqual(initialValues.current, props.initialValues)\n    ) {\n      initialValues.current = props.initialValues;\n      resetForm();\n    }\n  }, [enableReinitialize, props.initialValues, resetForm]);\n\n  React.useEffect(() => {\n    if (\n      enableReinitialize &&\n      isMounted.current === true &&\n      !isEqual(initialErrors.current, props.initialErrors)\n    ) {\n      initialErrors.current = props.initialErrors || emptyErrors;\n      dispatch({\n        type: 'SET_ERRORS',\n        payload: props.initialErrors || emptyErrors,\n      });\n    }\n  }, [enableReinitialize, props.initialErrors]);\n\n  React.useEffect(() => {\n    if (\n      enableReinitialize &&\n      isMounted.current === true &&\n      !isEqual(initialTouched.current, props.initialTouched)\n    ) {\n      initialTouched.current = props.initialTouched || emptyTouched;\n      dispatch({\n        type: 'SET_TOUCHED',\n        payload: props.initialTouched || emptyTouched,\n      });\n    }\n  }, [enableReinitialize, props.initialTouched]);\n\n  React.useEffect(() => {\n    if (\n      enableReinitialize &&\n      isMounted.current === true &&\n      !isEqual(initialStatus.current, props.initialStatus)\n    ) {\n      initialStatus.current = props.initialStatus;\n      dispatch({\n        type: 'SET_STATUS',\n        payload: props.initialStatus,\n      });\n    }\n  }, [enableReinitialize, props.initialStatus, props.initialTouched]);\n\n  const validateField = useEventCallback((name: string) => {\n    // This will efficiently validate a single field by avoiding state\n    // changes if the validation function is synchronous. It's different from\n    // what is called when using validateForm.\n\n    if (isFunction(fieldRegistry.current[name].validate)) {\n      const value = getIn(state.values, name);\n      const maybePromise = fieldRegistry.current[name].validate(value);\n      if (isPromise(maybePromise)) {\n        // Only flip isValidating if the function is async.\n        dispatch({ type: 'SET_ISVALIDATING', payload: true });\n        return maybePromise\n          .then((x: any) => x)\n          .then((error: string) => {\n            dispatch({\n              type: 'SET_FIELD_ERROR',\n              payload: { field: name, value: error },\n            });\n            dispatch({ type: 'SET_ISVALIDATING', payload: false });\n          });\n      } else {\n        dispatch({\n          type: 'SET_FIELD_ERROR',\n          payload: {\n            field: name,\n            value: maybePromise as string | undefined,\n          },\n        });\n        return Promise.resolve(maybePromise as string | undefined);\n      }\n    } else if (props.validationSchema) {\n      dispatch({ type: 'SET_ISVALIDATING', payload: true });\n      return runValidationSchema(state.values, name)\n        .then((x: any) => x)\n        .then((error: any) => {\n          dispatch({\n            type: 'SET_FIELD_ERROR',\n            payload: { field: name, value: error[name] },\n          });\n          dispatch({ type: 'SET_ISVALIDATING', payload: false });\n        });\n    }\n\n    return Promise.resolve();\n  });\n\n  const registerField = React.useCallback((name: string, { validate }: any) => {\n    fieldRegistry.current[name] = {\n      validate,\n    };\n  }, []);\n\n  const unregisterField = React.useCallback((name: string) => {\n    delete fieldRegistry.current[name];\n  }, []);\n\n  const setTouched = useEventCallback(\n    (touched: FormikTouched<Values>, shouldValidate?: boolean) => {\n      dispatch({ type: 'SET_TOUCHED', payload: touched });\n      const willValidate =\n        shouldValidate === undefined ? validateOnBlur : shouldValidate;\n      return willValidate\n        ? validateFormWithLowPriority(state.values)\n        : Promise.resolve();\n    }\n  );\n\n  const setErrors = React.useCallback((errors: FormikErrors<Values>) => {\n    dispatch({ type: 'SET_ERRORS', payload: errors });\n  }, []);\n\n  const setValues = useEventCallback(\n    (values: Values, shouldValidate?: boolean) => {\n      dispatch({ type: 'SET_VALUES', payload: values });\n      const willValidate =\n        shouldValidate === undefined ? validateOnChange : shouldValidate;\n      return willValidate\n        ? validateFormWithLowPriority(values)\n        : Promise.resolve();\n    }\n  );\n\n  const setFieldError = React.useCallback(\n    (field: string, value: string | undefined) => {\n      dispatch({\n        type: 'SET_FIELD_ERROR',\n        payload: { field, value },\n      });\n    },\n    []\n  );\n\n  const setFieldValue = useEventCallback(\n    (field: string, value: any, shouldValidate?: boolean) => {\n      dispatch({\n        type: 'SET_FIELD_VALUE',\n        payload: {\n          field,\n          value,\n        },\n      });\n      const willValidate =\n        shouldValidate === undefined ? validateOnChange : shouldValidate;\n      return willValidate\n        ? validateFormWithLowPriority(setIn(state.values, field, value))\n        : Promise.resolve();\n    }\n  );\n\n  const executeChange = React.useCallback(\n    (eventOrTextValue: string | React.ChangeEvent<any>, maybePath?: string) => {\n      // By default, assume that the first argument is a string. This allows us to use\n      // handleChange with React Native and React Native Web's onChangeText prop which\n      // provides just the value of the input.\n      let field = maybePath;\n      let val = eventOrTextValue;\n      let parsed;\n      // If the first argument is not a string though, it has to be a synthetic React Event (or a fake one),\n      // so we handle like we would a normal HTML change event.\n      if (!isString(eventOrTextValue)) {\n        // If we can, persist the event\n        // @see https://reactjs.org/docs/events.html#event-pooling\n        if ((eventOrTextValue as React.ChangeEvent<any>).persist) {\n          (eventOrTextValue as React.ChangeEvent<any>).persist();\n        }\n        const target = eventOrTextValue.target\n          ? (eventOrTextValue as React.ChangeEvent<any>).target\n          : (eventOrTextValue as React.ChangeEvent<any>).currentTarget;\n\n        const {\n          type,\n          name,\n          id,\n          value,\n          checked,\n          outerHTML,\n          options,\n          multiple,\n        } = target;\n\n        field = maybePath ? maybePath : name ? name : id;\n        if (!field && __DEV__) {\n          warnAboutMissingIdentifier({\n            htmlContent: outerHTML,\n            documentationAnchorLink: 'handlechange-e-reactchangeeventany--void',\n            handlerName: 'handleChange',\n          });\n        }\n        val = /number|range/.test(type)\n          ? ((parsed = parseFloat(value)), isNaN(parsed) ? '' : parsed)\n          : /checkbox/.test(type) // checkboxes\n          ? getValueForCheckbox(getIn(state.values, field!), checked, value)\n          : !!multiple // <select multiple>\n          ? getSelectedValues(options)\n          : value;\n      }\n\n      if (field) {\n        // Set form fields by name\n        setFieldValue(field, val);\n      }\n    },\n    [setFieldValue, state.values]\n  );\n\n  const handleChange = useEventCallback(\n    (\n      eventOrPath: string | React.ChangeEvent<any>\n    ): void | ((eventOrTextValue: string | React.ChangeEvent<any>) => void) => {\n      if (isString(eventOrPath)) {\n        return event => executeChange(event, eventOrPath);\n      } else {\n        executeChange(eventOrPath);\n      }\n    }\n  );\n\n  const setFieldTouched = useEventCallback(\n    (field: string, touched: boolean = true, shouldValidate?: boolean) => {\n      dispatch({\n        type: 'SET_FIELD_TOUCHED',\n        payload: {\n          field,\n          value: touched,\n        },\n      });\n      const willValidate =\n        shouldValidate === undefined ? validateOnBlur : shouldValidate;\n      return willValidate\n        ? validateFormWithLowPriority(state.values)\n        : Promise.resolve();\n    }\n  );\n\n  const executeBlur = React.useCallback(\n    (e: any, path?: string) => {\n      if (e.persist) {\n        e.persist();\n      }\n      const { name, id, outerHTML } = e.target;\n      const field = path ? path : name ? name : id;\n\n      if (!field && __DEV__) {\n        warnAboutMissingIdentifier({\n          htmlContent: outerHTML,\n          documentationAnchorLink: 'handleblur-e-any--void',\n          handlerName: 'handleBlur',\n        });\n      }\n\n      setFieldTouched(field, true);\n    },\n    [setFieldTouched]\n  );\n\n  const handleBlur = useEventCallback((eventOrString: any):\n    | void\n    | ((e: any) => void) => {\n    if (isString(eventOrString)) {\n      return event => executeBlur(event, eventOrString);\n    } else {\n      executeBlur(eventOrString);\n    }\n  });\n\n  const setFormikState = React.useCallback(\n    (\n      stateOrCb:\n        | FormikState<Values>\n        | ((state: FormikState<Values>) => FormikState<Values>)\n    ): void => {\n      if (isFunction(stateOrCb)) {\n        dispatch({ type: 'SET_FORMIK_STATE', payload: stateOrCb });\n      } else {\n        dispatch({ type: 'SET_FORMIK_STATE', payload: () => stateOrCb });\n      }\n    },\n    []\n  );\n\n  const setStatus = React.useCallback((status: any) => {\n    dispatch({ type: 'SET_STATUS', payload: status });\n  }, []);\n\n  const setSubmitting = React.useCallback((isSubmitting: boolean) => {\n    dispatch({ type: 'SET_ISSUBMITTING', payload: isSubmitting });\n  }, []);\n\n  const submitForm = useEventCallback(() => {\n    dispatch({ type: 'SUBMIT_ATTEMPT' });\n    return validateFormWithHighPriority().then(\n      (combinedErrors: FormikErrors<Values>) => {\n        // In case an error was thrown and passed to the resolved Promise,\n        // `combinedErrors` can be an instance of an Error. We need to check\n        // that and abort the submit.\n        // If we don't do that, calling `Object.keys(new Error())` yields an\n        // empty array, which causes the validation to pass and the form\n        // to be submitted.\n\n        const isInstanceOfError = combinedErrors instanceof Error;\n        const isActuallyValid =\n          !isInstanceOfError && Object.keys(combinedErrors).length === 0;\n        if (isActuallyValid) {\n          // Proceed with submit...\n          //\n          // To respect sync submit fns, we can't simply wrap executeSubmit in a promise and\n          // _always_ dispatch SUBMIT_SUCCESS because isSubmitting would then always be false.\n          // This would be fine in simple cases, but make it impossible to disable submit\n          // buttons where people use callbacks or promises as side effects (which is basically\n          // all of v1 Formik code). Instead, recall that we are inside of a promise chain already,\n          //  so we can try/catch executeSubmit(), if it returns undefined, then just bail.\n          // If there are errors, throw em. Otherwise, wrap executeSubmit in a promise and handle\n          // cleanup of isSubmitting on behalf of the consumer.\n          let promiseOrUndefined;\n          try {\n            promiseOrUndefined = executeSubmit();\n            // Bail if it's sync, consumer is responsible for cleaning up\n            // via setSubmitting(false)\n            if (promiseOrUndefined === undefined) {\n              return;\n            }\n          } catch (error) {\n            throw error;\n          }\n\n          return Promise.resolve(promiseOrUndefined)\n            .then(() => {\n              if (!!isMounted.current) {\n                dispatch({ type: 'SUBMIT_SUCCESS' });\n              }\n            })\n            .catch(_errors => {\n              if (!!isMounted.current) {\n                dispatch({ type: 'SUBMIT_FAILURE' });\n                // This is a legit error rejected by the onSubmit fn\n                // so we don't want to break the promise chain\n                throw _errors;\n              }\n            });\n        } else if (!!isMounted.current) {\n          // ^^^ Make sure Formik is still mounted before updating state\n          dispatch({ type: 'SUBMIT_FAILURE' });\n          // throw combinedErrors;\n          if (isInstanceOfError) {\n            throw combinedErrors;\n          }\n        }\n        return;\n      }\n    );\n  });\n\n  const handleSubmit = useEventCallback(\n    (e?: React.FormEvent<HTMLFormElement>) => {\n      if (e && e.preventDefault && isFunction(e.preventDefault)) {\n        e.preventDefault();\n      }\n\n      if (e && e.stopPropagation && isFunction(e.stopPropagation)) {\n        e.stopPropagation();\n      }\n\n      // Warn if form submission is triggered by a <button> without a\n      // specified `type` attribute during development. This mitigates\n      // a common gotcha in forms with both reset and submit buttons,\n      // where the dev forgets to add type=\"button\" to the reset button.\n      if (__DEV__ && typeof document !== 'undefined') {\n        // Safely get the active element (works with IE)\n        const activeElement = getActiveElement();\n        if (\n          activeElement !== null &&\n          activeElement instanceof HTMLButtonElement\n        ) {\n          invariant(\n            activeElement.attributes &&\n              activeElement.attributes.getNamedItem('type'),\n            'You submitted a Formik form using a button with an unspecified `type` attribute.  Most browsers default button elements to `type=\"submit\"`. If this is not a submit button, please add `type=\"button\"`.'\n          );\n        }\n      }\n\n      submitForm().catch(reason => {\n        console.warn(\n          `Warning: An unhandled error was caught from submitForm()`,\n          reason\n        );\n      });\n    }\n  );\n\n  const imperativeMethods: FormikHelpers<Values> = {\n    resetForm,\n\n    validateForm: validateFormWithHighPriority,\n    validateField,\n    setErrors,\n    setFieldError,\n    setFieldTouched,\n    setFieldValue,\n    setStatus,\n    setSubmitting,\n    setTouched,\n    setValues,\n    setFormikState,\n    submitForm,\n  };\n\n  const executeSubmit = useEventCallback(() => {\n    return onSubmit(state.values, imperativeMethods);\n  });\n\n  const handleReset = useEventCallback(e => {\n    if (e && e.preventDefault && isFunction(e.preventDefault)) {\n      e.preventDefault();\n    }\n\n    if (e && e.stopPropagation && isFunction(e.stopPropagation)) {\n      e.stopPropagation();\n    }\n\n    resetForm();\n  });\n\n  const getFieldMeta = React.useCallback(\n    (name: string): FieldMetaProps<any> => {\n      return {\n        value: getIn(state.values, name),\n        error: getIn(state.errors, name),\n        touched: !!getIn(state.touched, name),\n        initialValue: getIn(initialValues.current, name),\n        initialTouched: !!getIn(initialTouched.current, name),\n        initialError: getIn(initialErrors.current, name),\n      };\n    },\n    [state.errors, state.touched, state.values]\n  );\n\n  const getFieldHelpers = React.useCallback(\n    (name: string): FieldHelperProps<any> => {\n      return {\n        setValue: (value: any) => setFieldValue(name, value),\n        setTouched: (value: boolean) => setFieldTouched(name, value),\n        setError: (value: any) => setFieldError(name, value),\n      };\n    },\n    [setFieldValue, setFieldTouched, setFieldError]\n  );\n\n  const getFieldProps = React.useCallback(\n    (nameOrOptions): FieldInputProps<any> => {\n      const isAnObject = isObject(nameOrOptions);\n      const name = isAnObject ? nameOrOptions.name : nameOrOptions;\n      const valueState = getIn(state.values, name);\n\n      const field: FieldInputProps<any> = {\n        name,\n        value: valueState,\n        onChange: handleChange,\n        onBlur: handleBlur,\n      };\n      if (isAnObject) {\n        const {\n          type,\n          value: valueProp, // value is special for checkboxes\n          as: is,\n          multiple,\n        } = nameOrOptions;\n\n        if (type === 'checkbox') {\n          if (valueProp === undefined) {\n            field.checked = !!valueState;\n          } else {\n            field.checked = !!(\n              Array.isArray(valueState) && ~valueState.indexOf(valueProp)\n            );\n            field.value = valueProp;\n          }\n        } else if (type === 'radio') {\n          field.checked = valueState === valueProp;\n          field.value = valueProp;\n        } else if (is === 'select' && multiple) {\n          field.value = field.value || [];\n          field.multiple = true;\n        }\n      }\n      return field;\n    },\n    [handleBlur, handleChange, state.values]\n  );\n\n  const dirty = React.useMemo(\n    () => !isEqual(initialValues.current, state.values),\n    [initialValues.current, state.values]\n  );\n\n  const isValid = React.useMemo(\n    () =>\n      typeof isInitialValid !== 'undefined'\n        ? dirty\n          ? state.errors && Object.keys(state.errors).length === 0\n          : isInitialValid !== false && isFunction(isInitialValid)\n          ? (isInitialValid as (props: FormikConfig<Values>) => boolean)(props)\n          : (isInitialValid as boolean)\n        : state.errors && Object.keys(state.errors).length === 0,\n    [isInitialValid, dirty, state.errors, props]\n  );\n\n  const ctx = {\n    ...state,\n    initialValues: initialValues.current,\n    initialErrors: initialErrors.current,\n    initialTouched: initialTouched.current,\n    initialStatus: initialStatus.current,\n    handleBlur,\n    handleChange,\n    handleReset,\n    handleSubmit,\n    resetForm,\n    setErrors,\n    setFormikState,\n    setFieldTouched,\n    setFieldValue,\n    setFieldError,\n    setStatus,\n    setSubmitting,\n    setTouched,\n    setValues,\n    submitForm,\n    validateForm: validateFormWithHighPriority,\n    validateField,\n    isValid,\n    dirty,\n    unregisterField,\n    registerField,\n    getFieldProps,\n    getFieldMeta,\n    getFieldHelpers,\n    validateOnBlur,\n    validateOnChange,\n    validateOnMount,\n  };\n\n  return ctx;\n}\n\nexport function Formik<\n  Values extends FormikValues = FormikValues,\n  ExtraProps = {}\n>(props: FormikConfig<Values> & ExtraProps) {\n  const formikbag = useFormik<Values>(props);\n  const { component, children, render, innerRef } = props;\n\n  // This allows folks to pass a ref to <Formik />\n  React.useImperativeHandle(innerRef, () => formikbag);\n\n  React.useEffect(() => {\n    if (__DEV__) {\n      invariant(\n        !props.render,\n        `<Formik render> has been deprecated and will be removed in future versions of Formik. Please use a child callback function instead. To get rid of this warning, replace <Formik render={(props) => ...} /> with <Formik>{(props) => ...}</Formik>`\n      );\n    }\n    // eslint-disable-next-line\n  }, []);\n  return (\n    <FormikProvider value={formikbag}>\n      {component\n        ? React.createElement(component as any, formikbag)\n        : render\n        ? render(formikbag)\n        : children // children come last, always called\n        ? isFunction(children)\n          ? (children as (bag: FormikProps<Values>) => React.ReactNode)(\n              formikbag as FormikProps<Values>\n            )\n          : !isEmptyChildren(children)\n          ? React.Children.only(children)\n          : null\n        : null}\n    </FormikProvider>\n  );\n}\n\nfunction warnAboutMissingIdentifier({\n  htmlContent,\n  documentationAnchorLink,\n  handlerName,\n}: {\n  htmlContent: string;\n  documentationAnchorLink: string;\n  handlerName: string;\n}) {\n  console.warn(\n    `Warning: Formik called \\`${handlerName}\\`, but you forgot to pass an \\`id\\` or \\`name\\` attribute to your input:\n    ${htmlContent}\n    Formik cannot determine which value to update. For more info see https://github.com/jaredpalmer/formik#${documentationAnchorLink}\n  `\n  );\n}\n\n/**\n * Transform Yup ValidationError to a more usable object\n */\nexport function yupToFormErrors<Values>(yupError: any): FormikErrors<Values> {\n  let errors: FormikErrors<Values> = {};\n  if (yupError.inner) {\n    if (yupError.inner.length === 0) {\n      return setIn(errors, yupError.path, yupError.message);\n    }\n    for (let err of yupError.inner) {\n      if (!getIn(errors, err.path)) {\n        errors = setIn(errors, err.path, err.message);\n      }\n    }\n  }\n  return errors;\n}\n\n/**\n * Validate a yup schema.\n */\nexport function validateYupSchema<T extends FormikValues>(\n  values: T,\n  schema: any,\n  sync: boolean = false,\n  context: any = {}\n): Promise<Partial<T>> {\n  const validateData: FormikValues = prepareDataForValidation(values);\n  return schema[sync ? 'validateSync' : 'validate'](validateData, {\n    abortEarly: false,\n    context: context,\n  });\n}\n\n/**\n * Recursively prepare values.\n */\nexport function prepareDataForValidation<T extends FormikValues>(\n  values: T\n): FormikValues {\n  let data: FormikValues = {};\n  for (let k in values) {\n    if (Object.prototype.hasOwnProperty.call(values, k)) {\n      const key = String(k);\n      if (Array.isArray(values[key]) === true) {\n        data[key] = values[key].map((value: any) => {\n          if (Array.isArray(value) === true || isPlainObject(value)) {\n            return prepareDataForValidation(value);\n          } else {\n            return value !== '' ? value : undefined;\n          }\n        });\n      } else if (isPlainObject(values[key])) {\n        data[key] = prepareDataForValidation(values[key]);\n      } else {\n        data[key] = values[key] !== '' ? values[key] : undefined;\n      }\n    }\n  }\n  return data;\n}\n\n/**\n * deepmerge array merging algorithm\n * https://github.com/KyleAMathews/deepmerge#combine-array\n */\nfunction arrayMerge(target: any[], source: any[], options: any): any[] {\n  const destination = target.slice();\n\n  source.forEach(function(e: any, i: number) {\n    if (typeof destination[i] === 'undefined') {\n      const cloneRequested = options.clone !== false;\n      const shouldClone = cloneRequested && options.isMergeableObject(e);\n      destination[i] = shouldClone\n        ? deepmerge(Array.isArray(e) ? [] : {}, e, options)\n        : e;\n    } else if (options.isMergeableObject(e)) {\n      destination[i] = deepmerge(target[i], e, options);\n    } else if (target.indexOf(e) === -1) {\n      destination.push(e);\n    }\n  });\n  return destination;\n}\n\n/** Return multi select values based on an array of options */\nfunction getSelectedValues(options: any[]) {\n  return Array.from(options)\n    .filter(el => el.selected)\n    .map(el => el.value);\n}\n\n/** Return the next value for a checkbox */\nfunction getValueForCheckbox(\n  currentValue: string | any[],\n  checked: boolean,\n  valueProp: any\n) {\n  // If the current value was a boolean, return a boolean\n  if (typeof currentValue === 'boolean') {\n    return Boolean(checked);\n  }\n\n  // If the currentValue was not a boolean we want to return an array\n  let currentArrayOfValues = [];\n  let isValueInArray = false;\n  let index = -1;\n\n  if (!Array.isArray(currentValue)) {\n    // eslint-disable-next-line eqeqeq\n    if (!valueProp || valueProp == 'true' || valueProp == 'false') {\n      return Boolean(checked);\n    }\n  } else {\n    // If the current value is already an array, use it\n    currentArrayOfValues = currentValue;\n    index = currentValue.indexOf(valueProp);\n    isValueInArray = index >= 0;\n  }\n\n  // If the checkbox was checked and the value is not already present in the aray we want to add the new value to the array of values\n  if (checked && valueProp && !isValueInArray) {\n    return currentArrayOfValues.concat(valueProp);\n  }\n\n  // If the checkbox was unchecked and the value is not in the array, simply return the already existing array of values\n  if (!isValueInArray) {\n    return currentArrayOfValues;\n  }\n\n  // If the checkbox was unchecked and the value is in the array, remove the value and return the array\n  return currentArrayOfValues\n    .slice(0, index)\n    .concat(currentArrayOfValues.slice(index + 1));\n}\n\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\n// @see https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85\nconst useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' &&\n  typeof window.document !== 'undefined' &&\n  typeof window.document.createElement !== 'undefined'\n    ? React.useLayoutEffect\n    : React.useEffect;\n\nfunction useEventCallback<T extends (...args: any[]) => any>(fn: T): T {\n  const ref: any = React.useRef(fn);\n\n  // we copy a ref to the callback scoped to the current state/props on each render\n  useIsomorphicLayoutEffect(() => {\n    ref.current = fn;\n  });\n\n  return React.useCallback(\n    (...args: any[]) => ref.current.apply(void 0, args),\n    []\n  ) as T;\n}\n","import * as React from 'react';\nimport {\n  FormikProps,\n  GenericFieldHTMLAttributes,\n  FieldMetaProps,\n  FieldHelperProps,\n  FieldInputProps,\n  FieldValidator,\n} from './types';\nimport { useFormikContext } from './FormikContext';\nimport { isFunction, isEmptyChildren, isObject } from './utils';\nimport invariant from 'tiny-warning';\n\nexport interface FieldProps<V = any, FormValues = any> {\n  field: FieldInputProps<V>;\n  form: FormikProps<FormValues>; // if ppl want to restrict this for a given form, let them.\n  meta: FieldMetaProps<V>;\n}\n\nexport interface FieldConfig<V = any> {\n  /**\n   * Field component to render. Can either be a string like 'select' or a component.\n   */\n  component?:\n    | string\n    | React.ComponentType<FieldProps<V>>\n    | React.ComponentType\n    | React.ForwardRefExoticComponent<any>;\n\n  /**\n   * Component to render. Can either be a string e.g. 'select', 'input', or 'textarea', or a component.\n   */\n  as?:\n    | React.ComponentType<FieldProps<V>['field']>\n    | string\n    | React.ComponentType\n    | React.ForwardRefExoticComponent<any>;\n\n  /**\n   * Render prop (works like React router's <Route render={props =>} />)\n   * @deprecated\n   */\n  render?: (props: FieldProps<V>) => React.ReactNode;\n\n  /**\n   * Children render function <Field name>{props => ...}</Field>)\n   */\n  children?: ((props: FieldProps<V>) => React.ReactNode) | React.ReactNode;\n\n  /**\n   * Validate a single field value independently\n   */\n  validate?: FieldValidator;\n\n  /**\n   * Field name\n   */\n  name: string;\n\n  /** HTML input type */\n  type?: string;\n\n  /** Field value */\n  value?: any;\n\n  /** Inner ref */\n  innerRef?: (instance: any) => void;\n}\n\nexport type FieldAttributes<T> = GenericFieldHTMLAttributes &\n  FieldConfig<T> &\n  T & { name: string };\n\nexport type FieldHookConfig<T> = GenericFieldHTMLAttributes & FieldConfig<T>;\n\nexport function useField<Val = any>(\n  propsOrFieldName: string | FieldHookConfig<Val>\n): [FieldInputProps<Val>, FieldMetaProps<Val>, FieldHelperProps<Val>] {\n  const formik = useFormikContext();\n  const {\n    getFieldProps,\n    getFieldMeta,\n    getFieldHelpers,\n    registerField,\n    unregisterField,\n  } = formik;\n\n  const isAnObject = isObject(propsOrFieldName);\n\n  // Normalize propsOrFieldName to FieldHookConfig<Val>\n  const props: FieldHookConfig<Val> = isAnObject\n    ? (propsOrFieldName as FieldHookConfig<Val>)\n    : { name: propsOrFieldName as string };\n\n  const { name: fieldName, validate: validateFn } = props;\n\n  React.useEffect(() => {\n    if (fieldName) {\n      registerField(fieldName, {\n        validate: validateFn,\n      });\n    }\n    return () => {\n      if (fieldName) {\n        unregisterField(fieldName);\n      }\n    };\n  }, [registerField, unregisterField, fieldName, validateFn]);\n\n  if (__DEV__) {\n    invariant(\n      formik,\n      'useField() / <Field /> must be used underneath a <Formik> component or withFormik() higher order component'\n    );\n  }\n\n  invariant(\n    fieldName,\n    'Invalid field name. Either pass `useField` a string or an object containing a `name` key.'\n  );\n\n  return [\n    getFieldProps(props),\n    getFieldMeta(fieldName),\n    getFieldHelpers(fieldName),\n  ];\n}\n\nexport function Field({\n  validate,\n  name,\n  render,\n  children,\n  as: is, // `as` is reserved in typescript lol\n  component,\n  ...props\n}: FieldAttributes<any>) {\n  const {\n    validate: _validate,\n    validationSchema: _validationSchema,\n\n    ...formik\n  } = useFormikContext();\n\n  React.useEffect(() => {\n    if (__DEV__) {\n      invariant(\n        !render,\n        `<Field render> has been deprecated and will be removed in future versions of Formik. Please use a child callback function instead. To get rid of this warning, replace <Field name=\"${name}\" render={({field, form}) => ...} /> with <Field name=\"${name}\">{({field, form, meta}) => ...}</Field>`\n      );\n\n      invariant(\n        !(is && children && isFunction(children)),\n        'You should not use <Field as> and <Field children> as a function in the same <Field> component; <Field as> will be ignored.'\n      );\n\n      invariant(\n        !(component && children && isFunction(children)),\n        'You should not use <Field component> and <Field children> as a function in the same <Field> component; <Field component> will be ignored.'\n      );\n\n      invariant(\n        !(render && children && !isEmptyChildren(children)),\n        'You should not use <Field render> and <Field children> in the same <Field> component; <Field children> will be ignored'\n      );\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  // Register field and field-level validation with parent <Formik>\n  const { registerField, unregisterField } = formik;\n  React.useEffect(() => {\n    registerField(name, {\n      validate: validate,\n    });\n    return () => {\n      unregisterField(name);\n    };\n  }, [registerField, unregisterField, name, validate]);\n  const field = formik.getFieldProps({ name, ...props });\n  const meta = formik.getFieldMeta(name);\n  const legacyBag = { field, form: formik };\n\n  if (render) {\n    return render({ ...legacyBag, meta });\n  }\n\n  if (isFunction(children)) {\n    return children({ ...legacyBag, meta });\n  }\n\n  if (component) {\n    // This behavior is backwards compat with earlier Formik 0.9 to 1.x\n    if (typeof component === 'string') {\n      const { innerRef, ...rest } = props;\n      return React.createElement(\n        component,\n        { ref: innerRef, ...field, ...rest },\n        children\n      );\n    }\n    // We don't pass `meta` for backwards compat\n    return React.createElement(\n      component,\n      { field, form: formik, ...props },\n      children\n    );\n  }\n\n  // default to input here so we can check for both `as` and `children` above\n  const asElement = is || 'input';\n\n  if (typeof asElement === 'string') {\n    const { innerRef, ...rest } = props;\n    return React.createElement(\n      asElement,\n      { ref: innerRef, ...field, ...rest },\n      children\n    );\n  }\n\n  return React.createElement(asElement, { ...field, ...props }, children);\n}\n","import * as React from 'react';\nimport { useFormikContext } from './FormikContext';\n\nexport type FormikFormProps = Pick<\n  React.FormHTMLAttributes<HTMLFormElement>,\n  Exclude<\n    keyof React.FormHTMLAttributes<HTMLFormElement>,\n    'onReset' | 'onSubmit'\n  >\n>;\n\ntype FormProps = React.ComponentPropsWithoutRef<'form'>;\n\n// @todo tests\nexport const Form = React.forwardRef<HTMLFormElement, FormProps>(\n  (props: FormikFormProps, ref) => {\n    // iOS needs an \"action\" attribute for nice input: https://stackoverflow.com/a/39485162/406725\n    // We default the action to \"#\" in case the preventDefault fails (just updates the URL hash)\n    const { action, ...rest } = props;\n    const _action = action || '#';\n    const { handleReset, handleSubmit } = useFormikContext();\n    return (\n      <form\n        onSubmit={handleSubmit}\n        ref={ref}\n        onReset={handleReset}\n        action={_action}\n        {...rest}\n      />\n    );\n  }\n);\n\nForm.displayName = 'Form';\n","import * as React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\n\nimport { FormikContextType } from './types';\nimport { FormikConsumer } from './FormikContext';\nimport invariant from 'tiny-warning';\n\n/**\n * Connect any component to Formik context, and inject as a prop called `formik`;\n * @param Comp React Component\n */\nexport function connect<OuterProps, Values = {}>(\n  Comp: React.ComponentType<OuterProps & { formik: FormikContextType<Values> }>\n) {\n  const C: React.SFC<OuterProps> = (props: OuterProps) => (\n    <FormikConsumer>\n      {formik => {\n        invariant(\n          !!formik,\n          `Formik context is undefined, please verify you are rendering <Form>, <Field>, <FastField>, <FieldArray>, or your custom context-using component as a child of a <Formik> component. Component name: ${Comp.name}`\n        );\n        return <Comp {...props} formik={formik} />;\n      }}\n    </FormikConsumer>\n  );\n  const componentDisplayName =\n    Comp.displayName ||\n    Comp.name ||\n    (Comp.constructor && Comp.constructor.name) ||\n    'Component';\n\n  // Assign Comp to C.WrappedComponent so we can access the inner component in tests\n  // For example, <Field.WrappedComponent /> gets us <FieldInner/>\n  (C as React.SFC<OuterProps> & {\n    WrappedComponent: React.ReactNode;\n  }).WrappedComponent = Comp;\n\n  C.displayName = `FormikConnect(${componentDisplayName})`;\n\n  return hoistNonReactStatics(\n    C,\n    Comp as React.ComponentClass<\n      OuterProps & { formik: FormikContextType<Values> }\n    > // cast type to ComponentClass (even if SFC)\n  ) as React.ComponentType<OuterProps>;\n}\n","import * as React from 'react';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { connect } from './connect';\nimport {\n  FormikContextType,\n  FormikState,\n  SharedRenderProps,\n  FormikProps,\n} from './types';\nimport {\n  getIn,\n  isEmptyChildren,\n  isFunction,\n  setIn,\n  isEmptyArray,\n} from './utils';\nimport isEqual from 'react-fast-compare';\n\nexport type FieldArrayRenderProps = ArrayHelpers & {\n  form: FormikProps<any>;\n  name: string;\n};\n\nexport type FieldArrayConfig = {\n  /** Really the path to the array field to be updated */\n  name: string;\n  /** Should field array validate the form AFTER array updates/changes? */\n  validateOnChange?: boolean;\n} & SharedRenderProps<FieldArrayRenderProps>;\nexport interface ArrayHelpers {\n  /** Imperatively add a value to the end of an array */\n  push: (obj: any) => void;\n  /** Curried fn to add a value to the end of an array */\n  handlePush: (obj: any) => () => void;\n  /** Imperatively swap two values in an array */\n  swap: (indexA: number, indexB: number) => void;\n  /** Curried fn to swap two values in an array */\n  handleSwap: (indexA: number, indexB: number) => () => void;\n  /** Imperatively move an element in an array to another index */\n  move: (from: number, to: number) => void;\n  /** Imperatively move an element in an array to another index */\n  handleMove: (from: number, to: number) => () => void;\n  /** Imperatively insert an element at a given index into the array */\n  insert: (index: number, value: any) => void;\n  /** Curried fn to insert an element at a given index into the array */\n  handleInsert: (index: number, value: any) => () => void;\n  /** Imperatively replace a value at an index of an array  */\n  replace: (index: number, value: any) => void;\n  /** Curried fn to replace an element at a given index into the array */\n  handleReplace: (index: number, value: any) => () => void;\n  /** Imperatively add an element to the beginning of an array and return its length */\n  unshift: (value: any) => number;\n  /** Curried fn to add an element to the beginning of an array */\n  handleUnshift: (value: any) => () => void;\n  /** Curried fn to remove an element at an index of an array */\n  handleRemove: (index: number) => () => void;\n  /** Curried fn to remove a value from the end of the array */\n  handlePop: () => () => void;\n  /** Imperatively remove and element at an index of an array */\n  remove<T>(index: number): T | undefined;\n  /** Imperatively remove and return value from the end of the array */\n  pop<T>(): T | undefined;\n}\n\n/**\n * Some array helpers!\n */\nexport const move = (array: any[], from: number, to: number) => {\n  const copy = copyArrayLike(array);\n  const value = copy[from];\n  copy.splice(from, 1);\n  copy.splice(to, 0, value);\n  return copy;\n};\n\nexport const swap = (\n  arrayLike: ArrayLike<any>,\n  indexA: number,\n  indexB: number\n) => {\n  const copy = copyArrayLike(arrayLike);\n  const a = copy[indexA];\n  copy[indexA] = copy[indexB];\n  copy[indexB] = a;\n  return copy;\n};\n\nexport const insert = (\n  arrayLike: ArrayLike<any>,\n  index: number,\n  value: any\n) => {\n  const copy = copyArrayLike(arrayLike);\n  copy.splice(index, 0, value);\n  return copy;\n};\n\nexport const replace = (\n  arrayLike: ArrayLike<any>,\n  index: number,\n  value: any\n) => {\n  const copy = copyArrayLike(arrayLike);\n  copy[index] = value;\n  return copy;\n};\n\nconst copyArrayLike = (arrayLike: ArrayLike<any>) => {\n  if (!arrayLike) {\n    return [];\n  } else if (Array.isArray(arrayLike)) {\n    return [...arrayLike];\n  } else {\n    const maxIndex = Object.keys(arrayLike)\n      .map(key => parseInt(key))\n      .reduce((max, el) => (el > max ? el : max), 0);\n    return Array.from({ ...arrayLike, length: maxIndex + 1 });\n  }\n};\n\nclass FieldArrayInner<Values = {}> extends React.Component<\n  FieldArrayConfig & { formik: FormikContextType<Values> },\n  {}\n> {\n  static defaultProps = {\n    validateOnChange: true,\n  };\n\n  constructor(props: FieldArrayConfig & { formik: FormikContextType<Values> }) {\n    super(props);\n    // We need TypeScript generics on these, so we'll bind them in the constructor\n    // @todo Fix TS 3.2.1\n    this.remove = this.remove.bind(this) as any;\n    this.pop = this.pop.bind(this) as any;\n  }\n\n  componentDidUpdate(\n    prevProps: FieldArrayConfig & { formik: FormikContextType<Values> }\n  ) {\n    if (\n      !isEqual(\n        getIn(prevProps.formik.values, prevProps.name),\n        getIn(this.props.formik.values, this.props.name)\n      ) &&\n      this.props.formik.validateOnChange\n    ) {\n      this.props.formik.validateForm(this.props.formik.values);\n    }\n  }\n\n  updateArrayField = (\n    fn: Function,\n    alterTouched: boolean | Function,\n    alterErrors: boolean | Function\n  ) => {\n    const {\n      name,\n\n      formik: { setFormikState },\n    } = this.props;\n    setFormikState((prevState: FormikState<any>) => {\n      let updateErrors = typeof alterErrors === 'function' ? alterErrors : fn;\n      let updateTouched =\n        typeof alterTouched === 'function' ? alterTouched : fn;\n\n      // values fn should be executed before updateErrors and updateTouched,\n      // otherwise it causes an error with unshift.\n      let values = setIn(\n        prevState.values,\n        name,\n        fn(getIn(prevState.values, name))\n      );\n\n      let fieldError = alterErrors\n        ? updateErrors(getIn(prevState.errors, name))\n        : undefined;\n      let fieldTouched = alterTouched\n        ? updateTouched(getIn(prevState.touched, name))\n        : undefined;\n\n      if (isEmptyArray(fieldError)) {\n        fieldError = undefined;\n      }\n      if (isEmptyArray(fieldTouched)) {\n        fieldTouched = undefined;\n      }\n\n      return {\n        ...prevState,\n        values,\n        errors: alterErrors\n          ? setIn(prevState.errors, name, fieldError)\n          : prevState.errors,\n        touched: alterTouched\n          ? setIn(prevState.touched, name, fieldTouched)\n          : prevState.touched,\n      };\n    });\n  };\n\n  push = (value: any) =>\n    this.updateArrayField(\n      (arrayLike: ArrayLike<any>) => [\n        ...copyArrayLike(arrayLike),\n        cloneDeep(value),\n      ],\n      false,\n      false\n    );\n\n  handlePush = (value: any) => () => this.push(value);\n\n  swap = (indexA: number, indexB: number) =>\n    this.updateArrayField(\n      (array: any[]) => swap(array, indexA, indexB),\n      true,\n      true\n    );\n\n  handleSwap = (indexA: number, indexB: number) => () =>\n    this.swap(indexA, indexB);\n\n  move = (from: number, to: number) =>\n    this.updateArrayField((array: any[]) => move(array, from, to), true, true);\n\n  handleMove = (from: number, to: number) => () => this.move(from, to);\n\n  insert = (index: number, value: any) =>\n    this.updateArrayField(\n      (array: any[]) => insert(array, index, value),\n      (array: any[]) => insert(array, index, null),\n      (array: any[]) => insert(array, index, null)\n    );\n\n  handleInsert = (index: number, value: any) => () => this.insert(index, value);\n\n  replace = (index: number, value: any) =>\n    this.updateArrayField(\n      (array: any[]) => replace(array, index, value),\n      false,\n      false\n    );\n\n  handleReplace = (index: number, value: any) => () =>\n    this.replace(index, value);\n\n  unshift = (value: any) => {\n    let length = -1;\n    this.updateArrayField(\n      (array: any[]) => {\n        const arr = array ? [value, ...array] : [value];\n        if (length < 0) {\n          length = arr.length;\n        }\n        return arr;\n      },\n      (array: any[]) => {\n        const arr = array ? [null, ...array] : [null];\n        if (length < 0) {\n          length = arr.length;\n        }\n        return arr;\n      },\n      (array: any[]) => {\n        const arr = array ? [null, ...array] : [null];\n        if (length < 0) {\n          length = arr.length;\n        }\n        return arr;\n      }\n    );\n    return length;\n  };\n\n  handleUnshift = (value: any) => () => this.unshift(value);\n\n  remove<T>(index: number): T {\n    // We need to make sure we also remove relevant pieces of `touched` and `errors`\n    let result: any;\n    this.updateArrayField(\n      // so this gets call 3 times\n      (array?: any[]) => {\n        const copy = array ? copyArrayLike(array) : [];\n        if (!result) {\n          result = copy[index];\n        }\n        if (isFunction(copy.splice)) {\n          copy.splice(index, 1);\n        }\n        return copy;\n      },\n      true,\n      true\n    );\n\n    return result as T;\n  }\n\n  handleRemove = (index: number) => () => this.remove<any>(index);\n\n  pop<T>(): T {\n    // Remove relevant pieces of `touched` and `errors` too!\n    let result: any;\n    this.updateArrayField(\n      // so this gets call 3 times\n      (array: any[]) => {\n        const tmp = array;\n        if (!result) {\n          result = tmp && tmp.pop && tmp.pop();\n        }\n        return tmp;\n      },\n      true,\n      true\n    );\n\n    return result as T;\n  }\n\n  handlePop = () => () => this.pop<any>();\n\n  render() {\n    const arrayHelpers: ArrayHelpers = {\n      push: this.push,\n      pop: this.pop,\n      swap: this.swap,\n      move: this.move,\n      insert: this.insert,\n      replace: this.replace,\n      unshift: this.unshift,\n      remove: this.remove,\n      handlePush: this.handlePush,\n      handlePop: this.handlePop,\n      handleSwap: this.handleSwap,\n      handleMove: this.handleMove,\n      handleInsert: this.handleInsert,\n      handleReplace: this.handleReplace,\n      handleUnshift: this.handleUnshift,\n      handleRemove: this.handleRemove,\n    };\n\n    const {\n      component,\n      render,\n      children,\n      name,\n      formik: {\n        validate: _validate,\n        validationSchema: _validationSchema,\n        ...restOfFormik\n      },\n    } = this.props;\n\n    const props: FieldArrayRenderProps = {\n      ...arrayHelpers,\n      form: restOfFormik,\n      name,\n    };\n\n    return component\n      ? React.createElement(component as any, props)\n      : render\n      ? (render as any)(props)\n      : children // children come last, always called\n      ? typeof children === 'function'\n        ? (children as any)(props)\n        : !isEmptyChildren(children)\n        ? React.Children.only(children)\n        : null\n      : null;\n  }\n}\n\nexport const FieldArray = connect<FieldArrayConfig, any>(FieldArrayInner);\n","import * as React from 'react';\nimport { FormikContextType } from './types';\nimport { getIn, isFunction } from './utils';\nimport { connect } from './connect';\n\nexport interface ErrorMessageProps {\n  name: string;\n  className?: string;\n  component?: string | React.ComponentType;\n  children?: (errorMessage: string) => React.ReactNode;\n  render?: (errorMessage: string) => React.ReactNode;\n}\n\nclass ErrorMessageImpl extends React.Component<\n  ErrorMessageProps & { formik: FormikContextType<any> }\n> {\n  shouldComponentUpdate(\n    props: ErrorMessageProps & { formik: FormikContextType<any> }\n  ) {\n    if (\n      getIn(this.props.formik.errors, this.props.name) !==\n        getIn(props.formik.errors, this.props.name) ||\n      getIn(this.props.formik.touched, this.props.name) !==\n        getIn(props.formik.touched, this.props.name) ||\n      Object.keys(this.props).length !== Object.keys(props).length\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  render() {\n    let { component, formik, render, children, name, ...rest } = this.props;\n\n    const touch = getIn(formik.touched, name);\n    const error = getIn(formik.errors, name);\n\n    return !!touch && !!error\n      ? render\n        ? isFunction(render)\n          ? render(error)\n          : null\n        : children\n        ? isFunction(children)\n          ? children(error)\n          : null\n        : component\n        ? React.createElement(component, rest as any, error)\n        : error\n      : null;\n  }\n}\n\nexport const ErrorMessage = connect<\n  ErrorMessageProps,\n  ErrorMessageProps & { formik: FormikContextType<any> }\n>(ErrorMessageImpl);\n","import * as React from 'react';\n\nimport {\n  FormikProps,\n  GenericFieldHTMLAttributes,\n  FormikContextType,\n  FieldMetaProps,\n  FieldInputProps,\n} from './types';\nimport invariant from 'tiny-warning';\nimport { getIn, isEmptyChildren, isFunction } from './utils';\nimport { FieldConfig } from './Field';\nimport { connect } from './connect';\n\ntype $FixMe = any;\n\nexport interface FastFieldProps<V = any> {\n  field: FieldInputProps<V>;\n  meta: FieldMetaProps<V>;\n  form: FormikProps<V>; // if ppl want to restrict this for a given form, let them.\n}\n\nexport type FastFieldConfig<T> = FieldConfig & {\n  /** Override FastField's default shouldComponentUpdate */\n  shouldUpdate?: (\n    nextProps: T & GenericFieldHTMLAttributes,\n    props: {}\n  ) => boolean;\n};\n\nexport type FastFieldAttributes<T> = GenericFieldHTMLAttributes &\n  FastFieldConfig<T> &\n  T;\n\ntype FastFieldInnerProps<Values = {}, Props = {}> = FastFieldAttributes<\n  Props\n> & { formik: FormikContextType<Values> };\n\n/**\n * Custom Field component for quickly hooking into Formik\n * context and wiring up forms.\n */\nclass FastFieldInner<Values = {}, Props = {}> extends React.Component<\n  FastFieldInnerProps<Values, Props>,\n  {}\n> {\n  constructor(props: FastFieldInnerProps<Values, Props>) {\n    super(props);\n    const { render, children, component, as: is, name } = props;\n    invariant(\n      !render,\n      `<FastField render> has been deprecated. Please use a child callback function instead: <FastField name={${name}}>{props => ...}</FastField> instead.`\n    );\n    invariant(\n      !(component && render),\n      'You should not use <FastField component> and <FastField render> in the same <FastField> component; <FastField component> will be ignored'\n    );\n\n    invariant(\n      !(is && children && isFunction(children)),\n      'You should not use <FastField as> and <FastField children> as a function in the same <FastField> component; <FastField as> will be ignored.'\n    );\n\n    invariant(\n      !(component && children && isFunction(children)),\n      'You should not use <FastField component> and <FastField children> as a function in the same <FastField> component; <FastField component> will be ignored.'\n    );\n\n    invariant(\n      !(render && children && !isEmptyChildren(children)),\n      'You should not use <FastField render> and <FastField children> in the same <FastField> component; <FastField children> will be ignored'\n    );\n  }\n\n  shouldComponentUpdate(props: FastFieldInnerProps<Values, Props>) {\n    if (this.props.shouldUpdate) {\n      return this.props.shouldUpdate(props, this.props);\n    } else if (\n      props.name !== this.props.name ||\n      getIn(props.formik.values, this.props.name) !==\n        getIn(this.props.formik.values, this.props.name) ||\n      getIn(props.formik.errors, this.props.name) !==\n        getIn(this.props.formik.errors, this.props.name) ||\n      getIn(props.formik.touched, this.props.name) !==\n        getIn(this.props.formik.touched, this.props.name) ||\n      Object.keys(this.props).length !== Object.keys(props).length ||\n      props.formik.isSubmitting !== this.props.formik.isSubmitting\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  componentDidMount() {\n    // Register the Field with the parent Formik. Parent will cycle through\n    // registered Field's validate fns right prior to submit\n    this.props.formik.registerField(this.props.name, {\n      validate: this.props.validate,\n    });\n  }\n\n  componentDidUpdate(prevProps: FastFieldAttributes<Props>) {\n    if (this.props.name !== prevProps.name) {\n      this.props.formik.unregisterField(prevProps.name);\n      this.props.formik.registerField(this.props.name, {\n        validate: this.props.validate,\n      });\n    }\n\n    if (this.props.validate !== prevProps.validate) {\n      this.props.formik.registerField(this.props.name, {\n        validate: this.props.validate,\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.formik.unregisterField(this.props.name);\n  }\n\n  render() {\n    const {\n      validate,\n      name,\n      render,\n      as: is,\n      children,\n      component,\n      shouldUpdate,\n      formik,\n      ...props\n    } = this.props as FastFieldInnerProps<Values, Props>;\n\n    const {\n      validate: _validate,\n      validationSchema: _validationSchema,\n      ...restOfFormik\n    } = formik;\n    const field = {\n      value:\n        props.type === 'radio' || props.type === 'checkbox'\n          ? props.value // React uses checked={} for these inputs\n          : getIn(formik.values, name),\n      name,\n      onChange: formik.handleChange,\n      onBlur: formik.handleBlur,\n    };\n    const meta = {\n      value: getIn(formik.values, name),\n      error: getIn(formik.errors, name),\n      touched: !!getIn(formik.touched, name),\n      initialValue: getIn(formik.initialValues, name),\n      initialTouched: !!getIn(formik.initialTouched, name),\n      initialError: getIn(formik.initialErrors, name),\n    };\n\n    const bag = { field, meta, form: restOfFormik };\n\n    if (render) {\n      return (render as any)(bag);\n    }\n\n    if (isFunction(children)) {\n      return (children as (props: FastFieldProps<any>) => React.ReactNode)(bag);\n    }\n\n    if (component) {\n      // This behavior is backwards compat with earlier Formik 0.9 to 1.x\n      if (typeof component === 'string') {\n        const { innerRef, ...rest } = props;\n        return React.createElement(\n          component,\n          { ref: innerRef, ...field, ...(rest as $FixMe) },\n          children\n        );\n      }\n      // We don't pass `meta` for backwards compat\n      return React.createElement(\n        component as React.ComponentClass<$FixMe>,\n        { field, form: formik, ...props },\n        children\n      );\n    }\n\n    // default to input here so we can check for both `as` and `children` above\n    const asElement = is || 'input';\n\n    if (typeof asElement === 'string') {\n      const { innerRef, ...rest } = props;\n      return React.createElement(\n        asElement,\n        { ref: innerRef, ...field, ...(rest as $FixMe) },\n        children\n      );\n    }\n\n    return React.createElement(\n      asElement as React.ComponentClass,\n      { ...field, ...props },\n      children\n    );\n  }\n}\n\nexport const FastField = connect<FastFieldAttributes<any>, any>(FastFieldInner);\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\nvar hasElementType = typeof Element !== 'undefined';\n\nfunction equal(a, b) {\n  // fast-deep-equal index.js 2.0.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n    // end fast-deep-equal\n\n    // start react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element && b instanceof Element)\n      return a === b;\n\n    // custom handling for React\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of a react element\n        continue;\n      } else {\n        // all other properties should be traversed as usual\n        if (!equal(a[key], b[key])) return false;\n      }\n    }\n    // end react-fast-compare\n\n    // fast-deep-equal index.js 2.0.1\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function exportedEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if ((error.message && error.message.match(/stack|recursion/i)) || (error.number === -2146828260)) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('Warning: react-fast-compare does not handle circular references.', error.name, error.message);\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.18.0\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var f,g,h,k,l;\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var p=null,q=null,t=function(){if(null!==p)try{var a=exports.unstable_now();p(!0,a);p=null}catch(b){throw setTimeout(t,0),b;}},u=Date.now();exports.unstable_now=function(){return Date.now()-u};f=function(a){null!==p?setTimeout(f,0,a):(p=a,setTimeout(t,0))};g=function(a,b){q=setTimeout(a,b)};h=function(){clearTimeout(q)};k=function(){return!1};l=exports.unstable_forceFrameRate=function(){}}else{var w=window.performance,x=window.Date,\ny=window.setTimeout,z=window.clearTimeout;if(\"undefined\"!==typeof console){var A=window.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\");\"function\"!==typeof A&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")}if(\"object\"===\ntypeof w&&\"function\"===typeof w.now)exports.unstable_now=function(){return w.now()};else{var B=x.now();exports.unstable_now=function(){return x.now()-B}}var C=!1,D=null,E=-1,F=5,G=0;k=function(){return exports.unstable_now()>=G};l=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):F=0<a?Math.floor(1E3/a):5};var H=new MessageChannel,I=H.port2;H.port1.onmessage=\nfunction(){if(null!==D){var a=exports.unstable_now();G=a+F;try{D(!0,a)?I.postMessage(null):(C=!1,D=null)}catch(b){throw I.postMessage(null),b;}}else C=!1};f=function(a){D=a;C||(C=!0,I.postMessage(null))};g=function(a,b){E=y(function(){a(exports.unstable_now())},b)};h=function(){z(E);E=-1}}function J(a,b){var c=a.length;a.push(b);a:for(;;){var d=Math.floor((c-1)/2),e=a[d];if(void 0!==e&&0<K(e,b))a[d]=b,a[c]=e,c=d;else break a}}function L(a){a=a[0];return void 0===a?null:a}\nfunction M(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>K(n,c))void 0!==r&&0>K(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>K(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function K(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var N=[],O=[],P=1,Q=null,R=3,S=!1,T=!1,U=!1;\nfunction V(a){for(var b=L(O);null!==b;){if(null===b.callback)M(O);else if(b.startTime<=a)M(O),b.sortIndex=b.expirationTime,J(N,b);else break;b=L(O)}}function W(a){U=!1;V(a);if(!T)if(null!==L(N))T=!0,f(X);else{var b=L(O);null!==b&&g(W,b.startTime-a)}}\nfunction X(a,b){T=!1;U&&(U=!1,h());S=!0;var c=R;try{V(b);for(Q=L(N);null!==Q&&(!(Q.expirationTime>b)||a&&!k());){var d=Q.callback;if(null!==d){Q.callback=null;R=Q.priorityLevel;var e=d(Q.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?Q.callback=e:Q===L(N)&&M(N);V(b)}else M(N);Q=L(N)}if(null!==Q)var m=!0;else{var n=L(O);null!==n&&g(W,n.startTime-b);m=!1}return m}finally{Q=null,R=c,S=!1}}\nfunction Y(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}var Z=l;exports.unstable_ImmediatePriority=1;exports.unstable_UserBlockingPriority=2;exports.unstable_NormalPriority=3;exports.unstable_IdlePriority=5;exports.unstable_LowPriority=4;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=R;R=a;try{return b()}finally{R=c}};\nexports.unstable_next=function(a){switch(R){case 1:case 2:case 3:var b=3;break;default:b=R}var c=R;R=b;try{return a()}finally{R=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();if(\"object\"===typeof c&&null!==c){var e=c.delay;e=\"number\"===typeof e&&0<e?d+e:d;c=\"number\"===typeof c.timeout?c.timeout:Y(a)}else c=Y(a),e=d;c=e+c;a={id:P++,callback:b,priorityLevel:a,startTime:e,expirationTime:c,sortIndex:-1};e>d?(a.sortIndex=e,J(O,a),null===L(N)&&a===L(O)&&(U?h():U=!0,g(W,e-d))):(a.sortIndex=c,J(N,a),T||S||(T=!0,f(X)));return a};exports.unstable_cancelCallback=function(a){a.callback=null};\nexports.unstable_wrapCallback=function(a){var b=R;return function(){var c=R;R=b;try{return a.apply(this,arguments)}finally{R=c}}};exports.unstable_getCurrentPriorityLevel=function(){return R};exports.unstable_shouldYield=function(){var a=exports.unstable_now();V(a);var b=L(N);return b!==Q&&null!==Q&&null!==b&&null!==b.callback&&b.startTime<=a&&b.expirationTime<Q.expirationTime||k()};exports.unstable_requestPaint=Z;exports.unstable_continueExecution=function(){T||S||(T=!0,f(X))};\nexports.unstable_pauseExecution=function(){};exports.unstable_getFirstCallbackNode=function(){return L(N)};exports.unstable_Profiling=null;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","/**\n * Determines whether a component is controlled.\n * @param props - Component props\n * @param valueProp - Prop containing the controlled value\n * @returns true if controlled, false if uncontrolled\n */\nexport function isControlled<P>(props: P, valueProp: keyof P): boolean {\n  // React's built-in <input> considers a prop to be provided if its value is non-null/undefined.\n  // Mirror that behavior here (rather than checking for just undefined).\n  return props[valueProp] !== undefined && props[valueProp] !== null;\n}\n","import { IRenderFunction } from '../IRenderFunction';\nimport { createMemoizer } from '../memoize';\n\ninterface IRenderFunctionComposer {\n  <TProps>(outer: IRenderFunction<TProps>): (inner: IRenderFunction<TProps>) => IRenderFunction<TProps>;\n}\n\nfunction createComposedRenderFunction<TProps>(\n  outer: IRenderFunction<TProps>,\n): (inner: IRenderFunction<TProps>) => IRenderFunction<TProps> {\n  const outerMemoizer = createMemoizer((inner: IRenderFunction<TProps>) => {\n    const innerMemoizer = createMemoizer((defaultRender: IRenderFunction<TProps>) => {\n      return (innerProps?: TProps) => {\n        return inner(innerProps, defaultRender);\n      };\n    });\n\n    return (outerProps?: TProps, defaultRender?: IRenderFunction<TProps>) => {\n      return outer(outerProps, defaultRender ? innerMemoizer(defaultRender) : inner);\n    };\n  });\n\n  return outerMemoizer;\n}\n\nconst memoizer = createMemoizer<IRenderFunctionComposer>(createComposedRenderFunction);\n\n/**\n * Composes two 'render functions' to produce a final render function that renders\n * the outer function, passing the inner function as 'default render'. The inner function\n * is then passed the original 'default render' prop.\n * @public\n */\nexport function composeRenderFunction<TProps>(\n  outer: IRenderFunction<TProps>,\n  inner: IRenderFunction<TProps>,\n): IRenderFunction<TProps> {\n  return memoizer(outer)(inner);\n}\n","import * as React from 'react';\nimport { Image } from '../../../Image';\nimport { Icon } from '../../../Icon';\nimport {\n  IChoiceGroupOptionProps,\n  IChoiceGroupOptionStyleProps,\n  IChoiceGroupOptionStyles,\n} from './ChoiceGroupOption.types';\nimport { classNamesFunction, getNativeProps, inputProperties, css, initializeComponentRef } from '../../../Utilities';\nimport { IProcessedStyleSet } from '../../../Styling';\nimport { composeRenderFunction } from '@uifabric/utilities';\n\nconst getClassNames = classNamesFunction<IChoiceGroupOptionStyleProps, IChoiceGroupOptionStyles>();\n\nconst LARGE_IMAGE_SIZE = 71;\n\n/**\n * {@docCategory ChoiceGroup}\n */\nexport class ChoiceGroupOptionBase extends React.Component<IChoiceGroupOptionProps, {}> {\n  public static defaultProps: Partial<IChoiceGroupOptionProps> = {\n    // This ensures default imageSize value doesn't mutate. Mutation can cause style re-calcuation.\n    imageSize: { width: 32, height: 32 },\n  };\n\n  private _classNames: IProcessedStyleSet<IChoiceGroupOptionStyles>;\n\n  constructor(props: IChoiceGroupOptionProps) {\n    super(props);\n    initializeComponentRef(this);\n  }\n\n  public render(): JSX.Element {\n    const {\n      ariaLabel,\n      focused,\n      required,\n      theme,\n      iconProps,\n      imageSrc,\n      imageSize,\n      disabled,\n      // tslint:disable-next-line:deprecation\n      checked,\n      id,\n      styles,\n      name,\n      onRenderField = this._onRenderField,\n      ...rest\n    } = this.props;\n\n    this._classNames = getClassNames(styles!, {\n      theme: theme!,\n      hasIcon: !!iconProps,\n      hasImage: !!imageSrc,\n      checked,\n      disabled,\n      imageIsLarge: !!imageSrc && (imageSize!.width > LARGE_IMAGE_SIZE || imageSize!.height > LARGE_IMAGE_SIZE),\n      imageSize,\n      focused,\n    });\n\n    const { className, ...nativeProps } = getNativeProps<{ className: string }>(rest, inputProperties);\n\n    return (\n      <div className={this._classNames.root}>\n        <div className={this._classNames.choiceFieldWrapper}>\n          <input\n            aria-label={ariaLabel}\n            id={id}\n            className={css(this._classNames.input, className)}\n            type=\"radio\"\n            name={name}\n            disabled={disabled}\n            checked={checked}\n            required={required}\n            {...nativeProps}\n            onChange={this._onChange}\n            onFocus={this._onFocus}\n            onBlur={this._onBlur}\n          />\n          {onRenderField(this.props, this._onRenderField)}\n        </div>\n      </div>\n    );\n  }\n\n  private _onChange = (evt: React.FormEvent<HTMLInputElement>): void => {\n    const { onChange } = this.props;\n    if (onChange) {\n      onChange(evt, this.props);\n    }\n  };\n\n  private _onBlur = (evt: React.FocusEvent<HTMLElement>) => {\n    const { onBlur } = this.props;\n    if (onBlur) {\n      onBlur(evt, this.props);\n    }\n  };\n\n  private _onFocus = (evt: React.FocusEvent<HTMLElement>) => {\n    const { onFocus } = this.props;\n    if (onFocus) {\n      onFocus(evt, this.props);\n    }\n  };\n\n  private _onRenderField = (props: IChoiceGroupOptionProps): JSX.Element => {\n    const { id, imageSrc, imageAlt = '', selectedImageSrc, iconProps } = props;\n\n    const imageSize = props.imageSize ? props.imageSize : { width: 32, height: 32 };\n\n    const onRenderLabel = props.onRenderLabel\n      ? composeRenderFunction(props.onRenderLabel, this._onRenderLabel)\n      : this._onRenderLabel;\n\n    const label = onRenderLabel(props);\n\n    return (\n      <label htmlFor={id} className={this._classNames.field}>\n        {imageSrc && (\n          <div className={this._classNames.innerField}>\n            <div className={this._classNames.imageWrapper}>\n              <Image src={imageSrc} alt={imageAlt} width={imageSize.width} height={imageSize.height} />\n            </div>\n            <div className={this._classNames.selectedImageWrapper}>\n              <Image src={selectedImageSrc} alt={imageAlt} width={imageSize.width} height={imageSize.height} />\n            </div>\n          </div>\n        )}\n        {iconProps && (\n          <div className={this._classNames.innerField}>\n            <div className={this._classNames.iconWrapper}>\n              <Icon {...iconProps} />\n            </div>\n          </div>\n        )}\n        {imageSrc || iconProps ? <div className={this._classNames.labelWrapper}>{label}</div> : label}\n      </label>\n    );\n  };\n\n  private _onRenderLabel = (props: IChoiceGroupOptionProps): JSX.Element => {\n    return (\n      <span id={props.labelId} className=\"ms-ChoiceFieldLabel\">\n        {props.text}\n      </span>\n    );\n  };\n}\n","import { HighContrastSelector, IStyle, getGlobalClassNames } from '../../../Styling';\nimport { IsFocusVisibleClassName } from '../../../Utilities';\nimport { IChoiceGroupOptionStyleProps, IChoiceGroupOptionStyles } from './ChoiceGroupOption.types';\n\nconst GlobalClassNames = {\n  root: 'ms-ChoiceField',\n  choiceFieldWrapper: 'ms-ChoiceField-wrapper',\n  input: 'ms-ChoiceField-input',\n  field: 'ms-ChoiceField-field',\n  innerField: 'ms-ChoiceField-innerField',\n  imageWrapper: 'ms-ChoiceField-imageWrapper',\n  iconWrapper: 'ms-ChoiceField-iconWrapper',\n  labelWrapper: 'ms-ChoiceField-labelWrapper',\n  checked: 'is-checked',\n};\n\nconst labelWrapperLineHeight = 15;\nconst labelWrapperHeight = labelWrapperLineHeight * 2 + 2; // adding 2px height to ensure text doesn't get cutoff\nconst iconSize = 32;\nconst choiceFieldSize = 20;\nconst choiceFieldTransitionDuration = '200ms';\nconst choiceFieldTransitionTiming = 'cubic-bezier(.4, 0, .23, 1)';\nconst radioButtonSpacing = 3;\nconst radioButtonInnerSize = 5;\n\nfunction getChoiceGroupFocusStyle(focusBorderColor: string, hasIconOrImage?: boolean): IStyle {\n  return [\n    'is-inFocus',\n    {\n      selectors: {\n        [`.${IsFocusVisibleClassName} &`]: {\n          position: 'relative',\n          outline: 'transparent',\n          selectors: {\n            '::-moz-focus-inner': {\n              border: 0,\n            },\n            ':after': {\n              content: '\"\"',\n              top: -2,\n              right: -2,\n              bottom: -2,\n              left: -2,\n              pointerEvents: 'none',\n              border: `1px solid ${focusBorderColor}`,\n              position: 'absolute',\n              selectors: {\n                [HighContrastSelector]: {\n                  borderColor: 'WindowText',\n                  borderWidth: hasIconOrImage ? 1 : 2,\n                },\n              },\n            },\n          },\n        },\n      },\n    },\n  ];\n}\n\nfunction getImageWrapperStyle(isSelectedImageWrapper: boolean, className?: string, checked?: boolean): IStyle {\n  return [\n    className,\n    {\n      paddingBottom: 2,\n      transitionProperty: 'opacity',\n      transitionDuration: choiceFieldTransitionDuration,\n      transitionTimingFunction: 'ease',\n      selectors: {\n        '.ms-Image': {\n          display: 'inline-block',\n          borderStyle: 'none',\n        },\n      },\n    },\n    (checked ? !isSelectedImageWrapper : isSelectedImageWrapper) && [\n      'is-hidden',\n      {\n        position: 'absolute',\n        left: 0,\n        top: 0,\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n        opacity: 0,\n      },\n    ],\n  ];\n}\n\nexport const getStyles = (props: IChoiceGroupOptionStyleProps): IChoiceGroupOptionStyles => {\n  const { theme, hasIcon, hasImage, checked, disabled, imageIsLarge, focused, imageSize } = props;\n  const { palette, semanticColors, fonts } = theme;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  // Tokens\n  // TODO: after updating the semanticColors slots mapping this needs to be semanticColors.smallInputBorder\n  const circleBorderColor = palette.neutralPrimary;\n  const circleHoveredBorderColor = semanticColors.inputBorderHovered;\n  const circleCheckedBorderColor = semanticColors.inputBackgroundChecked;\n  // TODO: after updating the semanticColors slots mapping this needs to be semanticColors.inputBackgroundCheckedHovered\n  const circleCheckedHoveredBorderColor = palette.themeDark;\n  const circleDisabledBorderColor = semanticColors.disabledBodySubtext;\n  const circleBackgroundColor = semanticColors.bodyBackground;\n  const dotUncheckedHoveredColor = palette.neutralSecondary;\n  const dotCheckedColor = semanticColors.inputBackgroundChecked;\n  // TODO: after updating the semanticColors slots mapping this needs to be semanticColors.inputBackgroundCheckedHovered\n  const dotCheckedHoveredColor = palette.themeDark;\n  const dotDisabledColor = semanticColors.disabledBodySubtext;\n  // TODO: after updating the semanticColors slots mapping this needs to be semanticColors.bodyTextChecked\n  const labelHoverFocusColor = palette.neutralDark;\n  const focusBorderColor = semanticColors.focusBorder;\n  const iconOrImageChoiceBorderUncheckedHoveredColor = semanticColors.inputBorderHovered;\n  // TODO: after updating the semanticColors slots mapping this needs to be semanticColors.inputBackgroundCheckedHovered\n  const iconOrImageChoiceBorderCheckedColor = semanticColors.inputBackgroundChecked;\n  const iconOrImageChoiceBorderCheckedHoveredColor = palette.themeDark;\n  const iconOrImageChoiceBackgroundColor = palette.neutralLighter;\n\n  const fieldHoverOrFocusProperties = {\n    selectors: {\n      '.ms-ChoiceFieldLabel': {\n        color: labelHoverFocusColor,\n      },\n      ':before': {\n        borderColor: checked ? circleCheckedHoveredBorderColor : circleHoveredBorderColor,\n      },\n      ':after': [\n        !hasIcon &&\n          !hasImage &&\n          !checked && {\n            content: '\"\"',\n            transitionProperty: 'background-color',\n            left: 5,\n            top: 5,\n            width: 10,\n            height: 10,\n            backgroundColor: dotUncheckedHoveredColor,\n          },\n        checked && {\n          borderColor: dotCheckedHoveredColor,\n        },\n      ],\n    },\n  };\n\n  const enabledFieldWithImageHoverOrFocusProperties = {\n    borderColor: checked ? iconOrImageChoiceBorderCheckedHoveredColor : iconOrImageChoiceBorderUncheckedHoveredColor,\n    selectors: {\n      ':before': {\n        opacity: 1,\n        borderColor: checked ? circleCheckedHoveredBorderColor : circleHoveredBorderColor,\n      },\n    },\n  };\n\n  const circleAreaProperties: IStyle = [\n    {\n      content: '\"\"',\n      display: 'inline-block',\n      backgroundColor: circleBackgroundColor,\n      borderWidth: 1,\n      borderStyle: 'solid',\n      borderColor: circleBorderColor,\n      width: choiceFieldSize,\n      height: choiceFieldSize,\n      fontWeight: 'normal',\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      boxSizing: 'border-box',\n      transitionProperty: 'border-color',\n      transitionDuration: choiceFieldTransitionDuration,\n      transitionTimingFunction: choiceFieldTransitionTiming,\n      borderRadius: '50%',\n    },\n    disabled && {\n      borderColor: circleDisabledBorderColor,\n      selectors: {\n        [HighContrastSelector]: {\n          color: 'GrayText',\n        },\n      },\n    },\n    checked && {\n      borderColor: disabled ? circleDisabledBorderColor : circleCheckedBorderColor,\n      selectors: {\n        [HighContrastSelector]: {\n          borderColor: 'Highlight',\n        },\n      },\n    },\n    (hasIcon || hasImage) && {\n      top: radioButtonSpacing,\n      right: radioButtonSpacing,\n      left: 'auto', // To reset the value of 'left' to its default value, so that 'right' works\n      opacity: checked ? 1 : 0,\n    },\n  ];\n\n  const dotAreaProperties: IStyle = [\n    {\n      content: '\"\"',\n      width: 0,\n      height: 0,\n      borderRadius: '50%',\n      position: 'absolute',\n      left: choiceFieldSize / 2,\n      right: 0,\n      transitionProperty: 'border-width',\n      transitionDuration: choiceFieldTransitionDuration,\n      transitionTimingFunction: choiceFieldTransitionTiming,\n      boxSizing: 'border-box',\n    },\n    checked && {\n      borderWidth: 5,\n      borderStyle: 'solid',\n      borderColor: disabled ? dotDisabledColor : dotCheckedColor,\n      left: 5,\n      top: 5,\n      width: 10,\n      height: 10,\n      selectors: {\n        [HighContrastSelector]: {\n          borderColor: 'Highlight',\n        },\n      },\n    },\n    checked &&\n      (hasIcon || hasImage) && {\n        top: radioButtonSpacing + radioButtonInnerSize,\n        right: radioButtonSpacing + radioButtonInnerSize,\n        left: 'auto', // To reset the value of 'left' to its default value, so that 'right' works\n      },\n  ];\n\n  return {\n    root: [\n      classNames.root,\n      theme.fonts.medium,\n      {\n        display: 'flex',\n        alignItems: 'center',\n        boxSizing: 'border-box',\n        color: semanticColors.bodyText,\n        minHeight: 26,\n        border: 'none',\n        position: 'relative',\n        marginTop: 8,\n        selectors: {\n          '.ms-ChoiceFieldLabel': {\n            display: 'inline-block',\n          },\n        },\n      },\n      !hasIcon &&\n        !hasImage && {\n          selectors: {\n            '.ms-ChoiceFieldLabel': {\n              paddingLeft: '26px',\n            },\n          },\n        },\n      hasImage && 'ms-ChoiceField--image',\n      hasIcon && 'ms-ChoiceField--icon',\n      (hasIcon || hasImage) && {\n        display: 'inline-flex',\n        fontSize: 0,\n        margin: '0 4px 4px 0',\n        paddingLeft: 0,\n        backgroundColor: iconOrImageChoiceBackgroundColor,\n        height: '100%',\n      },\n    ],\n    choiceFieldWrapper: [\n      classNames.choiceFieldWrapper,\n      focused && getChoiceGroupFocusStyle(focusBorderColor, hasIcon || hasImage),\n    ],\n    // The hidden input\n    input: [\n      classNames.input,\n      {\n        position: 'absolute',\n        opacity: 0,\n        top: 0,\n        right: 0,\n        width: '100%',\n        height: '100%',\n        margin: 0,\n      },\n      disabled && 'is-disabled',\n    ],\n    field: [\n      classNames.field,\n      checked && classNames.checked,\n      {\n        display: 'inline-block',\n        cursor: 'pointer',\n        marginTop: 0,\n        position: 'relative',\n        verticalAlign: 'top',\n        userSelect: 'none',\n        minHeight: 20,\n        selectors: {\n          ':hover': !disabled && fieldHoverOrFocusProperties,\n          ':focus': !disabled && fieldHoverOrFocusProperties,\n\n          // The circle\n          ':before': circleAreaProperties,\n\n          // The dot\n          ':after': dotAreaProperties,\n        },\n      },\n      hasIcon && 'ms-ChoiceField--icon',\n      hasImage && 'ms-ChoiceField-field--image',\n      (hasIcon || hasImage) && {\n        boxSizing: 'content-box',\n        cursor: 'pointer',\n        paddingTop: 22,\n        margin: 0,\n        textAlign: 'center',\n        transitionProperty: 'all',\n        transitionDuration: choiceFieldTransitionDuration,\n        transitionTimingFunction: 'ease',\n        border: '1px solid transparent',\n        justifyContent: 'center',\n        alignItems: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n      },\n      checked && {\n        borderColor: iconOrImageChoiceBorderCheckedColor,\n      },\n      (hasIcon || hasImage) &&\n        !disabled && {\n          selectors: {\n            ':hover': enabledFieldWithImageHoverOrFocusProperties,\n            ':focus': enabledFieldWithImageHoverOrFocusProperties,\n          },\n        },\n      disabled && {\n        cursor: 'default',\n        selectors: {\n          '.ms-ChoiceFieldLabel': {\n            color: semanticColors.disabledBodyText,\n          },\n          [HighContrastSelector]: {\n            color: 'GrayText',\n          },\n        },\n      },\n      checked &&\n        disabled && {\n          borderColor: iconOrImageChoiceBackgroundColor,\n        },\n    ],\n    innerField: [\n      classNames.innerField,\n      hasImage && {\n        // using non-null assertion because we have a default in `ChoiceGroupOptionBase` class.\n        height: imageSize!.height,\n        width: imageSize!.width,\n      },\n      (hasIcon || hasImage) && {\n        position: 'relative',\n        display: 'inline-block',\n        paddingLeft: 30,\n        paddingRight: 30,\n      },\n      (hasIcon || hasImage) &&\n        imageIsLarge && {\n          paddingLeft: 24,\n          paddingRight: 24,\n        },\n      (hasIcon || hasImage) &&\n        disabled && {\n          opacity: 0.25,\n          selectors: {\n            [HighContrastSelector]: {\n              color: 'GrayText',\n              opacity: 1,\n            },\n          },\n        },\n    ],\n    imageWrapper: getImageWrapperStyle(false, classNames.imageWrapper, checked),\n    selectedImageWrapper: getImageWrapperStyle(true, classNames.imageWrapper, checked),\n    iconWrapper: [\n      classNames.iconWrapper,\n      {\n        fontSize: iconSize,\n        lineHeight: iconSize,\n        height: iconSize,\n      },\n    ],\n    labelWrapper: [\n      classNames.labelWrapper,\n      fonts.medium,\n      (hasIcon || hasImage) && {\n        display: 'block',\n        position: 'relative',\n        margin: '4px 8px 2px 8px',\n        height: labelWrapperHeight,\n        lineHeight: labelWrapperLineHeight,\n        // using non-null assertion because we have a default in `ChoiceGroupOptionBase` class.\n        maxWidth: imageSize!.width * 2,\n        overflow: 'hidden',\n        whiteSpace: 'pre-wrap',\n      },\n    ],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../../Utilities';\nimport { ChoiceGroupOptionBase } from './ChoiceGroupOption.base';\nimport {\n  IChoiceGroupOptionProps,\n  IChoiceGroupOptionStyleProps,\n  IChoiceGroupOptionStyles,\n} from './ChoiceGroupOption.types';\nimport { getStyles } from './ChoiceGroupOption.styles';\n\nexport const ChoiceGroupOption: React.FunctionComponent<IChoiceGroupOptionProps> = styled<\n  IChoiceGroupOptionProps,\n  IChoiceGroupOptionStyleProps,\n  IChoiceGroupOptionStyles\n>(ChoiceGroupOptionBase, getStyles, undefined, { scope: 'ChoiceGroupOption' });\n","import * as React from 'react';\n\nimport { Label } from '../../Label';\nimport {\n  initializeComponentRef,\n  warnDeprecations,\n  warnMutuallyExclusive,\n  classNamesFunction,\n  find,\n  getId,\n  isControlled,\n  getNativeProps,\n  divProperties,\n} from '../../Utilities';\nimport {\n  IChoiceGroup,\n  IChoiceGroupOption,\n  IChoiceGroupProps,\n  IChoiceGroupStyleProps,\n  IChoiceGroupStyles,\n} from './ChoiceGroup.types';\nimport { ChoiceGroupOption, IChoiceGroupOptionProps } from './ChoiceGroupOption/index';\n\nconst getClassNames = classNamesFunction<IChoiceGroupStyleProps, IChoiceGroupStyles>();\n\nexport interface IChoiceGroupState {\n  /**\n   * Current selected option, for **internal use only**.\n   * External users should access `IChoiceGroup.checkedOption` instead.\n   */\n  // TODO (Fabric 8?) - once we removed the checked property from individual options,\n  // we can probably store only the uncontrolled value in the state (right now it tracks\n  // the value regardless of controlled/uncontrolled--though if controlled, it only updates\n  // the value in state when the selectedKey prop updates)\n  keyChecked?: string | number;\n\n  /** Is set when the control has focus. */\n  keyFocused?: string | number;\n}\n\n/**\n * {@docCategory ChoiceGroup}\n */\nexport class ChoiceGroupBase extends React.Component<IChoiceGroupProps, IChoiceGroupState> implements IChoiceGroup {\n  private _id: string;\n  private _labelId: string;\n  private _focusCallbacks: { [key: string]: IChoiceGroupOptionProps['onFocus'] } = {};\n  private _changeCallbacks: { [key: string]: IChoiceGroupOptionProps['onBlur'] } = {};\n\n  constructor(props: IChoiceGroupProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecations('ChoiceGroup', props, { onChanged: 'onChange' });\n      warnMutuallyExclusive('ChoiceGroup', props, {\n        selectedKey: 'defaultSelectedKey',\n      });\n    }\n\n    const { defaultSelectedKey, options = [] } = props;\n    const validDefaultSelectedKey =\n      !_isControlled(props) &&\n      defaultSelectedKey !== undefined &&\n      options.some(option => option.key === defaultSelectedKey);\n\n    this.state = {\n      keyChecked: validDefaultSelectedKey ? defaultSelectedKey : this._getKeyChecked(props),\n    };\n\n    this._id = getId('ChoiceGroup');\n    this._labelId = getId('ChoiceGroupLabel');\n  }\n\n  /**\n   * Gets the current checked option.\n   */\n  public get checkedOption(): IChoiceGroupOption | undefined {\n    const { options = [] } = this.props;\n    return find(options, (value: IChoiceGroupOption) => value.key === this.state.keyChecked);\n  }\n\n  public componentDidUpdate(prevProps: IChoiceGroupProps, prevState: IChoiceGroupState): void {\n    // Only update if a new props object has been passed in (don't care about state updates)\n    if (prevProps !== this.props) {\n      const newKeyChecked = this._getKeyChecked(this.props);\n      const oldKeyChecked = this._getKeyChecked(prevProps);\n\n      if (newKeyChecked !== oldKeyChecked) {\n        this.setState({\n          keyChecked: newKeyChecked,\n        });\n      }\n    }\n  }\n\n  public render(): JSX.Element {\n    const { className, theme, styles, options = [], label, required, disabled, name } = this.props;\n    const { keyChecked, keyFocused } = this.state;\n\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties, [\n      'onChange',\n      'className',\n      'required',\n    ]);\n\n    const classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      optionsContainIconOrImage: options.some(option => !!(option.iconProps || option.imageSrc)),\n    });\n\n    const labelId = this._id + '-label';\n    const ariaLabelledBy = this.props.ariaLabelledBy || (label ? labelId : this.props['aria-labelledby']);\n\n    // TODO (Fabric 8?) - if possible, move `root` class to the actual root and eliminate\n    // `applicationRole` class (but the div structure will stay the same by necessity)\n    return (\n      // tslint:disable-next-line:deprecation\n      <div className={classNames.applicationRole} {...divProps}>\n        <div\n          className={classNames.root}\n          role=\"radiogroup\"\n          {...(ariaLabelledBy && { 'aria-labelledby': ariaLabelledBy })}\n        >\n          {label && (\n            <Label className={classNames.label} required={required} id={labelId} disabled={disabled}>\n              {label}\n            </Label>\n          )}\n          <div className={classNames.flexContainer}>\n            {options.map((option: IChoiceGroupOption) => {\n              const innerOptionProps = {\n                ...option,\n                focused: option.key === keyFocused,\n                checked: option.key === keyChecked,\n                disabled: option.disabled || disabled,\n                id: this._getOptionId(option),\n                labelId: `${this._labelId}-${option.key}`,\n                name: name || this._id,\n                required,\n              };\n\n              return (\n                <ChoiceGroupOption\n                  key={option.key}\n                  onBlur={this._onBlur}\n                  onFocus={this._onFocus(option.key)}\n                  onChange={this._onChange(option.key)}\n                  {...innerOptionProps}\n                />\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  public focus() {\n    const { options = [] } = this.props;\n    const optionToFocus = this.checkedOption || options.filter(option => !option.disabled)[0];\n    const elementToFocus = optionToFocus && document.getElementById(this._getOptionId(optionToFocus));\n    if (elementToFocus) {\n      elementToFocus.focus();\n    }\n  }\n\n  private _onFocus(key: string) {\n    // This extra mess is necessary because React won't pass the `key` prop through to ChoiceGroupOption\n    if (!this._focusCallbacks[key]) {\n      this._focusCallbacks[key] = (\n        ev: React.FocusEvent<HTMLElement | HTMLInputElement>,\n        option: IChoiceGroupOption,\n      ) => {\n        this.setState({\n          keyFocused: key,\n        });\n      };\n    }\n    return this._focusCallbacks[key];\n  }\n\n  private _onBlur = (ev: React.FocusEvent<HTMLElement>, option: IChoiceGroupOption) => {\n    this.setState({\n      keyFocused: undefined,\n    });\n  };\n\n  private _onChange(key: string) {\n    // This extra mess is necessary because React won't pass the `key` prop through to ChoiceGroupOption\n    if (!this._changeCallbacks[key]) {\n      this._changeCallbacks[key] = (\n        evt: React.FormEvent<HTMLElement | HTMLInputElement>,\n        option: IChoiceGroupOption,\n      ) => {\n        // tslint:disable-next-line:deprecation\n        const { onChanged, onChange } = this.props;\n\n        // Only manage state in uncontrolled scenarios.\n        if (!_isControlled(this.props)) {\n          this.setState({\n            keyChecked: key,\n          });\n        }\n\n        // Get the original option without the `key` prop removed\n        const originalOption = find(this.props.options || [], (value: IChoiceGroupOption) => value.key === key);\n\n        // TODO: onChanged deprecated, remove else if after 07/17/2017 when onChanged has been removed.\n        if (onChange) {\n          onChange(evt, originalOption);\n        } else if (onChanged) {\n          onChanged(originalOption!, evt);\n        }\n      };\n    }\n    return this._changeCallbacks[key];\n  }\n\n  /**\n   * Returns `selectedKey` if provided, or the key of the first option with the `checked` prop set.\n   */\n  private _getKeyChecked(props: IChoiceGroupProps): string | number | undefined {\n    if (props.selectedKey !== undefined) {\n      return props.selectedKey;\n    }\n\n    const { options = [] } = props;\n    // tslint:disable-next-line:deprecation\n    const optionsChecked = options.filter((option: IChoiceGroupOption) => option.checked);\n    return optionsChecked[0] && optionsChecked[0].key;\n  }\n\n  private _getOptionId(option: IChoiceGroupOption): string {\n    return `${this._id}-${option.key}`;\n  }\n}\n\nfunction _isControlled(props: IChoiceGroupProps): boolean {\n  return isControlled(props, 'selectedKey');\n}\n","import { IChoiceGroupStyleProps, IChoiceGroupStyles } from './ChoiceGroup.types';\nimport { getGlobalClassNames } from '../../Styling';\n\nconst GlobalClassNames = {\n  root: 'ms-ChoiceFieldGroup',\n  flexContainer: 'ms-ChoiceFieldGroup-flexContainer',\n};\n\nexport const getStyles = (props: IChoiceGroupStyleProps): IChoiceGroupStyles => {\n  const { className, optionsContainIconOrImage, theme } = props;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  return {\n    // TODO (Fabric 8?) - merge className back into `root` and apply root style to\n    // the actual root role=application element\n    applicationRole: className,\n    root: [\n      classNames.root,\n      theme.fonts.medium,\n      {\n        display: 'block',\n      },\n    ],\n    flexContainer: [\n      classNames.flexContainer,\n      optionsContainIconOrImage && {\n        display: 'flex',\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n      },\n    ],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { ChoiceGroupBase } from './ChoiceGroup.base';\nimport { IChoiceGroupProps, IChoiceGroupStyles, IChoiceGroupStyleProps } from './ChoiceGroup.types';\nimport { getStyles } from './ChoiceGroup.styles';\n\nexport const ChoiceGroup: React.FunctionComponent<IChoiceGroupProps> = styled<\n  IChoiceGroupProps,\n  IChoiceGroupStyleProps,\n  IChoiceGroupStyles\n>(ChoiceGroupBase, getStyles, undefined, { scope: 'ChoiceGroup' });\n","import * as React from 'react';\nimport { IProcessedStyleSet } from '../../Styling';\nimport { Label, ILabelStyleProps, ILabelStyles } from '../../Label';\nimport { Icon } from '../../Icon';\nimport {\n  Async,\n  DelayedRender,\n  IStyleFunctionOrObject,\n  classNamesFunction,\n  getId,\n  getNativeProps,\n  initializeComponentRef,\n  inputProperties,\n  isControlled,\n  textAreaProperties,\n  warn,\n  warnControlledUsage,\n  warnMutuallyExclusive,\n} from '../../Utilities';\nimport { ITextField, ITextFieldProps, ITextFieldStyleProps, ITextFieldStyles } from './TextField.types';\n\nconst getClassNames = classNamesFunction<ITextFieldStyleProps, ITextFieldStyles>();\n\n/** @internal */\nexport interface ITextFieldState {\n  /** The currently displayed value if uncontrolled. */\n  uncontrolledValue: string | undefined;\n\n  /** Is true when the control has focus. */\n  isFocused?: boolean;\n\n  /**\n   * Dynamic error message returned by `onGetErrorMessage`.\n   * Use `this._errorMessage` to get the actual current error message.\n   */\n  errorMessage: string | JSX.Element;\n}\n\n/** @internal */\nexport interface ITextFieldSnapshot {\n  /**\n   * If set, the text field is changing between single- and multi-line, so we'll need to reset\n   * selection/cursor after the change completes.\n   */\n  selection?: [number | null, number | null];\n}\n\nconst DEFAULT_STATE_VALUE = '';\nconst COMPONENT_NAME = 'TextField';\n\nexport class TextFieldBase extends React.Component<ITextFieldProps, ITextFieldState, ITextFieldSnapshot>\n  implements ITextField {\n  public static defaultProps: ITextFieldProps = {\n    resizable: true,\n    deferredValidationTime: 200,\n    validateOnLoad: true,\n  };\n\n  /** Fallback ID if none is provided in props. Access proper value via `this._id`. */\n  private _fallbackId: string;\n  private _descriptionId: string;\n  private _labelId: string;\n  private _delayedValidate: (value: string | undefined) => void;\n  private _lastValidation: number;\n  private _latestValidateValue: string | undefined;\n  private _hasWarnedNullValue: boolean | undefined;\n  private _textElement = React.createRef<HTMLTextAreaElement | HTMLInputElement>();\n  private _classNames: IProcessedStyleSet<ITextFieldStyles>;\n  private _async: Async;\n  /** Most recent value from a change or input event, to help avoid processing events twice */\n  private _lastChangeValue: string | undefined;\n\n  public constructor(props: ITextFieldProps) {\n    super(props);\n\n    initializeComponentRef(this);\n    this._async = new Async(this);\n\n    if (process.env.NODE_ENV !== 'production') {\n      warnMutuallyExclusive(COMPONENT_NAME, props, {\n        errorMessage: 'onGetErrorMessage',\n      });\n    }\n\n    this._fallbackId = getId(COMPONENT_NAME);\n    this._descriptionId = getId(COMPONENT_NAME + 'Description');\n    this._labelId = getId(COMPONENT_NAME + 'Label');\n\n    this._warnControlledUsage();\n\n    let { defaultValue = DEFAULT_STATE_VALUE } = props;\n    if (typeof defaultValue === 'number') {\n      // This isn't allowed per the props, but happens anyway.\n      defaultValue = String(defaultValue);\n    }\n    this.state = {\n      uncontrolledValue: this._isControlled ? undefined : defaultValue,\n      isFocused: false,\n      errorMessage: '',\n    };\n\n    this._delayedValidate = this._async.debounce(this._validate, this.props.deferredValidationTime);\n    this._lastValidation = 0;\n  }\n\n  /**\n   * Gets the current value of the text field.\n   */\n  public get value(): string | undefined {\n    return _getValue(this.props, this.state);\n  }\n\n  public componentDidMount(): void {\n    this._adjustInputHeight();\n\n    if (this.props.validateOnLoad) {\n      this._validate(this.value);\n    }\n  }\n\n  public componentWillUnmount() {\n    this._async.dispose();\n  }\n\n  public getSnapshotBeforeUpdate(prevProps: ITextFieldProps, prevState: ITextFieldState): ITextFieldSnapshot | null {\n    return {\n      selection: [this.selectionStart, this.selectionEnd],\n    };\n  }\n\n  public componentDidUpdate(\n    prevProps: ITextFieldProps,\n    prevState: ITextFieldState,\n    snapshot: ITextFieldSnapshot,\n  ): void {\n    const props = this.props;\n    const { selection = [null, null] } = snapshot || {};\n    const [start, end] = selection;\n\n    if (!!prevProps.multiline !== !!props.multiline && prevState.isFocused) {\n      // The text field has just changed between single- and multi-line, so we need to reset focus\n      // and selection/cursor.\n      this.focus();\n      if (start !== null && end !== null && start >= 0 && end >= 0) {\n        this.setSelectionRange(start, end);\n      }\n    }\n\n    const prevValue = _getValue(prevProps, prevState);\n    const value = this.value;\n    if (prevValue !== value) {\n      // Handle controlled/uncontrolled warnings and status\n      this._warnControlledUsage(prevProps);\n\n      // Clear error message if needed\n      // TODO: is there any way to do this without an extra render?\n      if (this.state.errorMessage && !props.errorMessage) {\n        this.setState({ errorMessage: '' });\n      }\n\n      // Adjust height if needed based on new value\n      this._adjustInputHeight();\n\n      // Reset the record of the last value seen by a change/input event\n      this._lastChangeValue = undefined;\n\n      // TODO: #5875 added logic to trigger validation in componentWillReceiveProps and other places.\n      // This seems a bit odd and hard to integrate with the new approach.\n      // (Starting to think we should just put the validation logic in a separate wrapper component...?)\n      if (_shouldValidateAllChanges(props)) {\n        this._delayedValidate(value);\n      }\n    }\n  }\n\n  public render(): JSX.Element {\n    const {\n      borderless,\n      className,\n      disabled,\n      iconProps,\n      inputClassName,\n      label,\n      multiline,\n      required,\n      underlined,\n      prefix,\n      resizable,\n      suffix,\n      theme,\n      styles,\n      autoAdjustHeight,\n      onRenderPrefix = this._onRenderPrefix,\n      onRenderSuffix = this._onRenderSuffix,\n      onRenderLabel = this._onRenderLabel,\n      onRenderDescription = this._onRenderDescription,\n    } = this.props;\n    const { isFocused } = this.state;\n    const errorMessage = this._errorMessage;\n\n    this._classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      disabled,\n      focused: isFocused,\n      required,\n      multiline,\n      hasLabel: !!label,\n      hasErrorMessage: !!errorMessage,\n      borderless,\n      resizable,\n      hasIcon: !!iconProps,\n      underlined,\n      inputClassName,\n      autoAdjustHeight,\n    });\n\n    return (\n      <div className={this._classNames.root}>\n        <div className={this._classNames.wrapper}>\n          {onRenderLabel(this.props, this._onRenderLabel)}\n          <div className={this._classNames.fieldGroup}>\n            {(prefix !== undefined || this.props.onRenderPrefix) && (\n              <div className={this._classNames.prefix}>{onRenderPrefix(this.props, this._onRenderPrefix)}</div>\n            )}\n            {multiline ? this._renderTextArea() : this._renderInput()}\n            {iconProps && <Icon className={this._classNames.icon} {...iconProps} />}\n            {(suffix !== undefined || this.props.onRenderSuffix) && (\n              <div className={this._classNames.suffix}>{onRenderSuffix(this.props, this._onRenderSuffix)}</div>\n            )}\n          </div>\n        </div>\n        {this._isDescriptionAvailable && (\n          <span id={this._descriptionId}>\n            {onRenderDescription(this.props, this._onRenderDescription)}\n            {errorMessage && (\n              <div role=\"alert\">\n                <DelayedRender>\n                  <p className={this._classNames.errorMessage}>\n                    <span data-automation-id=\"error-message\">{errorMessage}</span>\n                  </p>\n                </DelayedRender>\n              </div>\n            )}\n          </span>\n        )}\n      </div>\n    );\n  }\n\n  /**\n   * Sets focus on the text field\n   */\n  public focus() {\n    if (this._textElement.current) {\n      this._textElement.current.focus();\n    }\n  }\n\n  /**\n   * Blurs the text field.\n   */\n  public blur() {\n    if (this._textElement.current) {\n      this._textElement.current.blur();\n    }\n  }\n\n  /**\n   * Selects the text field\n   */\n  public select() {\n    if (this._textElement.current) {\n      this._textElement.current.select();\n    }\n  }\n\n  /**\n   * Sets the selection start of the text field to a specified value\n   */\n  public setSelectionStart(value: number): void {\n    if (this._textElement.current) {\n      this._textElement.current.selectionStart = value;\n    }\n  }\n\n  /**\n   * Sets the selection end of the text field to a specified value\n   */\n  public setSelectionEnd(value: number): void {\n    if (this._textElement.current) {\n      this._textElement.current.selectionEnd = value;\n    }\n  }\n\n  /**\n   * Gets the selection start of the text field\n   */\n  public get selectionStart(): number | null {\n    return this._textElement.current ? this._textElement.current.selectionStart : -1;\n  }\n\n  /**\n   * Gets the selection end of the text field\n   */\n  public get selectionEnd(): number | null {\n    return this._textElement.current ? this._textElement.current.selectionEnd : -1;\n  }\n\n  /**\n   * Sets the start and end positions of a selection in a text field.\n   * @param start - Index of the start of the selection.\n   * @param end - Index of the end of the selection.\n   */\n  public setSelectionRange(start: number, end: number): void {\n    if (this._textElement.current) {\n      (this._textElement.current as HTMLInputElement).setSelectionRange(start, end);\n    }\n  }\n\n  private _warnControlledUsage(prevProps?: ITextFieldProps): void {\n    // Show warnings if props are being used in an invalid way\n    warnControlledUsage({\n      componentId: this._id,\n      componentName: COMPONENT_NAME,\n      props: this.props,\n      oldProps: prevProps,\n      valueProp: 'value',\n      defaultValueProp: 'defaultValue',\n      onChangeProp: 'onChange',\n      readOnlyProp: 'readOnly',\n    });\n\n    if (this.props.value === null && !this._hasWarnedNullValue) {\n      this._hasWarnedNullValue = true;\n      warn(\n        `Warning: 'value' prop on '${COMPONENT_NAME}' should not be null. Consider using an ` +\n          'empty string to clear the component or undefined to indicate an uncontrolled component.',\n      );\n    }\n  }\n\n  /** Returns `props.id` if available, or a fallback if not. */\n  private get _id(): string {\n    return this.props.id || this._fallbackId;\n  }\n\n  private get _isControlled(): boolean {\n    return isControlled(this.props, 'value');\n  }\n\n  private _onFocus = (ev: React.FocusEvent<HTMLInputElement | HTMLTextAreaElement>): void => {\n    if (this.props.onFocus) {\n      this.props.onFocus(ev);\n    }\n\n    this.setState({ isFocused: true }, () => {\n      if (this.props.validateOnFocusIn) {\n        this._validate(this.value);\n      }\n    });\n  };\n\n  private _onBlur = (ev: React.FocusEvent<HTMLInputElement | HTMLTextAreaElement>): void => {\n    if (this.props.onBlur) {\n      this.props.onBlur(ev);\n    }\n\n    this.setState({ isFocused: false }, () => {\n      if (this.props.validateOnFocusOut) {\n        this._validate(this.value);\n      }\n    });\n  };\n\n  private _onRenderLabel = (props: ITextFieldProps): JSX.Element | null => {\n    const { label, required } = props;\n    // IProcessedStyleSet definition requires casting for what Label expects as its styles prop\n    const labelStyles = this._classNames.subComponentStyles\n      ? (this._classNames.subComponentStyles.label as IStyleFunctionOrObject<ILabelStyleProps, ILabelStyles>)\n      : undefined;\n\n    if (label) {\n      return (\n        <Label required={required} htmlFor={this._id} styles={labelStyles} disabled={props.disabled} id={this._labelId}>\n          {props.label}\n        </Label>\n      );\n    }\n    return null;\n  };\n\n  private _onRenderDescription = (props: ITextFieldProps): JSX.Element | null => {\n    if (props.description) {\n      return <span className={this._classNames.description}>{props.description}</span>;\n    }\n    return null;\n  };\n\n  private _onRenderPrefix(props: ITextFieldProps): JSX.Element {\n    const { prefix } = props;\n    return <span style={{ paddingBottom: '1px' }}>{prefix}</span>;\n  }\n\n  private _onRenderSuffix(props: ITextFieldProps): JSX.Element {\n    const { suffix } = props;\n    return <span style={{ paddingBottom: '1px' }}>{suffix}</span>;\n  }\n\n  /**\n   * Current error message from either `props.errorMessage` or the result of `props.onGetErrorMessage`.\n   *\n   * - If there is no validation error or we have not validated the input value, errorMessage is an empty string.\n   * - If we have done the validation and there is validation error, errorMessage is the validation error message.\n   */\n  private get _errorMessage(): string | JSX.Element {\n    const { errorMessage = this.state.errorMessage } = this.props;\n    return errorMessage || '';\n  }\n\n  /**\n   * If a custom description render function is supplied then treat description as always available.\n   * Otherwise defer to the presence of description or error message text.\n   */\n  private get _isDescriptionAvailable(): boolean {\n    const props = this.props;\n    return !!(props.onRenderDescription || props.description || this._errorMessage);\n  }\n\n  private _renderTextArea(): React.ReactElement<React.HTMLAttributes<HTMLAreaElement>> {\n    const textAreaProps = getNativeProps<React.TextareaHTMLAttributes<HTMLTextAreaElement>>(\n      this.props,\n      textAreaProperties,\n      ['defaultValue'],\n    );\n    const ariaLabelledBy = this.props['aria-labelledby'] || (this.props.label ? this._labelId : undefined);\n    return (\n      <textarea\n        id={this._id}\n        {...textAreaProps}\n        ref={this._textElement as React.RefObject<HTMLTextAreaElement>}\n        value={this.value || ''}\n        onInput={this._onInputChange}\n        onChange={this._onInputChange}\n        className={this._classNames.field}\n        aria-labelledby={ariaLabelledBy}\n        aria-describedby={this._isDescriptionAvailable ? this._descriptionId : this.props['aria-describedby']}\n        aria-invalid={!!this._errorMessage}\n        aria-label={this.props.ariaLabel}\n        readOnly={this.props.readOnly}\n        onFocus={this._onFocus}\n        onBlur={this._onBlur}\n      />\n    );\n  }\n\n  private _renderInput(): React.ReactElement<React.HTMLAttributes<HTMLInputElement>> {\n    const inputProps = getNativeProps<React.HTMLAttributes<HTMLInputElement>>(this.props, inputProperties, [\n      'defaultValue',\n    ]);\n    const ariaLabelledBy = this.props['aria-labelledby'] || (this.props.label ? this._labelId : undefined);\n    return (\n      <input\n        type={'text'}\n        id={this._id}\n        aria-labelledby={ariaLabelledBy}\n        {...inputProps}\n        ref={this._textElement as React.RefObject<HTMLInputElement>}\n        value={this.value || ''}\n        onInput={this._onInputChange}\n        onChange={this._onInputChange}\n        className={this._classNames.field}\n        aria-label={this.props.ariaLabel}\n        aria-describedby={this._isDescriptionAvailable ? this._descriptionId : this.props['aria-describedby']}\n        aria-invalid={!!this._errorMessage}\n        readOnly={this.props.readOnly}\n        onFocus={this._onFocus}\n        onBlur={this._onBlur}\n      />\n    );\n  }\n\n  private _onInputChange = (event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>): void => {\n    // Previously, we needed to call both onInput and onChange due to some weird IE/React issues,\n    // which have *probably* been fixed now:\n    // - https://github.com/microsoft/fluentui/issues/744 (likely fixed)\n    // - https://github.com/microsoft/fluentui/issues/824 (confirmed fixed)\n\n    // TODO (Fabric 8?) - Switch to calling only onChange. This switch is pretty disruptive for\n    // tests (ours and maybe consumers' too), so it seemed best to do the switch in a major bump.\n\n    const element = event.target as HTMLInputElement;\n    const value = element.value;\n    // Ignore this event if the value is undefined (in case one of the IE bugs comes back)\n    if (value === undefined || value === this._lastChangeValue) {\n      return;\n    }\n    this._lastChangeValue = value;\n\n    // This is so developers can access the event properties in asynchronous callbacks\n    // https://reactjs.org/docs/events.html#event-pooling\n    event.persist();\n\n    let isSameValue: boolean;\n    this.setState(\n      (prevState: ITextFieldState, props: ITextFieldProps) => {\n        const prevValue = _getValue(props, prevState) || '';\n        isSameValue = value === prevValue;\n        // Avoid doing unnecessary work when the value has not changed.\n        if (isSameValue) {\n          return null;\n        }\n\n        // ONLY if this is an uncontrolled component, update the displayed value.\n        // (Controlled components must update the `value` prop from `onChange`.)\n        return this._isControlled ? null : { uncontrolledValue: value };\n      },\n      () => {\n        // If the value actually changed, call onChange (for either controlled or uncontrolled)\n        const { onChange } = this.props;\n        if (!isSameValue && onChange) {\n          onChange(event, value);\n        }\n      },\n    );\n  };\n\n  private _validate(value: string | undefined): void {\n    // In case _validate is called again while validation promise is executing\n    if (this._latestValidateValue === value && _shouldValidateAllChanges(this.props)) {\n      return;\n    }\n\n    this._latestValidateValue = value;\n    const onGetErrorMessage = this.props.onGetErrorMessage;\n    const result = onGetErrorMessage && onGetErrorMessage(value || '');\n\n    if (result !== undefined) {\n      if (typeof result === 'string' || !('then' in result)) {\n        this.setState({ errorMessage: result });\n        this._notifyAfterValidate(value, result);\n      } else {\n        const currentValidation: number = ++this._lastValidation;\n\n        result.then((errorMessage: string | JSX.Element) => {\n          if (currentValidation === this._lastValidation) {\n            this.setState({ errorMessage });\n          }\n          this._notifyAfterValidate(value, errorMessage);\n        });\n      }\n    } else {\n      this._notifyAfterValidate(value, '');\n    }\n  }\n\n  private _notifyAfterValidate(value: string | undefined, errorMessage: string | JSX.Element): void {\n    if (value === this.value && this.props.onNotifyValidationResult) {\n      this.props.onNotifyValidationResult(errorMessage, value);\n    }\n  }\n\n  private _adjustInputHeight(): void {\n    if (this._textElement.current && this.props.autoAdjustHeight && this.props.multiline) {\n      const textField = this._textElement.current;\n      textField.style.height = '';\n      textField.style.height = textField.scrollHeight + 'px';\n    }\n  }\n}\n\n/** Get the value from the given state and props (converting from number to string if needed) */\nfunction _getValue(props: ITextFieldProps, state: ITextFieldState): string | undefined {\n  const { value = state.uncontrolledValue } = props;\n  if (typeof value === 'number') {\n    // not allowed per typings, but happens anyway\n    return String(value);\n  }\n  return value;\n}\n\n/**\n * If `validateOnFocusIn` or `validateOnFocusOut` is true, validation should run **only** on that event.\n * Otherwise, validation should run on every change.\n */\nfunction _shouldValidateAllChanges(props: ITextFieldProps): boolean {\n  return !(props.validateOnFocusIn || props.validateOnFocusOut);\n}\n","import {\n  AnimationClassNames,\n  getGlobalClassNames,\n  getInputFocusStyle,\n  HighContrastSelector,\n  IStyle,\n  normalize,\n  getPlaceholderStyles,\n  IconFontSizes,\n} from '../../Styling';\nimport { ILabelStyles, ILabelStyleProps } from '../../Label';\nimport { ITextFieldStyleProps, ITextFieldStyles } from './TextField.types';\nimport { IStyleFunctionOrObject } from '@uifabric/utilities';\n\nconst globalClassNames = {\n  root: 'ms-TextField',\n  description: 'ms-TextField-description',\n  errorMessage: 'ms-TextField-errorMessage',\n  field: 'ms-TextField-field',\n  fieldGroup: 'ms-TextField-fieldGroup',\n  prefix: 'ms-TextField-prefix',\n  suffix: 'ms-TextField-suffix',\n  wrapper: 'ms-TextField-wrapper',\n\n  multiline: 'ms-TextField--multiline',\n  borderless: 'ms-TextField--borderless',\n  underlined: 'ms-TextField--underlined',\n  unresizable: 'ms-TextField--unresizable',\n\n  required: 'is-required',\n  disabled: 'is-disabled',\n  active: 'is-active',\n};\n\nfunction getLabelStyles(props: ITextFieldStyleProps): IStyleFunctionOrObject<ILabelStyleProps, ILabelStyles> {\n  const { underlined, disabled, focused, theme } = props;\n  const { palette, fonts } = theme;\n\n  return () => ({\n    root: [\n      underlined &&\n        disabled && {\n          color: palette.neutralTertiary,\n        },\n      underlined && {\n        fontSize: fonts.medium.fontSize,\n        marginRight: 8,\n        paddingLeft: 12,\n        paddingRight: 0,\n        lineHeight: '22px',\n        height: 32,\n      },\n      underlined &&\n        focused && {\n          selectors: {\n            [HighContrastSelector]: {\n              height: 31, // -1px to prevent jumpiness in HC with the increased border-width to 2px\n            },\n          },\n        },\n    ],\n  });\n}\n\nexport function getStyles(props: ITextFieldStyleProps): ITextFieldStyles {\n  const {\n    theme,\n    className,\n    disabled,\n    focused,\n    required,\n    multiline,\n    hasLabel,\n    borderless,\n    underlined,\n    hasIcon,\n    resizable,\n    hasErrorMessage,\n    inputClassName,\n    autoAdjustHeight,\n  } = props;\n\n  const { semanticColors, effects, fonts } = theme;\n\n  const classNames = getGlobalClassNames(globalClassNames, theme);\n\n  const fieldPrefixSuffix: IStyle = {\n    // Suffix/Prefix are not editable so the disabled slot perfectly fits.\n    background: semanticColors.disabledBackground,\n    color: !disabled ? semanticColors.inputPlaceholderText : semanticColors.disabledText,\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0 10px',\n    lineHeight: 1,\n    whiteSpace: 'nowrap',\n    flexShrink: 0,\n  };\n\n  // placeholder style constants\n  const placeholderStyles: IStyle = [\n    fonts.medium,\n    {\n      color: semanticColors.inputPlaceholderText,\n      opacity: 1,\n    },\n  ];\n\n  const disabledPlaceholderStyles: IStyle = {\n    color: semanticColors.disabledText,\n  };\n\n  return {\n    root: [\n      classNames.root,\n      fonts.medium,\n      required && classNames.required,\n      disabled && classNames.disabled,\n      focused && classNames.active,\n      multiline && classNames.multiline,\n      borderless && classNames.borderless,\n      underlined && classNames.underlined,\n      normalize,\n      {\n        position: 'relative',\n      },\n      className,\n    ],\n    wrapper: [\n      classNames.wrapper,\n\n      underlined && [\n        {\n          display: 'flex',\n          borderBottom: `1px solid ${!hasErrorMessage ? semanticColors.inputBorder : semanticColors.errorText}`,\n          width: '100%',\n        },\n        disabled && {\n          borderBottomColor: semanticColors.disabledBackground,\n          selectors: {\n            [HighContrastSelector]: {\n              borderColor: 'GrayText',\n            },\n          },\n        },\n        !disabled && {\n          selectors: {\n            ':hover': {\n              borderBottomColor: !hasErrorMessage ? semanticColors.inputBorderHovered : semanticColors.errorText,\n              selectors: {\n                [HighContrastSelector]: {\n                  borderBottomColor: 'Highlight',\n                },\n              },\n            },\n          },\n        },\n        focused && [\n          {\n            position: 'relative',\n          },\n          getInputFocusStyle(\n            !hasErrorMessage ? semanticColors.inputFocusBorderAlt : semanticColors.errorText,\n            0,\n            'borderBottom',\n          ),\n        ],\n      ],\n    ],\n    fieldGroup: [\n      classNames.fieldGroup,\n      normalize,\n      {\n        border: `1px solid ${semanticColors.inputBorder}`,\n        borderRadius: effects.roundedCorner2,\n        background: semanticColors.inputBackground,\n        cursor: 'text',\n        height: 32,\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'stretch',\n        position: 'relative',\n      },\n      multiline && {\n        minHeight: '60px',\n        height: 'auto',\n        display: 'flex',\n      },\n\n      !focused &&\n        !disabled && {\n          selectors: {\n            ':hover': {\n              borderColor: semanticColors.inputBorderHovered,\n              selectors: {\n                [HighContrastSelector]: {\n                  borderColor: 'Highlight',\n                },\n              },\n            },\n          },\n        },\n\n      focused &&\n        !underlined &&\n        getInputFocusStyle(\n          !hasErrorMessage ? semanticColors.inputFocusBorderAlt : semanticColors.errorText,\n          effects.roundedCorner2,\n        ),\n      disabled && {\n        borderColor: semanticColors.disabledBackground,\n        selectors: {\n          [HighContrastSelector]: {\n            borderColor: 'GrayText',\n          },\n        },\n\n        cursor: 'default',\n      },\n      borderless && {\n        border: 'none',\n      },\n      borderless &&\n        focused && {\n          border: 'none',\n          selectors: {\n            ':after': {\n              border: 'none',\n            },\n          },\n        },\n      underlined && {\n        flex: '1 1 0px',\n        border: 'none',\n        textAlign: 'left',\n      },\n      underlined &&\n        disabled && {\n          backgroundColor: 'transparent',\n        },\n\n      hasErrorMessage &&\n        !underlined && {\n          borderColor: semanticColors.errorText,\n          selectors: {\n            '&:hover': {\n              borderColor: semanticColors.errorText,\n            },\n          },\n        },\n      !hasLabel &&\n        required && {\n          selectors: {\n            ':before': {\n              content: `'*'`,\n              color: semanticColors.errorText,\n              position: 'absolute',\n              top: -5,\n              right: -10,\n            },\n            [HighContrastSelector]: {\n              selectors: {\n                ':before': {\n                  right: -14, // moving the * 4 pixel to right to alleviate border clipping in HC mode.\n                },\n              },\n            },\n          },\n        },\n    ],\n    field: [\n      fonts.medium,\n      classNames.field,\n      normalize,\n      {\n        borderRadius: 0,\n        border: 'none',\n        background: 'none',\n        backgroundColor: 'transparent',\n        color: semanticColors.inputText,\n        padding: '0 8px',\n        width: '100%',\n        minWidth: 0,\n        textOverflow: 'ellipsis',\n        outline: 0,\n        selectors: {\n          '&:active, &:focus, &:hover': { outline: 0 },\n          '::-ms-clear': {\n            display: 'none',\n          },\n        },\n      },\n      getPlaceholderStyles(placeholderStyles),\n      multiline &&\n        !resizable && [\n          classNames.unresizable,\n          {\n            resize: 'none',\n          },\n        ],\n      multiline && {\n        minHeight: 'inherit',\n        lineHeight: 17,\n        flexGrow: 1,\n        paddingTop: 6,\n        paddingBottom: 6,\n        overflow: 'auto',\n        width: '100%',\n      },\n      multiline &&\n        autoAdjustHeight && {\n          overflow: 'hidden',\n        },\n      hasIcon && {\n        paddingRight: 24,\n      },\n      multiline &&\n        hasIcon && {\n          paddingRight: 40,\n        },\n      disabled && [\n        {\n          backgroundColor: semanticColors.disabledBackground,\n          color: semanticColors.disabledText,\n          borderColor: semanticColors.disabledBackground,\n        },\n        getPlaceholderStyles(disabledPlaceholderStyles),\n      ],\n      underlined && {\n        textAlign: 'left',\n      },\n      focused &&\n        !borderless && {\n          selectors: {\n            [HighContrastSelector]: {\n              paddingLeft: 11,\n              paddingRight: 11,\n            },\n          },\n        },\n      focused &&\n        multiline &&\n        !borderless && {\n          selectors: {\n            [HighContrastSelector]: {\n              paddingTop: 4, // take into consideration the 2px increased border-width (not when borderless).\n            },\n          },\n        },\n      inputClassName,\n    ],\n    icon: [\n      multiline && {\n        paddingRight: 24,\n        alignItems: 'flex-end',\n      },\n      {\n        pointerEvents: 'none',\n        position: 'absolute',\n        bottom: 6,\n        right: 8,\n        top: 'auto',\n        fontSize: IconFontSizes.medium,\n        lineHeight: 18,\n      },\n      disabled && {\n        color: semanticColors.disabledText,\n      },\n    ],\n    description: [\n      classNames.description,\n      {\n        color: semanticColors.bodySubtext,\n        fontSize: fonts.xSmall.fontSize,\n      },\n    ],\n    errorMessage: [\n      classNames.errorMessage,\n      AnimationClassNames.slideDownIn20,\n      fonts.small,\n      {\n        color: semanticColors.errorText,\n        margin: 0,\n        paddingTop: 5,\n        display: 'flex',\n        alignItems: 'center',\n      },\n    ],\n    prefix: [classNames.prefix, fieldPrefixSuffix],\n    suffix: [classNames.suffix, fieldPrefixSuffix],\n    subComponentStyles: {\n      label: getLabelStyles(props),\n    },\n  };\n}\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { TextFieldBase } from './TextField.base';\nimport { ITextFieldProps, ITextFieldStyles, ITextFieldStyleProps } from './TextField.types';\nimport { getStyles } from './TextField.styles';\nexport { ITextField } from './TextField.types';\n\nexport const TextField: React.FunctionComponent<ITextFieldProps> = styled<\n  ITextFieldProps,\n  ITextFieldStyleProps,\n  ITextFieldStyles\n>(TextFieldBase, getStyles, undefined, {\n  scope: 'TextField',\n});\n","export const MAX_COLOR_SATURATION = 100;\nexport const MAX_COLOR_HUE = 359;\nexport const MAX_COLOR_VALUE = 100;\nexport const MAX_COLOR_RGB = 255;\n/** @deprecated Use MAX_COLOR_RGB (255) or MAX_COLOR_ALPHA (100) */\nexport const MAX_COLOR_RGBA = MAX_COLOR_RGB;\nexport const MAX_COLOR_ALPHA = 100;\n\n/** Minimum length for a hexadecimal color string (not including the #) */\nexport const MIN_HEX_LENGTH = 3;\n/** Maximum length for a hexadecimal color string (not including the #) */\nexport const MAX_HEX_LENGTH = 6;\n/** Minimum length for a string of an RGBA color component */\nexport const MIN_RGBA_LENGTH = 1;\n/** Maximum length for a string of an RGBA color component */\nexport const MAX_RGBA_LENGTH = 3;\n\n/** Regular expression matching only valid hexadecimal chars */\nexport const HEX_REGEX = /^[\\da-f]{0,6}$/i;\n/** Regular expression matching only numbers */\nexport const RGBA_REGEX = /^\\d{0,3}$/;\n","import { IRGB } from './interfaces';\nimport { MAX_COLOR_RGB } from './consts';\n\n/** Converts HSV components to an RGB color. Does not set the alpha value. */\nexport function hsv2rgb(h: number, s: number, v: number): IRGB {\n  s = s / 100;\n  v = v / 100;\n\n  let rgb: number[] = [];\n\n  const c = v * s;\n  const hh = h / 60;\n  const x = c * (1 - Math.abs((hh % 2) - 1));\n  const m = v - c;\n\n  switch (Math.floor(hh)) {\n    case 0:\n      rgb = [c, x, 0];\n      break;\n\n    case 1:\n      rgb = [x, c, 0];\n      break;\n\n    case 2:\n      rgb = [0, c, x];\n      break;\n\n    case 3:\n      rgb = [0, x, c];\n      break;\n\n    case 4:\n      rgb = [x, 0, c];\n      break;\n\n    case 5:\n      rgb = [c, 0, x];\n      break;\n  }\n\n  return {\n    r: Math.round(MAX_COLOR_RGB * (rgb[0] + m)),\n    g: Math.round(MAX_COLOR_RGB * (rgb[1] + m)),\n    b: Math.round(MAX_COLOR_RGB * (rgb[2] + m)),\n  };\n}\n","/** Clamp a value to ensure it falls within a given range. */\nexport function clamp(value: number, max: number, min = 0): number {\n  return value < min ? min : value > max ? max : value;\n}\n","import { MAX_COLOR_RGB } from './consts';\nimport { clamp } from './clamp';\n\n/** Converts RGB components to a hex color string (without # prefix). */\nexport function rgb2hex(r: number, g: number, b: number): string {\n  return [_rgbToPaddedHex(r), _rgbToPaddedHex(g), _rgbToPaddedHex(b)].join('');\n}\n\n/** Converts an RGB component to a 0-padded hex component of length 2. */\nfunction _rgbToPaddedHex(num: number): string {\n  num = clamp(num, MAX_COLOR_RGB);\n  const hex = num.toString(16);\n\n  return hex.length === 1 ? '0' + hex : hex;\n}\n","import { IColor } from './interfaces';\nimport { MAX_COLOR_SATURATION, MAX_COLOR_VALUE } from './consts';\nimport { hsv2hex } from './hsv2hex';\n\n/**\n * Converts a color hue to an HTML color string (with # prefix).\n * This implementation ignores all components of `color` except hue.\n */\nexport function getFullColorString(color: IColor): string {\n  return `#${hsv2hex(color.h, MAX_COLOR_SATURATION, MAX_COLOR_VALUE)}`;\n}\n","import { hsv2rgb } from './hsv2rgb';\nimport { rgb2hex } from './rgb2hex';\n\n/** Converts HSV components to a hex color string (without # prefix). */\nexport function hsv2hex(h: number, s: number, v: number): string {\n  const { r, g, b } = hsv2rgb(h, s, v);\n\n  return rgb2hex(r, g, b);\n}\n","import { MAX_COLOR_ALPHA } from './consts';\n\n/**\n * @internal\n * Get a CSS color string from some color components.\n * If `a` is specified and not 100, returns an `rgba()` string.\n * Otherwise returns `hex` prefixed with #.\n */\nexport function _rgbaOrHexString(r: number, g: number, b: number, a: number | undefined, hex: string): string {\n  return a === MAX_COLOR_ALPHA || typeof a !== 'number' ? `#${hex}` : `rgba(${r}, ${g}, ${b}, ${a / MAX_COLOR_ALPHA})`;\n}\n","import { IColor } from './interfaces';\nimport { hsv2rgb } from './hsv2rgb';\nimport { rgb2hex } from './rgb2hex';\nimport { _rgbaOrHexString } from './_rgbaOrHexString';\n\n/**\n * Gets a color with the same hue as `color` and other components updated to match the given\n * saturation and value.\n *\n * Does not modify the original `color` and does not supply a default alpha value.\n */\nexport function updateSV(color: IColor, s: number, v: number): IColor {\n  const { r, g, b } = hsv2rgb(color.h, s, v);\n  const hex = rgb2hex(r, g, b);\n\n  return {\n    ...color,\n    s,\n    v,\n    r,\n    g,\n    b,\n    hex,\n    str: _rgbaOrHexString(r, g, b, color.a, hex),\n  };\n}\n","import * as React from 'react';\nimport { classNamesFunction, on, initializeComponentRef, KeyCodes, getId } from '../../../Utilities';\nimport {\n  IColorRectangleProps,\n  IColorRectangleStyleProps,\n  IColorRectangleStyles,\n  IColorRectangle,\n} from './ColorRectangle.types';\n\n// These imports are separated to help with bundling\nimport { IColor } from '../../../utilities/color/interfaces';\nimport { MAX_COLOR_SATURATION, MAX_COLOR_VALUE } from '../../../utilities/color/consts';\nimport { getFullColorString } from '../../../utilities/color/getFullColorString';\nimport { updateSV } from '../../../utilities/color/updateSV';\nimport { clamp } from '../../../utilities/color/clamp';\n\nconst getClassNames = classNamesFunction<IColorRectangleStyleProps, IColorRectangleStyles>();\n\nexport interface IColorRectangleState {\n  color: IColor;\n}\n\n/**\n * {@docCategory ColorPicker}\n */\nexport class ColorRectangleBase extends React.Component<IColorRectangleProps, IColorRectangleState>\n  implements IColorRectangle {\n  public static defaultProps: Partial<IColorRectangleProps> = {\n    minSize: 220,\n    ariaLabel: 'Saturation and brightness',\n    ariaValueFormat: 'Saturation {0} brightness {1}',\n    ariaDescription: 'Use left and right arrow keys to set saturation. Use up and down arrow keys to set brightness.',\n  };\n\n  private _disposables: (() => void)[] = [];\n  private _root = React.createRef<HTMLDivElement>();\n  private _isAdjustingSaturation: boolean = true;\n  private _descriptionId = getId('ColorRectangle-description');\n\n  constructor(props: IColorRectangleProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    this.state = { color: props.color };\n  }\n\n  public get color(): IColor {\n    return this.state.color;\n  }\n\n  public componentDidUpdate(\n    prevProps: Readonly<IColorRectangleProps>,\n    prevState: Readonly<IColorRectangleState>,\n  ): void {\n    // if props changed (as opposed to a state update), set the value\n    // TODO: switch to strict controlled pattern instead\n    if (prevProps !== this.props && this.props.color) {\n      this.setState({ color: this.props.color });\n    }\n  }\n\n  public componentWillUnmount() {\n    this._disposeListeners();\n  }\n\n  public render(): JSX.Element {\n    const { minSize, theme, className, styles, ariaValueFormat, ariaLabel, ariaDescription } = this.props;\n    const { color } = this.state;\n\n    const classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      minSize,\n    });\n\n    const valueText = ariaValueFormat!.replace('{0}', String(color.s)).replace('{1}', String(color.v));\n\n    return (\n      <div\n        ref={this._root}\n        tabIndex={0}\n        className={classNames.root}\n        style={{ backgroundColor: getFullColorString(color) }}\n        onMouseDown={this._onMouseDown}\n        onKeyDown={this._onKeyDown}\n        role=\"slider\"\n        // Proper description of the current hue *and* saturation\n        // (screen reader typically chooses this over aria-valuenow)\n        aria-valuetext={valueText}\n        // Narrator reads aria-valuetext first, but it also reads aria-valuenow after a pause, and\n        // per the aria spec this defaults to halfway between min/max (50) if we don't provide it.\n        // So provide the value of the most recently adjusted thing.\n        aria-valuenow={this._isAdjustingSaturation ? color.s : color.v}\n        aria-valuemin={0}\n        aria-valuemax={MAX_COLOR_VALUE}\n        aria-label={ariaLabel}\n        aria-describedby={this._descriptionId}\n        data-is-focusable={true}\n      >\n        <div className={classNames.description} id={this._descriptionId}>\n          {ariaDescription}\n        </div>\n        <div className={classNames.light} />\n        <div className={classNames.dark} />\n        <div\n          className={classNames.thumb}\n          style={{ left: color!.s + '%', top: MAX_COLOR_VALUE - color!.v + '%', backgroundColor: color!.str }}\n        />\n      </div>\n    );\n  }\n\n  private _onKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    const { color } = this.state;\n    let { s, v } = color;\n\n    const increment = ev.shiftKey ? 10 : 1;\n\n    // Intentionally DO NOT flip the color picker in RTL: its orientation is not very meaningful,\n    // and getting all the math and styles flipped correctly is tricky\n    switch (ev.which) {\n      case KeyCodes.up: {\n        this._isAdjustingSaturation = false;\n        v += increment; // V = 100 (lightest) is at the top\n        break;\n      }\n      case KeyCodes.down: {\n        this._isAdjustingSaturation = false;\n        v -= increment; // V = 0 (darkest) is at the bottom\n        break;\n      }\n      case KeyCodes.left: {\n        this._isAdjustingSaturation = true;\n        s -= increment;\n        break;\n      }\n      case KeyCodes.right: {\n        this._isAdjustingSaturation = true;\n        s += increment;\n        break;\n      }\n      default:\n        return;\n    }\n\n    this._updateColor(ev, updateSV(color, clamp(s, MAX_COLOR_SATURATION), clamp(v, MAX_COLOR_VALUE)));\n  };\n\n  private _updateColor(ev: MouseEvent | KeyboardEvent | React.MouseEvent | React.KeyboardEvent, color: IColor): void {\n    const { onChange } = this.props;\n\n    const oldColor = this.state.color;\n    if (color.s === oldColor.s && color.v === oldColor.v) {\n      return; // no change\n    }\n\n    if (onChange) {\n      onChange(ev as React.MouseEvent | React.KeyboardEvent, color);\n    }\n\n    if (!ev.defaultPrevented) {\n      this.setState({ color });\n      ev.preventDefault();\n    }\n  }\n\n  private _onMouseDown = (ev: React.MouseEvent): void => {\n    this._disposables.push(\n      on(window, 'mousemove', this._onMouseMove as (ev: MouseEvent) => void, true),\n      on(window, 'mouseup', this._disposeListeners, true),\n    );\n\n    this._onMouseMove(ev);\n  };\n\n  private _onMouseMove = (ev: MouseEvent | React.MouseEvent): void => {\n    if (!this._root.current) {\n      return;\n    }\n\n    // Leaving the following commented code which is sometimes necessary for debugging:\n    // If the primary button (1) isn't pressed, the user is no longer dragging, so turn off\n    // the event handlers and exit.\n    // tslint:disable-next-line:no-bitwise\n    // if (!(ev.buttons & 1)) {\n    //   this._disposeListeners();\n    //   return;\n    // }\n\n    const newColor = _getNewColor(ev, this.state.color, this._root.current);\n    if (newColor) {\n      this._updateColor(ev, newColor);\n    }\n  };\n\n  private _disposeListeners = (): void => {\n    this._disposables.forEach(dispose => dispose());\n    this._disposables = [];\n  };\n}\n\n/**\n * Exported for testing only.\n * @internal\n */\nexport function _getNewColor(\n  ev: MouseEvent | React.MouseEvent,\n  prevColor: IColor,\n  root: HTMLElement,\n): IColor | undefined {\n  const rectSize = root.getBoundingClientRect();\n\n  const sPercentage = (ev.clientX - rectSize.left) / rectSize.width;\n  const vPercentage = (ev.clientY - rectSize.top) / rectSize.height;\n\n  return updateSV(\n    prevColor,\n    clamp(Math.round(sPercentage * MAX_COLOR_SATURATION), MAX_COLOR_SATURATION),\n    clamp(Math.round(MAX_COLOR_VALUE - vPercentage * MAX_COLOR_VALUE), MAX_COLOR_VALUE),\n  );\n}\n","import { IColorRectangleStyleProps, IColorRectangleStyles } from './ColorRectangle.types';\nimport { HighContrastSelector } from '../../../Styling';\nimport { IsFocusVisibleClassName } from '../../../Utilities';\nimport { hiddenContentStyle } from '@uifabric/styling';\n\nexport const getStyles = (props: IColorRectangleStyleProps): IColorRectangleStyles => {\n  const { className, theme, minSize } = props;\n  const { palette, effects } = theme;\n\n  return {\n    root: [\n      'ms-ColorPicker-colorRect',\n      {\n        position: 'relative',\n        marginBottom: 8,\n        border: `1px solid ${palette.neutralLighter}`,\n        borderRadius: effects.roundedCorner2,\n        minWidth: minSize,\n        minHeight: minSize,\n        outline: 'none',\n\n        selectors: {\n          [HighContrastSelector]: {\n            MsHighContrastAdjust: 'none',\n          },\n\n          [`.${IsFocusVisibleClassName} &:focus`]: {\n            outline: `1px solid ${palette.neutralSecondary}`,\n          },\n        },\n      },\n      className,\n    ],\n    light: [\n      'ms-ColorPicker-light',\n      {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        // Intentionally DO NOT flip the color picker in RTL: its orientation is not very meaningful,\n        // and getting all the math and styles flipped correctly is tricky\n        background: 'linear-gradient(to right, white 0%, transparent 100%) /*@noflip*/',\n      },\n    ],\n    dark: [\n      'ms-ColorPicker-dark',\n      {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        background: 'linear-gradient(to bottom, transparent 0, #000 100%)',\n      },\n    ],\n    thumb: [\n      'ms-ColorPicker-thumb',\n      {\n        position: 'absolute',\n        width: 20,\n        height: 20,\n        background: 'white',\n        border: `1px solid ${palette.neutralSecondaryAlt}`,\n        borderRadius: '50%',\n        boxShadow: effects.elevation8,\n        transform: 'translate(-50%, -50%)',\n        selectors: {\n          ':before': {\n            position: 'absolute',\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0,\n            border: `2px solid ${palette.white}`,\n            borderRadius: '50%',\n            boxSizing: 'border-box',\n            content: '\"\"',\n          },\n        },\n      },\n    ],\n    description: hiddenContentStyle,\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../../Utilities';\nimport { ColorRectangleBase } from './ColorRectangle.base';\nimport { getStyles } from './ColorRectangle.styles';\nimport { IColorRectangleProps, IColorRectangleStyles, IColorRectangleStyleProps } from './ColorRectangle.types';\n\nexport const ColorRectangle: React.FunctionComponent<IColorRectangleProps> = styled<\n  IColorRectangleProps,\n  IColorRectangleStyleProps,\n  IColorRectangleStyles\n>(ColorRectangleBase, getStyles, undefined, { scope: 'ColorRectangle' });\n","import * as React from 'react';\nimport {\n  classNamesFunction,\n  initializeComponentRef,\n  on,\n  KeyCodes,\n  getWindow,\n  warnDeprecations,\n  warn,\n} from '../../../Utilities';\nimport { IColorSliderProps, IColorSliderStyleProps, IColorSliderStyles, IColorSlider } from './ColorSlider.types';\nimport { clamp } from '../../../utilities/color/clamp';\nimport { MAX_COLOR_HUE, MAX_COLOR_ALPHA } from '../../../utilities/color/consts';\n\nconst getClassNames = classNamesFunction<IColorSliderStyleProps, IColorSliderStyles>();\n\nexport interface IColorSliderState {\n  currentValue: number;\n}\n\n/**\n * {@docCategory ColorPicker}\n */\nexport class ColorSliderBase extends React.Component<IColorSliderProps, IColorSliderState> implements IColorSlider {\n  public static defaultProps: Partial<IColorSliderProps> = {\n    value: 0,\n  };\n\n  private _disposables: (() => void)[] = [];\n  private _root = React.createRef<HTMLDivElement>();\n\n  constructor(props: IColorSliderProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    warnDeprecations('ColorSlider', props, {\n      thumbColor: 'styles.sliderThumb',\n      overlayStyle: 'overlayColor',\n      isAlpha: 'type',\n      maxValue: 'type',\n      minValue: 'type',\n    });\n    // tslint:disable-next-line:deprecation\n    if (this._type !== 'hue' && !(props.overlayColor || props.overlayStyle)) {\n      warn(`ColorSlider: 'overlayColor' is required when 'type' is \"alpha\" or \"transparency\"`);\n    }\n\n    this.state = {\n      currentValue: props.value || 0,\n    };\n  }\n\n  public get value(): number {\n    return this.state.currentValue;\n  }\n\n  public componentDidUpdate(prevProps: Readonly<IColorSliderProps>, prevState: Readonly<IColorSliderState>): void {\n    // if props changed (as opposed to a state update), set the value\n    // TODO: switch to strict controlled pattern instead\n    if (prevProps !== this.props && this.props.value !== undefined) {\n      this.setState({ currentValue: this.props.value });\n    }\n  }\n\n  public componentWillUnmount() {\n    this._disposeListeners();\n  }\n\n  public render(): JSX.Element {\n    const type = this._type;\n    const maxValue = this._maxValue;\n    const {\n      // tslint:disable-next-line:deprecation\n      overlayStyle,\n      overlayColor,\n      theme,\n      className,\n      styles,\n      ariaLabel = type,\n    } = this.props;\n    const currentValue = this.value;\n\n    const classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      type,\n    });\n\n    const currentPercentage = (100 * currentValue) / maxValue;\n\n    return (\n      <div\n        ref={this._root}\n        className={classNames.root}\n        tabIndex={0}\n        onKeyDown={this._onKeyDown}\n        onMouseDown={this._onMouseDown}\n        role=\"slider\"\n        aria-valuenow={currentValue}\n        // Narrator doesn't read aria-valuenow properly\n        aria-valuetext={String(currentValue)}\n        aria-valuemin={0}\n        aria-valuemax={maxValue}\n        aria-label={ariaLabel}\n        data-is-focusable={true}\n      >\n        {!!(overlayColor || overlayStyle) && (\n          <div\n            className={classNames.sliderOverlay}\n            // this isn't included in getStyles because it may change frequently\n            style={\n              overlayColor\n                ? {\n                    background:\n                      type === 'transparency'\n                        ? `linear-gradient(to right, #${overlayColor}, transparent)`\n                        : `linear-gradient(to right, transparent, #${overlayColor})`,\n                  }\n                : overlayStyle\n            }\n          />\n        )}\n        <div className={classNames.sliderThumb} style={{ left: currentPercentage + '%' }} />\n      </div>\n    );\n  }\n\n  private get _type(): IColorSliderProps['type'] {\n    // tslint:disable-next-line:deprecation\n    const { isAlpha, type = isAlpha ? 'alpha' : 'hue' } = this.props;\n    return type;\n  }\n\n  private get _maxValue(): number {\n    return this._type === 'hue' ? MAX_COLOR_HUE : MAX_COLOR_ALPHA;\n  }\n\n  private _onKeyDown = (ev: React.KeyboardEvent): void => {\n    let currentValue = this.value;\n    const maxValue = this._maxValue;\n    const increment = ev.shiftKey ? 10 : 1;\n\n    // Intentionally DO NOT flip the color picker in RTL: its orientation is not very meaningful,\n    // and getting all the math and styles flipped correctly is tricky\n    switch (ev.which) {\n      case KeyCodes.left: {\n        currentValue -= increment;\n        break;\n      }\n      case KeyCodes.right: {\n        currentValue += increment;\n        break;\n      }\n      case KeyCodes.home: {\n        currentValue = 0;\n        break;\n      }\n      case KeyCodes.end: {\n        currentValue = maxValue;\n        break;\n      }\n      default: {\n        return;\n      }\n    }\n\n    this._updateValue(ev, clamp(currentValue, maxValue));\n  };\n\n  private _onMouseDown = (ev: React.MouseEvent<HTMLElement>): void => {\n    const win = getWindow(this as any);\n\n    if (win) {\n      this._disposables.push(\n        on(win, 'mousemove', this._onMouseMove as (ev: MouseEvent) => void, true),\n        on(win, 'mouseup', this._disposeListeners, true),\n      );\n    }\n\n    this._onMouseMove(ev);\n  };\n\n  private _onMouseMove = (ev: MouseEvent | React.MouseEvent): void => {\n    if (!this._root.current) {\n      return;\n    }\n\n    const maxValue = this._maxValue;\n    const rectSize = this._root.current.getBoundingClientRect();\n\n    const currentPercentage = (ev.clientX - rectSize.left) / rectSize.width;\n    const newValue = clamp(Math.round(currentPercentage * maxValue), maxValue);\n\n    this._updateValue(ev, newValue);\n  };\n\n  private _disposeListeners = (): void => {\n    this._disposables.forEach(dispose => dispose());\n    this._disposables = [];\n  };\n\n  private _updateValue(ev: MouseEvent | KeyboardEvent | React.MouseEvent | React.KeyboardEvent, newValue: number) {\n    if (newValue === this.value) {\n      return;\n    }\n\n    const { onChange } = this.props;\n\n    if (onChange) {\n      onChange(ev as React.MouseEvent | React.KeyboardEvent, newValue);\n    }\n\n    if (!ev.defaultPrevented) {\n      this.setState({\n        currentValue: newValue,\n      });\n      ev.preventDefault();\n    }\n  }\n}\n","import { IColorSliderStyleProps, IColorSliderStyles } from './ColorSlider.types';\nimport { IsFocusVisibleClassName } from '../../../Utilities';\n\nconst hueStyle = {\n  background:\n    // tslint:disable-next-line:max-line-length\n    'linear-gradient(to left,red 0,#f09 10%,#cd00ff 20%,#3200ff 30%,#06f 40%,#00fffd 50%,#0f6 60%,#35ff00 70%,#cdff00 80%,#f90 90%,red 100%)',\n};\n\nconst alphaStyle = {\n  backgroundImage:\n    // tslint:disable-next-line:max-line-length\n    'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAJUlEQVQYV2N89erVfwY0ICYmxoguxjgUFKI7GsTH5m4M3w1ChQC1/Ca8i2n1WgAAAABJRU5ErkJggg==)',\n};\n\nexport const getStyles = (props: IColorSliderStyleProps): IColorSliderStyles => {\n  // tslint:disable-next-line:deprecation\n  const { theme, className, type = 'hue', isAlpha: useAlphaBackground = type !== 'hue' } = props;\n  const { palette, effects } = theme;\n\n  return {\n    root: [\n      'ms-ColorPicker-slider',\n      {\n        position: 'relative',\n        height: 20,\n        marginBottom: 8,\n        border: `1px solid ${palette.neutralLight}`,\n        borderRadius: effects.roundedCorner2,\n        boxSizing: 'border-box',\n        outline: 'none',\n\n        selectors: {\n          [`.${IsFocusVisibleClassName} &:focus`]: {\n            outline: `1px solid ${palette.neutralSecondary}`,\n          },\n        },\n      },\n      useAlphaBackground ? alphaStyle : hueStyle,\n      className,\n    ],\n    sliderOverlay: [\n      'ms-ColorPicker-sliderOverlay',\n      {\n        content: '',\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n      },\n    ],\n    sliderThumb: [\n      'ms-ColorPicker-thumb',\n      'is-slider',\n      {\n        position: 'absolute',\n        width: 20,\n        height: 20,\n        background: 'white',\n        border: `1px solid ${palette.neutralSecondaryAlt}`,\n        borderRadius: '50%',\n        boxShadow: effects.elevation8,\n        transform: 'translate(-50%, -50%)',\n        top: '50%',\n      },\n    ],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../../Utilities';\nimport { ColorSliderBase } from './ColorSlider.base';\nimport { getStyles } from './ColorSlider.styles';\nimport { IColorSliderProps, IColorSliderStyleProps, IColorSliderStyles } from './ColorSlider.types';\n\nexport const ColorSlider: React.FunctionComponent<IColorSliderProps> = styled<\n  IColorSliderProps,\n  IColorSliderStyleProps,\n  IColorSliderStyles\n>(ColorSliderBase, getStyles, undefined, { scope: 'ColorSlider' });\n","import { IRGB } from './interfaces';\nimport { MAX_COLOR_ALPHA } from './consts';\nimport { hsl2rgb } from './hsl2rgb';\n\n/**\n * Converts a valid CSS color string to an RGB color.\n * Note that hex colors *must* be prefixed with # to be considered valid.\n * Alpha in returned color defaults to 100.\n * Four and eight digit hex values (with alpha) are supported if the current browser supports them.\n */\nexport function cssColor(color?: string): IRGB | undefined {\n  if (!color) {\n    return undefined;\n  }\n\n  // Need to check the following valid color formats: RGB(A), HSL(A), hex, named color\n\n  // First check for well formatted RGB(A), HSL(A), and hex formats at the start.\n  // This is for perf (no creating an element) and catches the intentional \"transparent\" color\n  //   case early on.\n  const easyColor: IRGB | undefined = _rgba(color) || _hex6(color) || _hex3(color) || _hsla(color);\n  if (easyColor) {\n    return easyColor;\n  }\n\n  // if the above fails, do the more expensive catch-all\n  return _browserCompute(color);\n}\n\n/**\n * Uses the browser's getComputedStyle() to determine what the passed-in color is.\n * This assumes _rgba, _hex6, _hex3, and _hsla have already been tried and all failed.\n * This works by attaching an element to the DOM, which may fail in server-side rendering\n *   or with headless browsers.\n */\nfunction _browserCompute(str: string): IRGB | undefined {\n  if (typeof document === 'undefined') {\n    // don't throw an error when used server-side\n    return undefined;\n  }\n  const elem = document.createElement('div');\n  elem.style.backgroundColor = str;\n  // This element must be attached to the DOM for getComputedStyle() to have a value\n  elem.style.position = 'absolute';\n  elem.style.top = '-9999px';\n  elem.style.left = '-9999px';\n  elem.style.height = '1px';\n  elem.style.width = '1px';\n  document.body.appendChild(elem);\n  const eComputedStyle = getComputedStyle(elem);\n  const computedColor = eComputedStyle && eComputedStyle.backgroundColor;\n  document.body.removeChild(elem);\n  // computedColor is always an RGB(A) string, except for invalid colors in IE/Edge which return 'transparent'\n\n  // browsers return one of these if the color string is invalid,\n  // so need to differentiate between an actual error and intentionally passing in this color\n  if (computedColor === 'rgba(0, 0, 0, 0)' || computedColor === 'transparent') {\n    switch (str.trim()) {\n      // RGB and HSL were already checked at the start of the function\n      case 'transparent':\n      case '#0000':\n      case '#00000000':\n        return { r: 0, g: 0, b: 0, a: 0 };\n    }\n    return undefined;\n  }\n\n  return _rgba(computedColor);\n}\n\n/**\n * If `str` is in valid `rgb()` or `rgba()` format, returns an RGB color (alpha defaults to 100).\n * Otherwise returns undefined.\n */\nfunction _rgba(str?: string | null): IRGB | undefined {\n  if (!str) {\n    return undefined;\n  }\n\n  const match = str.match(/^rgb(a?)\\(([\\d., ]+)\\)$/);\n  if (match) {\n    const hasAlpha = !!match[1];\n    const expectedPartCount = hasAlpha ? 4 : 3;\n    const parts = match[2].split(/ *, */).map(Number);\n\n    if (parts.length === expectedPartCount) {\n      return {\n        r: parts[0],\n        g: parts[1],\n        b: parts[2],\n        a: hasAlpha ? parts[3] * 100 : MAX_COLOR_ALPHA,\n      };\n    }\n  }\n}\n\n/**\n * If `str` is in `hsl()` or `hsla()` format, returns an RGB color (alpha defaults to 100).\n * Otherwise returns undefined.\n */\nfunction _hsla(str: string): IRGB | undefined {\n  const match = str.match(/^hsl(a?)\\(([\\d., ]+)\\)$/);\n  if (match) {\n    const hasAlpha = !!match[1];\n    const expectedPartCount = hasAlpha ? 4 : 3;\n    const parts = match[2].split(/ *, */).map(Number);\n\n    if (parts.length === expectedPartCount) {\n      const rgba = hsl2rgb(parts[0], parts[1], parts[2]);\n      rgba.a = hasAlpha ? parts[3] * 100 : MAX_COLOR_ALPHA;\n      return rgba;\n    }\n  }\n}\n\n/**\n * If `str` is in valid 6-digit hex format *with* # prefix, returns an RGB color (with alpha 100).\n * Otherwise returns undefined.\n */\nfunction _hex6(str: string): IRGB | undefined {\n  if ('#' === str[0] && 7 === str.length && /^#[\\da-fA-F]{6}$/.test(str)) {\n    return {\n      r: parseInt(str.slice(1, 3), 16),\n      g: parseInt(str.slice(3, 5), 16),\n      b: parseInt(str.slice(5, 7), 16),\n      a: MAX_COLOR_ALPHA,\n    };\n  }\n}\n\n/**\n * If `str` is in valid 3-digit hex format *with* # prefix, returns an RGB color (with alpha 100).\n * Otherwise returns undefined.\n */\nfunction _hex3(str: string): IRGB | undefined {\n  if ('#' === str[0] && 4 === str.length && /^#[\\da-fA-F]{3}$/.test(str)) {\n    return {\n      r: parseInt(str[1] + str[1], 16),\n      g: parseInt(str[2] + str[2], 16),\n      b: parseInt(str[3] + str[3], 16),\n      a: MAX_COLOR_ALPHA,\n    };\n  }\n}\n","import { IRGB } from './interfaces';\nimport { hsl2hsv } from './hsl2hsv';\nimport { hsv2rgb } from './hsv2rgb';\n\n/** Converts HSL components to an RGB color. Does not set the alpha value. */\nexport function hsl2rgb(h: number, s: number, l: number): IRGB {\n  const hsv = hsl2hsv(h, s, l);\n\n  return hsv2rgb(hsv.h, hsv.s, hsv.v);\n}\n","import { IHSV } from './interfaces';\n\n/** Converts HSL components to an HSV color. */\nexport function hsl2hsv(h: number, s: number, l: number): IHSV {\n  s *= (l < 50 ? l : 100 - l) / 100;\n  const v = l + s;\n\n  return {\n    h: h,\n    s: v === 0 ? 0 : ((2 * s) / v) * 100,\n    v: v,\n  };\n}\n","import { IRGB, IColor } from './interfaces';\nimport { MAX_COLOR_ALPHA } from './consts';\nimport { rgb2hsv } from './rgb2hsv';\nimport { rgb2hex } from './rgb2hex';\nimport { _rgbaOrHexString } from './_rgbaOrHexString';\n\n/** Converts an RGBA color to a color object (alpha defaults to 100). */\nexport function getColorFromRGBA(rgba: IRGB): IColor {\n  const { a = MAX_COLOR_ALPHA, b, g, r } = rgba;\n  const { h, s, v } = rgb2hsv(r, g, b);\n  const hex = rgb2hex(r, g, b);\n  const str = _rgbaOrHexString(r, g, b, a, hex);\n  const t = MAX_COLOR_ALPHA - a;\n\n  return { a, b, g, h, hex, r, s, str, v, t };\n}\n","import { IHSV } from './interfaces';\nimport { MAX_COLOR_RGB } from './consts';\n\n/** Converts RGB components to an HSV color. */\nexport function rgb2hsv(r: number, g: number, b: number): IHSV {\n  let h = NaN;\n  let s;\n  let v;\n  const max = Math.max(r, g, b);\n  const min = Math.min(r, g, b);\n  const delta = max - min;\n\n  // hue\n  if (delta === 0) {\n    h = 0;\n  } else if (r === max) {\n    h = ((g - b) / delta) % 6;\n  } else if (g === max) {\n    h = (b - r) / delta + 2;\n  } else if (b === max) {\n    h = (r - g) / delta + 4;\n  }\n\n  h = Math.round(h * 60);\n\n  if (h < 0) {\n    h += 360;\n  }\n\n  // saturation\n  s = Math.round((max === 0 ? 0 : delta / max) * 100);\n\n  // value\n  v = Math.round((max / MAX_COLOR_RGB) * 100);\n\n  return { h, s, v };\n}\n","import { IColor } from './interfaces';\nimport { cssColor } from './cssColor';\nimport { getColorFromRGBA } from './getColorFromRGBA';\n\n/**\n * Converts a CSS color string to a color object.\n * Note that hex colors *must* be prefixed with # to be considered valid.\n *\n * `inputColor` will be used unmodified as the `str` property of the returned object.\n * Alpha defaults to 100 if not specified in `inputColor`.\n * Returns undefined if the color string is invalid/not recognized.\n */\nexport function getColorFromString(inputColor: string): IColor | undefined {\n  const color = cssColor(inputColor);\n\n  if (!color) {\n    return;\n  }\n\n  return {\n    ...getColorFromRGBA(color!),\n    str: inputColor,\n  };\n}\n","import { IColor } from './interfaces';\nimport { _rgbaOrHexString } from './_rgbaOrHexString';\nimport { MAX_COLOR_ALPHA } from './consts';\n\n/**\n * Gets a color with the given alpha value and the same other components as `color`.\n * Does not modify the original color.\n */\nexport function updateA(color: IColor, a: number): IColor {\n  return {\n    ...color,\n    a,\n    t: MAX_COLOR_ALPHA - a,\n    str: _rgbaOrHexString(color.r, color.g, color.b, a, color.hex),\n  };\n}\n","import { IColor } from './interfaces';\nimport { _rgbaOrHexString } from './_rgbaOrHexString';\nimport { MAX_COLOR_ALPHA } from './consts';\n\n/**\n * Gets a color with the given transparency value and the same other components as `color`.\n * Does not modify the original color.\n */\nexport function updateT(color: IColor, t: number): IColor {\n  const a = MAX_COLOR_ALPHA - t;\n  return {\n    ...color,\n    t,\n    a,\n    str: _rgbaOrHexString(color.r, color.g, color.b, a, color.hex),\n  };\n}\n","import * as React from 'react';\nimport { classNamesFunction, initializeComponentRef, warnDeprecations, warn } from '../../Utilities';\nimport {\n  IColorPickerProps,\n  IColorPickerStyleProps,\n  IColorPickerStyles,\n  IColorPicker,\n  IColorPickerStrings,\n} from './ColorPicker.types';\nimport { TextField } from '../../TextField';\nimport { ColorRectangle } from './ColorRectangle/ColorRectangle';\nimport { ColorSlider } from './ColorSlider/ColorSlider';\nimport {\n  MAX_COLOR_ALPHA,\n  MAX_COLOR_RGB,\n  MAX_HEX_LENGTH,\n  MAX_RGBA_LENGTH,\n  MIN_HEX_LENGTH,\n  MIN_RGBA_LENGTH,\n  HEX_REGEX,\n  RGBA_REGEX,\n} from '../../utilities/color/consts';\n// These imports are separated to help with bundling\nimport { IColor, IRGB } from '../../utilities/color/interfaces';\nimport { getColorFromString } from '../../utilities/color/getColorFromString';\nimport { getColorFromRGBA } from '../../utilities/color/getColorFromRGBA';\nimport { clamp } from '../../utilities/color/clamp';\nimport { updateA } from '../../utilities/color/updateA';\nimport { updateT } from '../../utilities/color/updateT';\nimport { updateH } from '../../utilities/color/updateH';\nimport { correctRGB } from '../../utilities/color/correctRGB';\nimport { correctHex } from '../../utilities/color/correctHex';\nimport { ColorRectangleBase } from './ColorRectangle/ColorRectangle.base';\n\ntype ColorComponent = keyof Pick<IColor, 'r' | 'g' | 'b' | 'a' | 't' | 'hex'>;\n\nexport interface IColorPickerState {\n  /** Most recently selected color */\n  color: IColor;\n  /** Color component currently being edited via a text field (if intermediate value is invalid) */\n  editingColor?: {\n    /** Which color component is being edited */\n    component: ColorComponent;\n    /** Currently entered value, which is not valid */\n    value: string;\n  };\n}\n\nconst getClassNames = classNamesFunction<IColorPickerStyleProps, IColorPickerStyles>();\n\nconst allColorComponents: ColorComponent[] = ['hex', 'r', 'g', 'b', 'a', 't'];\n\n/**\n * {@docCategory ColorPicker}\n */\nexport class ColorPickerBase extends React.Component<IColorPickerProps, IColorPickerState> implements IColorPicker {\n  public static defaultProps: Partial<IColorPickerProps> = {\n    alphaType: 'alpha',\n    strings: {\n      rootAriaLabelFormat: 'Color picker, {0} selected.',\n      hex: 'Hex',\n      red: 'Red',\n      green: 'Green',\n      blue: 'Blue',\n      alpha: 'Alpha',\n      transparency: 'Transparency',\n      hueAriaLabel: 'Hue',\n      svAriaLabel: ColorRectangleBase.defaultProps.ariaLabel!,\n      svAriaValueFormat: ColorRectangleBase.defaultProps.ariaValueFormat!,\n      svAriaDescription: ColorRectangleBase.defaultProps.ariaDescription!,\n    },\n  };\n\n  private _textChangeHandlers: {\n    [K in ColorComponent]: (event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>, newValue?: string) => void;\n  };\n  /**\n   * Strings displayed in the UI as text field labels (these are in a separate object for convenient\n   * indexing by short color component name).\n   */\n  private _textLabels: { [K in ColorComponent]: string };\n\n  /** Strings besides red/green/blue/alpha/hex, with defaults for all values except the deprecated `hue` */\n  private _strings: Required<Omit<IColorPickerStrings, ColorComponent | 'hue'>> & Pick<IColorPickerStrings, 'hue'>;\n\n  constructor(props: IColorPickerProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    const strings = props.strings!; // always defined since it's in defaultProps\n\n    warnDeprecations('ColorPicker', props, {\n      hexLabel: 'strings.hex',\n      redLabel: 'strings.red',\n      greenLabel: 'strings.green',\n      blueLabel: 'strings.blue',\n      alphaLabel: 'strings.alpha',\n      alphaSliderHidden: 'alphaType',\n    });\n\n    // tslint:disable-next-line:deprecation\n    if (strings.hue) {\n      // warnDeprecations can't handle nested deprecated props\n      warn(\"ColorPicker property 'strings.hue' was used but has been deprecated. Use 'strings.hueAriaLabel' instead.\");\n    }\n\n    this.state = {\n      color: _getColorFromProps(props) || getColorFromString('#ffffff')!,\n    };\n\n    this._textChangeHandlers = {} as any;\n    for (const component of allColorComponents) {\n      this._textChangeHandlers[component] = this._onTextChange.bind(this, component);\n    }\n\n    const defaultStrings = ColorPickerBase.defaultProps.strings as Required<IColorPickerStrings>;\n\n    this._textLabels = {\n      // tslint:disable:deprecation\n      r: props.redLabel || strings.red || defaultStrings.red,\n      g: props.greenLabel || strings.green || defaultStrings.green,\n      b: props.blueLabel || strings.blue || defaultStrings.blue,\n      a: props.alphaLabel || strings.alpha || defaultStrings.alpha,\n      hex: props.hexLabel || strings.hex || defaultStrings.hex,\n      t: strings.transparency || defaultStrings.transparency,\n      // tslint:enable:deprecation\n    };\n\n    this._strings = {\n      ...defaultStrings,\n      // these aria labels default to the visible labels\n      alphaAriaLabel: this._textLabels.a,\n      transparencyAriaLabel: this._textLabels.t,\n      ...strings,\n    };\n  }\n\n  public get color(): IColor {\n    return this.state.color;\n  }\n\n  public componentDidUpdate(prevProps: Readonly<IColorPickerProps>, prevState: Readonly<IColorPickerState>): void {\n    // if props changed (as opposed to a state update), update the color\n    if (prevProps !== this.props) {\n      const color = _getColorFromProps(this.props);\n      if (color) {\n        this._updateColor(undefined, color);\n      }\n    }\n  }\n\n  public render(): JSX.Element {\n    const props = this.props;\n    const strings = this._strings;\n    const textLabels = this._textLabels;\n    const {\n      theme,\n      className,\n      styles,\n      alphaType,\n      // tslint:disable-next-line:deprecation\n      alphaSliderHidden = alphaType === 'none',\n    } = props;\n    const { color } = this.state;\n    const useTransparency = alphaType === 'transparency';\n    const colorComponents = ['hex', 'r', 'g', 'b', useTransparency ? 't' : 'a'];\n    const atValue = useTransparency ? color.t : color.a;\n    const atLabel = useTransparency ? textLabels.t : textLabels.a;\n\n    const classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      alphaType,\n    });\n\n    const selectedColorAriaParts = [textLabels.r, color.r, textLabels.g, color.g, textLabels.b, color.b];\n    if (!alphaSliderHidden && typeof atValue === 'number') {\n      selectedColorAriaParts.push(atLabel, `${atValue}%`);\n    }\n    const ariaLabel = strings.rootAriaLabelFormat.replace('{0}', selectedColorAriaParts.join(' '));\n\n    return (\n      <div className={classNames.root} role=\"group\" aria-label={ariaLabel}>\n        <div className={classNames.panel}>\n          <ColorRectangle\n            color={color}\n            onChange={this._onSVChanged}\n            ariaLabel={strings.svAriaLabel}\n            ariaDescription={strings.svAriaDescription}\n            ariaValueFormat={strings.svAriaValueFormat}\n            className={classNames.colorRectangle}\n          />\n          <div className={classNames.flexContainer}>\n            <div className={classNames.flexSlider}>\n              <ColorSlider\n                className=\"is-hue\"\n                type=\"hue\"\n                // tslint:disable-next-line:deprecation\n                ariaLabel={strings.hue || strings.hueAriaLabel}\n                value={color.h}\n                onChange={this._onHChanged}\n              />\n              {!alphaSliderHidden && (\n                <ColorSlider\n                  className=\"is-alpha\"\n                  type={alphaType as 'alpha' | 'transparency'}\n                  ariaLabel={useTransparency ? strings.transparencyAriaLabel : strings.alphaAriaLabel}\n                  overlayColor={color.hex}\n                  value={atValue}\n                  onChange={this._onATChanged}\n                />\n              )}\n            </div>\n            {props.showPreview && (\n              <div className={classNames.flexPreviewBox}>\n                <div\n                  className={classNames.colorSquare + ' is-preview'}\n                  style={{\n                    backgroundColor: color.str,\n                  }}\n                />\n              </div>\n            )}\n          </div>\n\n          {/* Give the table role=group to prevent it from being read as a table (ideally we should\n          just get rid of the table, but this has the potential of breaking consumers) */}\n          <table className={classNames.table} role=\"group\" cellPadding=\"0\" cellSpacing=\"0\">\n            <thead>\n              <tr className={classNames.tableHeader}>\n                <td className={classNames.tableHexCell}>{textLabels.hex}</td>\n                <td>{textLabels.r}</td>\n                <td>{textLabels.g}</td>\n                <td>{textLabels.b}</td>\n                {!alphaSliderHidden && <td className={classNames.tableAlphaCell}>{atLabel}</td>}\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                {colorComponents.map((comp: ColorComponent) => {\n                  if ((comp === 'a' || comp === 't') && alphaSliderHidden) {\n                    return null;\n                  }\n                  return (\n                    <td key={comp}>\n                      <TextField\n                        className={classNames.input}\n                        onChange={this._textChangeHandlers[comp]}\n                        onBlur={this._onBlur}\n                        value={this._getDisplayValue(comp)}\n                        spellCheck={false}\n                        ariaLabel={textLabels[comp]}\n                        autoComplete=\"off\"\n                      />\n                    </td>\n                  );\n                })}\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  }\n\n  private _getDisplayValue(component: ColorComponent): string {\n    const { color, editingColor } = this.state;\n    if (editingColor && editingColor.component === component) {\n      return editingColor.value;\n    }\n    if (component === 'hex') {\n      return color[component] || '';\n    } else if (typeof color[component] === 'number' && !isNaN(color[component] as number)) {\n      return String(color[component]);\n    }\n    return '';\n  }\n\n  private _onSVChanged = (ev: React.MouseEvent<HTMLElement>, color: IColor): void => {\n    this._updateColor(ev, color);\n  };\n\n  private _onHChanged = (ev: React.MouseEvent<HTMLElement>, h: number): void => {\n    this._updateColor(ev, updateH(this.state.color, h));\n  };\n\n  /** Callback for when the alpha/transparency slider changes */\n  private _onATChanged = (ev: React.MouseEvent<HTMLElement>, value: number): void => {\n    const updater = this.props.alphaType === 'transparency' ? updateT : updateA;\n    this._updateColor(ev, updater(this.state.color, Math.round(value)));\n  };\n\n  private _onTextChange(component: ColorComponent, event: React.FormEvent<HTMLInputElement>, newValue?: string): void {\n    const color = this.state.color;\n    const isHex = component === 'hex';\n    const isAlpha = component === 'a';\n    const isTransparency = component === 't';\n    newValue = (newValue || '').substr(0, isHex ? MAX_HEX_LENGTH : MAX_RGBA_LENGTH);\n\n    // Ignore what the user typed if it contains invalid characters\n    const validCharsRegex = isHex ? HEX_REGEX : RGBA_REGEX;\n    if (!validCharsRegex.test(newValue)) {\n      return;\n    }\n\n    // Determine if the entry is valid (different methods for hex, alpha, and RGB)\n    let isValid: boolean;\n    if (newValue === '') {\n      // Empty string is obviously not valid\n      isValid = false;\n    } else if (isHex) {\n      // Technically hex values of length 3 are also valid, but committing the value here would\n      // cause it to be automatically converted to a value of length 6, which may not be what the\n      // user wanted if they're not finished typing. (Values of length 3 will be committed on blur.)\n      isValid = newValue.length === MAX_HEX_LENGTH;\n    } else if (isAlpha || isTransparency) {\n      isValid = Number(newValue) <= MAX_COLOR_ALPHA;\n    } else {\n      isValid = Number(newValue) <= MAX_COLOR_RGB;\n    }\n\n    if (!isValid) {\n      // If the new value is an empty string or other invalid value, save that to display.\n      // (if the user still hasn't entered anything on blur, the last value is restored)\n      this.setState({ editingColor: { component, value: newValue } });\n    } else if (String(color[component]) === newValue) {\n      // If the new value is the same as the current value, mostly ignore it.\n      // Exception is that if the user was previously editing the value (but hadn't yet entered\n      // a new valid value), we should clear the intermediate value.\n      if (this.state.editingColor) {\n        this.setState({ editingColor: undefined });\n      }\n    } else {\n      // Should be a valid color. Update the value.\n      const newColor = isHex\n        ? getColorFromString('#' + newValue)\n        : isTransparency\n        ? updateT(color, Number(newValue))\n        : getColorFromRGBA({\n            ...color,\n            // Overwrite whichever key is being updated with the new value\n            [component]: Number(newValue),\n          });\n      this._updateColor(event, newColor);\n    }\n  }\n\n  private _onBlur = (event: React.FocusEvent<HTMLInputElement>) => {\n    const { color, editingColor } = this.state;\n    if (!editingColor) {\n      return;\n    }\n\n    // If there was an intermediate incorrect value (such as too large or empty), correct it.\n    const { value, component } = editingColor;\n    const isHex = component === 'hex';\n    const isAlpha = component === 'a';\n    const isTransparency = component === 't';\n    const minLength = isHex ? MIN_HEX_LENGTH : MIN_RGBA_LENGTH;\n    if (value.length >= minLength && (isHex || !isNaN(Number(value)))) {\n      // Real value. Clamp to appropriate length (hex) or range (rgba).\n      let newColor: IColor | undefined;\n      if (isHex) {\n        newColor = getColorFromString('#' + correctHex(value));\n      } else if (isAlpha || isTransparency) {\n        const updater = isAlpha ? updateA : updateT;\n        newColor = updater(color, clamp(Number(value), MAX_COLOR_ALPHA));\n      } else {\n        newColor = getColorFromRGBA(\n          correctRGB({\n            ...color,\n            [component]: Number(value),\n          } as IRGB),\n        );\n      }\n\n      // Update state and call onChange\n      this._updateColor(event, newColor);\n    } else {\n      // Intermediate value was an empty string or too short (hex only).\n      // Just clear the intermediate state and revert to the previous value.\n      this.setState({ editingColor: undefined });\n    }\n  };\n\n  /**\n   * Update the displayed color and call change handlers if appropriate.\n   * @param ev - Event if call was triggered by an event (undefined if triggered by props change)\n   * @param newColor - Updated color\n   */\n  private _updateColor(ev: React.SyntheticEvent<HTMLElement> | undefined, newColor: IColor | undefined): void {\n    if (!newColor) {\n      return;\n    }\n\n    const { color, editingColor } = this.state;\n    // For black or white, the hue can change without changing the string.\n    const isDifferentColor = newColor.h !== color.h || newColor.str !== color.str;\n\n    if (isDifferentColor || editingColor) {\n      // If ev is undefined, it's an update from props (which should be unconditionally respected\n      // and not call onChange).\n      if (ev && this.props.onChange) {\n        this.props.onChange(ev, newColor);\n        if (ev.defaultPrevented) {\n          return;\n        }\n      }\n      this.setState({ color: newColor, editingColor: undefined });\n    }\n  }\n}\n\nfunction _getColorFromProps(props: IColorPickerProps): IColor | undefined {\n  const { color } = props;\n  return typeof color === 'string' ? getColorFromString(color) : color;\n}\n","import { IColor } from './interfaces';\nimport { hsv2rgb } from './hsv2rgb';\nimport { rgb2hex } from './rgb2hex';\nimport { _rgbaOrHexString } from './_rgbaOrHexString';\n\n/**\n * Gets a color with the same saturation and value as `color` and the other components updated\n * to match the given hue.\n *\n * Does not modify the original `color` and does not supply a default alpha value.\n */\nexport function updateH(color: IColor, h: number): IColor {\n  const { r, g, b } = hsv2rgb(h, color.s, color.v);\n  const hex = rgb2hex(r, g, b);\n\n  return {\n    ...color,\n    h,\n    r,\n    g,\n    b,\n    hex,\n    str: _rgbaOrHexString(r, g, b, color.a, hex),\n  };\n}\n","import { MIN_HEX_LENGTH, MAX_HEX_LENGTH } from './consts';\n\n/**\n * Corrects a hex color to have length 3 or 6. Defaults to white if too short.\n * Does NOT check anything besides the length (such as valid characters) and does NOT handle\n * hex values starting with # sign.\n */\nexport function correctHex(hex: string): string {\n  if (!hex || hex.length < MIN_HEX_LENGTH) {\n    return 'ffffff'; // not a valid color--default to white\n  }\n  if (hex.length >= MAX_HEX_LENGTH) {\n    return hex.substring(0, MAX_HEX_LENGTH);\n  }\n  return hex.substring(0, MIN_HEX_LENGTH);\n}\n","import { IRGB } from './interfaces';\nimport { MAX_COLOR_ALPHA, MAX_COLOR_RGB } from './consts';\nimport { clamp } from './clamp';\n\n/** Corrects an RGB color to fall within the valid range.  */\nexport function correctRGB(color: IRGB): IRGB {\n  return {\n    r: clamp(color.r, MAX_COLOR_RGB),\n    g: clamp(color.g, MAX_COLOR_RGB),\n    b: clamp(color.b, MAX_COLOR_RGB),\n    a: typeof color.a === 'number' ? clamp(color.a, MAX_COLOR_ALPHA) : color.a,\n  };\n}\n","import { IColorPickerStyleProps, IColorPickerStyles } from './ColorPicker.types';\n\nexport const getStyles = (props: IColorPickerStyleProps): IColorPickerStyles => {\n  const { className, theme, alphaType } = props;\n\n  return {\n    root: [\n      'ms-ColorPicker',\n      theme.fonts.medium,\n      {\n        position: 'relative',\n        maxWidth: 300,\n      },\n      className,\n    ],\n    panel: [\n      'ms-ColorPicker-panel',\n      {\n        padding: '16px',\n      },\n    ],\n    table: [\n      'ms-ColorPicker-table',\n      {\n        tableLayout: 'fixed',\n        width: '100%',\n        selectors: {\n          'tbody td:last-of-type .ms-ColorPicker-input': {\n            paddingRight: 0,\n          },\n        },\n      },\n    ],\n    tableHeader: [\n      theme.fonts.small,\n      {\n        selectors: {\n          td: {\n            paddingBottom: 4,\n          },\n        },\n      },\n    ],\n    tableHexCell: {\n      width: '25%',\n    },\n    // Account for \"Transparency\" being a longer word\n    tableAlphaCell: alphaType === 'transparency' && {\n      width: '22%',\n    },\n    colorSquare: [\n      'ms-ColorPicker-colorSquare',\n      {\n        width: 48,\n        height: 48,\n        margin: '0 0 0 8px',\n        border: '1px solid #c8c6c4',\n      },\n    ],\n    flexContainer: {\n      display: 'flex',\n    },\n    flexSlider: {\n      flexGrow: '1',\n    },\n    flexPreviewBox: {\n      flexGrow: '0',\n    },\n    input: [\n      'ms-ColorPicker-input',\n      {\n        width: '100%',\n        border: 'none',\n        boxSizing: 'border-box',\n        height: 30,\n        selectors: {\n          '&.ms-TextField': {\n            paddingRight: 4,\n          },\n          '& .ms-TextField-field': {\n            minWidth: 'auto',\n            padding: 5,\n            textOverflow: 'clip',\n          },\n        },\n      },\n    ],\n  };\n};\n","/**\n * The days of the week\n * {@docCategory DayOfWeek}\n */\nexport enum DayOfWeek {\n  Sunday = 0,\n  Monday = 1,\n  Tuesday = 2,\n  Wednesday = 3,\n  Thursday = 4,\n  Friday = 5,\n  Saturday = 6,\n}\n\n/**\n * The months\n * {@docCategory MonthOfYear}\n */\nexport enum MonthOfYear {\n  January = 0,\n  February = 1,\n  March = 2,\n  April = 3,\n  May = 4,\n  June = 5,\n  July = 6,\n  August = 7,\n  September = 8,\n  October = 9,\n  November = 10,\n  December = 11,\n}\n\n/**\n * First week of the year settings types\n * {@docCategory FirstWeekOfYear}\n */\nexport enum FirstWeekOfYear {\n  FirstDay = 0,\n  FirstFullWeek = 1,\n  FirstFourDayWeek = 2,\n}\n\n/**\n * The supported date range types\n * {@docCategory DateRangeType}\n */\nexport enum DateRangeType {\n  Day = 0,\n  Week = 1,\n  Month = 2,\n  WorkWeek = 3,\n}\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { ColorPickerBase } from './ColorPicker.base';\nimport { getStyles } from './ColorPicker.styles';\nimport { IColorPickerProps, IColorPickerStyles, IColorPickerStyleProps } from './ColorPicker.types';\n\nexport const ColorPicker: React.FunctionComponent<IColorPickerProps> = styled<\n  IColorPickerProps,\n  IColorPickerStyleProps,\n  IColorPickerStyles\n>(ColorPickerBase, getStyles, undefined, { scope: 'ColorPicker' });\n","// Regex that finds { and } so they can be removed on a lookup for string format\nconst FORMAT_ARGS_REGEX = /[\\{\\}]/g;\n\n// Regex that finds {#} so it can be replaced by the arguments in string format\nconst FORMAT_REGEX = /\\{\\d+\\}/g;\n\n/**\n * String format method, used for scenarios where at runtime you\n * need to evaluate a formatted string given a tokenized string. This\n * usually only is needed in localization scenarios.\n\n * @example\n * ```tsx\n * \"I love {0} every {1}\".format(\"CXP\")\n * ```\n * will result in a Debug Exception.\n *\n * @public\n */\n// tslint:disable-next-line:no-any\nexport function format(s: string, ...values: any[]): string {\n  let args = values;\n  // Callback match function\n  function replaceFunc(match: string): string {\n    // looks up in the args\n    // tslint:disable-next-line:no-any\n    let replacement = args[match.replace(FORMAT_ARGS_REGEX, '') as any];\n\n    // catches undefined in nondebug and null in debug and nondebug\n    if (replacement === null || replacement === undefined) {\n      replacement = '';\n    }\n\n    return replacement;\n  }\n  return s.replace(FORMAT_REGEX, replaceFunc);\n}\n","/**\n * Common constants and methods\n */\nconst TimeConstants = {\n  MillisecondsInOneDay: 86400000,\n  MillisecondsIn1Sec: 1000,\n  MillisecondsIn1Min: 60000,\n  MillisecondsIn30Mins: 1800000,\n  MillisecondsIn1Hour: 3600000,\n  MinutesInOneDay: 1440,\n  MinutesInOneHour: 60,\n  DaysInOneWeek: 7,\n  MonthInOneYear: 12,\n};\nexport default TimeConstants;\n","import { DayOfWeek, MonthOfYear, FirstWeekOfYear, DateRangeType } from '../dateValues/DateValues';\nimport TimeConstants from '../dateValues/TimeConstants';\nimport { assertNever } from '../../Utilities';\n\n/**\n * Returns a date offset from the given date by the specified number of days.\n * @param date - The origin date\n * @param days - The number of days to offset. 'days' can be negative.\n * @returns A new Date object offset from the origin date by the given number of days\n */\nexport function addDays(date: Date, days: number): Date {\n  const result = new Date(date.getTime());\n  result.setDate(result.getDate() + days);\n  return result;\n}\n\n/**\n * Returns a date offset from the given date by the specified number of weeks.\n * @param date - The origin date\n * @param weeks - The number of weeks to offset. 'weeks' can be negative.\n * @returns A new Date object offset from the origin date by the given number of weeks\n */\nexport function addWeeks(date: Date, weeks: number): Date {\n  return addDays(date, weeks * TimeConstants.DaysInOneWeek);\n}\n\n/**\n * Returns a date offset from the given date by the specified number of months.\n * The method tries to preserve the day-of-month; however, if the new month does not have enough days\n * to contain the original day-of-month, we'll use the last day of the new month.\n * @param date - The origin date\n * @param months - The number of months to offset. 'months' can be negative.\n * @returns A new Date object offset from the origin date by the given number of months\n */\nexport function addMonths(date: Date, months: number): Date {\n  let result = new Date(date.getTime());\n  const newMonth = result.getMonth() + months;\n  result.setMonth(newMonth);\n\n  // We want to maintain the same day-of-month, but that may not be possible if the new month doesn't have enough days.\n  // Loop until we back up to a day the new month has.\n  // (Weird modulo math is due to Javascript's treatment of negative numbers in modulo)\n  if (\n    result.getMonth() !==\n    ((newMonth % TimeConstants.MonthInOneYear) + TimeConstants.MonthInOneYear) % TimeConstants.MonthInOneYear\n  ) {\n    result = addDays(result, -result.getDate());\n  }\n  return result;\n}\n\n/**\n * Returns a date offset from the given date by the specified number of years.\n * The method tries to preserve the day-of-month; however, if the new month does not have enough days\n * to contain the original day-of-month, we'll use the last day of the new month.\n * @param date - The origin date\n * @param years - The number of years to offset. 'years' can be negative.\n * @returns A new Date object offset from the origin date by the given number of years\n */\nexport function addYears(date: Date, years: number): Date {\n  let result = new Date(date.getTime());\n  result.setFullYear(date.getFullYear() + years);\n\n  // We want to maintain the same day-of-month, but that may not be possible if the new month doesn't have enough days.\n  // Loop until we back up to a day the new month has.\n  // (Weird modulo math is due to Javascript's treatment of negative numbers in modulo)\n  if (\n    result.getMonth() !==\n    ((date.getMonth() % TimeConstants.MonthInOneYear) + TimeConstants.MonthInOneYear) % TimeConstants.MonthInOneYear\n  ) {\n    result = addDays(result, -result.getDate());\n  }\n  return result;\n}\n\n/**\n * Returns a date that is the first day of the month of the provided date.\n * @param date - The origin date\n * @returns A new Date object with the day set to the first day of the month.\n */\nexport function getMonthStart(date: Date): Date {\n  return new Date(date.getFullYear(), date.getMonth(), 1, 0, 0, 0, 0);\n}\n\n/**\n * Returns a date that is the last day of the month of the provided date.\n * @param date - The origin date\n * @returns A new Date object with the day set to the last day of the month.\n */\nexport function getMonthEnd(date: Date): Date {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 0, 0, 0, 0, 0);\n}\n\n/**\n * Returns a date that is the first day of the year of the provided date.\n * @param date - The origin date\n * @returns A new Date object with the day set to the first day of the year.\n */\nexport function getYearStart(date: Date): Date {\n  return new Date(date.getFullYear(), 0, 1, 0, 0, 0, 0);\n}\n\n/**\n * Returns a date that is the last day of the year of the provided date.\n * @param date - The origin date\n * @returns A new Date object with the day set to the last day of the year.\n */\nexport function getYearEnd(date: Date): Date {\n  return new Date(date.getFullYear() + 1, 0, 0, 0, 0, 0, 0);\n}\n\n/**\n * Returns a date that is a copy of the given date, aside from the month changing to the given month.\n *  The method tries to preserve the day-of-month; however, if the new month does not have enough days\n * to contain the original day-of-month, we'll use the last day of the new month.\n * @param date - The origin date\n * @param month - The 0-based index of the month to set on the date.\n * @returns A new Date object with the given month set.\n */\nexport function setMonth(date: Date, month: number): Date {\n  return addMonths(date, month - date.getMonth());\n}\n\n/**\n * Compares two dates, and returns true if the two dates (not accounting for time-of-day) are equal.\n * @returns True if the two dates represent the same date (regardless of time-of-day), false otherwise.\n */\nexport function compareDates(date1: Date, date2: Date): boolean {\n  if (!date1 && !date2) {\n    return true;\n  } else if (!date1 || !date2) {\n    return false;\n  } else {\n    return (\n      date1.getFullYear() === date2.getFullYear() &&\n      date1.getMonth() === date2.getMonth() &&\n      date1.getDate() === date2.getDate()\n    );\n  }\n}\n\n/**\n * Compare the date parts of two dates\n * @param date1 - The first date to compare\n * @param date2 - The second date to compare\n * @returns A negative value if date1 is earlier than date2, 0 if the dates are equal, or a positive value\n * if date1 is later than date2.\n */\nexport function compareDatePart(date1: Date, date2: Date): Number {\n  return getDatePartHashValue(date1) - getDatePartHashValue(date2);\n}\n\n/**\n * Gets the date range array including the specified date. The date range array is calculated as the list\n * of dates accounting for the specified first day of the week and date range type.\n * @param date - The input date\n * @param dateRangeType - The desired date range type, i.e., day, week, month, etc.\n * @param firstDayOfWeek - The first day of the week.\n * @param workWeekDays - The allowed days in work week. If not provided, assumes all days are allowed.\n * @param daysToSelectInDayView - The number of days to include when using dateRangeType === DateRangeType.Day\n * for multiday view. Defaults to 1\n * @returns An array of dates representing the date range containing the specified date.\n */\nexport function getDateRangeArray(\n  date: Date,\n  dateRangeType: DateRangeType,\n  firstDayOfWeek: DayOfWeek,\n  workWeekDays?: DayOfWeek[],\n  daysToSelectInDayView: number = 1,\n): Date[] {\n  const datesArray = new Array<Date>();\n  let startDate: Date;\n  let endDate = null;\n\n  if (!workWeekDays) {\n    workWeekDays = [DayOfWeek.Monday, DayOfWeek.Tuesday, DayOfWeek.Wednesday, DayOfWeek.Thursday, DayOfWeek.Friday];\n  }\n\n  daysToSelectInDayView = Math.max(daysToSelectInDayView, 1);\n\n  switch (dateRangeType) {\n    case DateRangeType.Day:\n      startDate = getDatePart(date);\n      endDate = addDays(startDate, daysToSelectInDayView);\n      break;\n\n    case DateRangeType.Week:\n    case DateRangeType.WorkWeek:\n      startDate = getStartDateOfWeek(getDatePart(date), firstDayOfWeek);\n      endDate = addDays(startDate, TimeConstants.DaysInOneWeek);\n      break;\n\n    case DateRangeType.Month:\n      startDate = new Date(date.getFullYear(), date.getMonth(), 1);\n      endDate = addMonths(startDate, 1);\n      break;\n\n    default:\n      return assertNever(dateRangeType);\n  }\n\n  // Populate the dates array with the dates in range\n  let nextDate = startDate;\n\n  do {\n    if (dateRangeType !== DateRangeType.WorkWeek) {\n      // push all days not in work week view\n      datesArray.push(nextDate);\n    } else if (workWeekDays.indexOf(nextDate.getDay()) !== -1) {\n      datesArray.push(nextDate);\n    }\n    nextDate = addDays(nextDate, 1);\n  } while (!compareDates(nextDate, endDate));\n\n  return datesArray;\n}\n\n/**\n * Checks whether the specified date is in the given date range.\n * @param date - The origin date\n * @param dateRange - An array of dates to do the lookup on\n * @returns True if the date matches one of the dates in the specified array, false otherwise.\n */\nexport function isInDateRangeArray(date: Date, dateRange: Date[]): boolean {\n  for (const dateInRange of dateRange) {\n    if (compareDates(date, dateInRange)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Returns the week number for a date.\n * Week numbers are 1 - 52 (53) in a year\n * @param navigatedDate - A date to find the week number for.\n * @param firstDayOfWeek - The first day of the week (0-6, Sunday = 0)\n * @param firstWeekOfYear - The first week of the year (1-2)\n * @returns The weeks number array for the current month.\n */\nexport function getWeekNumbersInMonth(\n  weeksInMonth: number,\n  firstDayOfWeek: DayOfWeek,\n  firstWeekOfYear: FirstWeekOfYear,\n  navigatedDate: Date,\n): number[] {\n  const selectedYear = navigatedDate.getFullYear();\n  const selectedMonth = navigatedDate.getMonth();\n  let dayOfMonth = 1;\n  const fistDayOfMonth = new Date(selectedYear, selectedMonth, dayOfMonth);\n  const endOfFirstWeek =\n    dayOfMonth +\n    (firstDayOfWeek + TimeConstants.DaysInOneWeek - 1) -\n    adjustWeekDay(firstDayOfWeek, fistDayOfMonth.getDay());\n  let endOfWeekRange = new Date(selectedYear, selectedMonth, endOfFirstWeek);\n  dayOfMonth = endOfWeekRange.getDate();\n\n  const weeksArray = [];\n  for (let i = 0; i < weeksInMonth; i++) {\n    // Get week number for end of week\n    weeksArray.push(getWeekNumber(endOfWeekRange, firstDayOfWeek, firstWeekOfYear));\n    dayOfMonth += TimeConstants.DaysInOneWeek;\n    endOfWeekRange = new Date(selectedYear, selectedMonth, dayOfMonth);\n  }\n  return weeksArray;\n}\n\n/**\n * Returns the week number for a date.\n * Week numbers are 1 - 52 (53) in a year\n * @param date - A date to find the week number for.\n * @param firstDayOfWeek - The first day of the week (0-6, Sunday = 0)\n * @param firstWeekOfYear - The first week of the year (1-2)\n * @returns The week's number in the year.\n */\nexport function getWeekNumber(date: Date, firstDayOfWeek: DayOfWeek, firstWeekOfYear: FirstWeekOfYear): number {\n  // First four-day week of the year - minumum days count\n  const fourDayWeek = 4;\n\n  switch (firstWeekOfYear) {\n    case FirstWeekOfYear.FirstFullWeek:\n      return getWeekOfYearFullDays(date, firstDayOfWeek, TimeConstants.DaysInOneWeek);\n\n    case FirstWeekOfYear.FirstFourDayWeek:\n      return getWeekOfYearFullDays(date, firstDayOfWeek, fourDayWeek);\n\n    default:\n      return getFirstDayWeekOfYear(date, firstDayOfWeek);\n  }\n}\n\n/**\n * Gets the date for the first day of the week based on the given date assuming\n * the specified first day of the week.\n * @param date - The date to find the beginning of the week date for.\n * @returns A new date object representing the first day of the week containing the input date.\n */\nexport function getStartDateOfWeek(date: Date, firstDayOfWeek: DayOfWeek): Date {\n  let daysOffset = firstDayOfWeek - date.getDay();\n  if (daysOffset > 0) {\n    // If first day of week is > date, go 1 week back, to ensure resulting date is in the past.\n    daysOffset -= TimeConstants.DaysInOneWeek;\n  }\n  return addDays(date, daysOffset);\n}\n\n/**\n * Gets a new date with the time portion zeroed out, i.e., set to midnight\n * @param date - The origin date\n * @returns A new date with the time set to midnight\n */\nfunction getDatePart(date: Date): Date {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n}\n\n/**\n * Helper function to assist in date comparisons\n */\nfunction getDatePartHashValue(date: Date): number {\n  // Generate date hash value created as sum of Date (up to 31 = 5 bits), Month (up to 11 = 4 bits) and Year.\n  /* tslint:disable:no-bitwise */\n  return date.getDate() + (date.getMonth() << 5) + (date.getFullYear() << 9);\n  /* tslint:enable:no-bitwise */\n}\n\n/**\n * Helper function for getWeekNumber.\n * Returns week number for a date\n * @param date - current selected date.\n * @param firstDayOfWeek - The first day of week (0-6, Sunday = 0)\n * @param numberOfFullDays - week settings.\n * @returns The week's number in the year.\n */\nfunction getWeekOfYearFullDays(date: Date, firstDayOfWeek: DayOfWeek, numberOfFullDays: number): number {\n  const dayOfYear = getDayOfYear(date) - 1;\n  let num = date.getDay() - (dayOfYear % TimeConstants.DaysInOneWeek);\n\n  const lastDayOfPrevYear = new Date(date.getFullYear() - 1, MonthOfYear.December, 31);\n  const daysInYear = getDayOfYear(lastDayOfPrevYear) - 1;\n\n  let num2 = (firstDayOfWeek - num + 2 * TimeConstants.DaysInOneWeek) % TimeConstants.DaysInOneWeek;\n  if (num2 !== 0 && num2 >= numberOfFullDays) {\n    num2 -= TimeConstants.DaysInOneWeek;\n  }\n\n  let num3 = dayOfYear - num2;\n  if (num3 < 0) {\n    num -= daysInYear % TimeConstants.DaysInOneWeek;\n    num2 = (firstDayOfWeek - num + 2 * TimeConstants.DaysInOneWeek) % TimeConstants.DaysInOneWeek;\n    if (num2 !== 0 && num2 + 1 >= numberOfFullDays) {\n      num2 -= TimeConstants.DaysInOneWeek;\n    }\n\n    num3 = daysInYear - num2;\n  }\n\n  return Math.floor(num3 / TimeConstants.DaysInOneWeek + 1);\n}\n\n/**\n * Helper function for getWeekNumber.\n * Returns week number for a date\n * @param date - current selected date.\n * @param firstDayOfWeek - The first day of week (0-6, Sunday = 0)\n * @returns The week's number in the year.\n */\nfunction getFirstDayWeekOfYear(date: Date, firstDayOfWeek: number): number {\n  const num = getDayOfYear(date) - 1;\n  const num2 = date.getDay() - (num % TimeConstants.DaysInOneWeek);\n  const num3 = (num2 - firstDayOfWeek + 2 * TimeConstants.DaysInOneWeek) % TimeConstants.DaysInOneWeek;\n\n  return Math.floor((num + num3) / TimeConstants.DaysInOneWeek + 1);\n}\n\n/**\n * Helper function for getWeekNumber.\n * Returns adjusted week day number when firstDayOfWeek is other than Sunday\n * For Week Day Number comparison checks\n * @param firstDayOfWeek - The first day of week (0-6, Sunday = 0)\n * @param dateWeekDay - shifts number forward to 1 week in case passed as true\n * @returns The day of week adjusted to `firstDayOfWeek`; e.g. when `firstDayOfWeek` is Monday (1),\n * Sunday becomes 7.\n */\nfunction adjustWeekDay(firstDayOfWeek: DayOfWeek, dateWeekDay: DayOfWeek): number {\n  return firstDayOfWeek !== DayOfWeek.Sunday && dateWeekDay < firstDayOfWeek\n    ? dateWeekDay + TimeConstants.DaysInOneWeek\n    : dateWeekDay;\n}\n\n/**\n * Returns the day number for a date in a year\n * The number of days since January 1st in the particular year.\n * @param date - A date to find the day number for.\n * @returns The day's number in the year.\n */\nfunction getDayOfYear(date: Date): number {\n  const month = date.getMonth();\n  const year = date.getFullYear();\n  let daysUntilDate = 0;\n\n  for (let i = 0; i < month; i++) {\n    daysUntilDate += daysInMonth(i + 1, year);\n  }\n\n  daysUntilDate += date.getDate();\n\n  return daysUntilDate;\n}\n\n/**\n * Returns the number of days in the month\n * @param month - The month number to target (months 1-12).\n * @param year - The year to target.\n * @returns The number of days in the month.\n */\nfunction daysInMonth(month: number, year: number): number {\n  return new Date(year, month, 0).getDate();\n}\n","/**\n * AssertNever is a utility function that can be used for exhaustiveness checks in switch statements.\n *\n * @public\n */\nexport function assertNever(x: never): never {\n  throw new Error('Unexpected object: ' + x);\n}\n","/* tslint:disable */\nimport { loadStyles } from '@microsoft/load-themed-styles';\nloadStyles([{\"rawString\":\".root_5e2d5ab6{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:none;box-shadow:none;margin:0;padding:0}.root_5e2d5ab6 *{overflow:visible}.root_5e2d5ab6 ::-moz-focus-inner{border:0}.root_5e2d5ab6 *{outline:transparent;position:relative}.ms-Fabric--isFocusVisible .root_5e2d5ab6 :focus:after{content:\\\"\\\";position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none;border:1px solid}.picker_5e2d5ab6{color:\"},{\"theme\":\"black\",\"defaultValue\":\"#000000\"},{\"rawString\":\";font-size:14px;position:relative}html[dir=ltr] .picker_5e2d5ab6{text-align:left}html[dir=rtl] .picker_5e2d5ab6{text-align:right}.holder_5e2d5ab6{-webkit-overflow-scrolling:touch;-webkit-box-sizing:border-box;box-sizing:border-box;display:none}.picker_5e2d5ab6.pickerIsOpened_5e2d5ab6 .holder_5e2d5ab6{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block}.frame_5e2d5ab6,.pickerIsOpened_5e2d5ab6{position:relative}.wrap_5e2d5ab6{min-height:212px;padding:12px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-sizing:content-box;box-sizing:content-box}.wrap_5e2d5ab6.goTodaySpacing_5e2d5ab6{min-height:228px}.dayPicker_5e2d5ab6{display:block}.header_5e2d5ab6{position:relative;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:28px;line-height:44px;width:100%}.divider_5e2d5ab6{top:0;margin-top:-12px;margin-bottom:-12px}html[dir=ltr] .divider_5e2d5ab6{border-right:1px solid}html[dir=rtl] .divider_5e2d5ab6{border-left:1px solid}.decade_5e2d5ab6,.monthAndYear_5e2d5ab6,.year_5e2d5ab6{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-size:14px;font-weight:400;font-weight:600;color:\"},{\"theme\":\"neutralPrimary\",\"defaultValue\":\"#323130\"},{\"rawString\":\";padding:0 5px}.currentDecade_5e2d5ab6:hover,.currentYear_5e2d5ab6:hover,.monthAndYear_5e2d5ab6:hover{cursor:default}.table_5e2d5ab6{text-align:center;border-collapse:collapse;border-spacing:0;table-layout:fixed;font-size:inherit;margin-top:4px;width:197px}.table_5e2d5ab6 td{margin:0;padding:0}.dayWrapper_5e2d5ab6,.weekday_5e2d5ab6{width:28px;height:28px;padding:0;line-height:28px;font-size:12px;font-size:15px;font-weight:400;color:\"},{\"theme\":\"neutralPrimary\",\"defaultValue\":\"#323130\"},{\"rawString\":\";-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:default}.dayWrapper_5e2d5ab6 ::-moz-focus-inner,.weekday_5e2d5ab6 ::-moz-focus-inner{border:0}.dayWrapper_5e2d5ab6 *,.weekday_5e2d5ab6 *{outline:transparent;position:relative}.ms-Fabric--isFocusVisible .dayWrapper_5e2d5ab6 :focus:after,.ms-Fabric--isFocusVisible .weekday_5e2d5ab6 :focus:after{content:\\\"\\\";position:absolute;top:-2px;right:-2px;bottom:-2px;left:-2px;pointer-events:none;border:1px solid}.day_5e2d5ab6{width:24px;height:24px;border-radius:2px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border:none;padding:0;background-color:transparent;line-height:100%;font-size:inherit;color:inherit;font-weight:inherit}@media screen and (-ms-high-contrast:active){.daySelection_5e2d5ab6 .day_5e2d5ab6:active,.daySelection_5e2d5ab6 .day_5e2d5ab6:hover{outline:1px solid highlight}}@media screen and (-ms-high-contrast:active){.daySelection_5e2d5ab6 .day_5e2d5ab6:active{color:highlight}}.dayIsToday_5e2d5ab6{border-radius:100%}.dayIsToday_5e2d5ab6,.dayIsToday_5e2d5ab6:hover{position:relative;background-color:\"},{\"theme\":\"neutralLighter\",\"defaultValue\":\"#f3f2f1\"},{\"rawString\":\"}@media screen and (-ms-high-contrast:active){.dayIsToday_5e2d5ab6,.dayIsToday_5e2d5ab6:hover{background-color:highlight}}.dayIsToday_5e2d5ab6:hover,.dayIsToday_5e2d5ab6:hover:hover{border-radius:100%}.dayIsDisabled_5e2d5ab6:before{border-top-color:\"},{\"theme\":\"neutralTertiary\",\"defaultValue\":\"#a19f9d\"},{\"rawString\":\"}.dayIsUnfocused_5e2d5ab6{color:\"},{\"theme\":\"neutralSecondary\",\"defaultValue\":\"#605e5c\"},{\"rawString\":\";font-weight:400}.dayIsFocused_5e2d5ab6:hover,.dayIsUnfocused_5e2d5ab6:hover{cursor:pointer;background:\"},{\"theme\":\"neutralLighter\",\"defaultValue\":\"#f3f2f1\"},{\"rawString\":\";color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\"}.daySelection_5e2d5ab6.dayIsHighlighted_5e2d5ab6:hover,.pickerIsFocused_5e2d5ab6 .dayIsHighlighted_5e2d5ab6.daySelection_5e2d5ab6{cursor:pointer;background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\";border-radius:2px}@media screen and (-ms-high-contrast:active){.daySelection_5e2d5ab6.dayIsHighlighted_5e2d5ab6:hover,.pickerIsFocused_5e2d5ab6 .dayIsHighlighted_5e2d5ab6.daySelection_5e2d5ab6{border:2px solid Highlight}.daySelection_5e2d5ab6.dayIsHighlighted_5e2d5ab6:hover :not(.dayIsToday_5e2d5ab6) span,.pickerIsFocused_5e2d5ab6 .dayIsHighlighted_5e2d5ab6.daySelection_5e2d5ab6 :not(.dayIsToday_5e2d5ab6) span{color:Highlight}}@media screen and (-ms-high-contrast:active){.dayIsHighlighted_5e2d5ab6 button.dayIsToday_5e2d5ab6{border-radius:100%}}@media screen and (-ms-high-contrast:active){.dayIsHighlighted_5e2d5ab6 button.dayIsToday_5e2d5ab6 span{color:Window}}.dayIsFocused_5e2d5ab6:active,.dayIsHighlighted_5e2d5ab6{background-color:\"},{\"theme\":\"themeLight\",\"defaultValue\":\"#c7e0f4\"},{\"rawString\":\"}.dayIsFocused_5e2d5ab6:active.day_5e2d5ab6,.dayIsHighlighted_5e2d5ab6.day_5e2d5ab6{color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\";background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\"}.dayIsHighlighted_5e2d5ab6.dayDisabled_5e2d5ab6,.dayIsHighlighted_5e2d5ab6.dayDisabled_5e2d5ab6:hover{background:\"},{\"theme\":\"neutralTertiary\",\"defaultValue\":\"#a19f9d\"},{\"rawString\":\"}.dayBackground_5e2d5ab6,.dayBackground_5e2d5ab6:active,.dayBackground_5e2d5ab6:hover{border-radius:2px}.dayHover_5e2d5ab6,.dayHover_5e2d5ab6:hover{cursor:pointer;background:\"},{\"theme\":\"neutralLighter\",\"defaultValue\":\"#f3f2f1\"},{\"rawString\":\";color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\"}.dayPress_5e2d5ab6,.dayPress_5e2d5ab6:hover{cursor:pointer;color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\";background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\"}.dayPress_5e2d5ab6 .dayIsToday_5e2d5ab6,.dayPress_5e2d5ab6:hover .dayIsToday_5e2d5ab6{background:\"},{\"theme\":\"themePrimary\",\"defaultValue\":\"#0078d4\"},{\"rawString\":\";border-radius:100%}.dayIsFocused_5e2d5ab6:active,.dayIsHighlighted_5e2d5ab6,.dayIsHighlighted_5e2d5ab6:active,.dayIsHighlighted_5e2d5ab6:hover,.dayIsUnfocused_5e2d5ab6:active,.weekBackground_5e2d5ab6,.weekBackground_5e2d5ab6:active,.weekBackground_5e2d5ab6:hover{background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\";color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\"}.dayIsToday_5e2d5ab6,.dayIsToday_5e2d5ab6.day_5e2d5ab6:active,.pickerIsFocused_5e2d5ab6 .dayIsToday_5e2d5ab6{position:relative;color:\"},{\"theme\":\"white\",\"defaultValue\":\"#ffffff\"},{\"rawString\":\";font-weight:600;background:\"},{\"theme\":\"themePrimary\",\"defaultValue\":\"#0078d4\"},{\"rawString\":\";border-radius:100%}.showWeekNumbers_5e2d5ab6 .weekNumbers_5e2d5ab6{border-right:1px solid;-webkit-box-sizing:border-box;box-sizing:border-box;width:28px;padding:0}.showWeekNumbers_5e2d5ab6 .weekNumbers_5e2d5ab6 .dayWrapper_5e2d5ab6{color:\"},{\"theme\":\"neutralSecondary\",\"defaultValue\":\"#605e5c\"},{\"rawString\":\"}.showWeekNumbers_5e2d5ab6 .weekNumbers_5e2d5ab6 .dayWrapper_5e2d5ab6.weekIsHighlighted_5e2d5ab6{color:\"},{\"theme\":\"neutralPrimary\",\"defaultValue\":\"#323130\"},{\"rawString\":\"}.showWeekNumbers_5e2d5ab6 .table_5e2d5ab6{width:225px}.showWeekNumbers_5e2d5ab6 .table_5e2d5ab6 .dayWrapper_5e2d5ab6,.showWeekNumbers_5e2d5ab6 .table_5e2d5ab6 .weekday_5e2d5ab6{width:30px}.showWeekNumbersRTL_5e2d5ab6 .weekNumbers_5e2d5ab6{border-left:1px solid;-webkit-box-sizing:border-box;box-sizing:border-box}.showWeekNumbersRTL_5e2d5ab6 .weekNumbers_5e2d5ab6 .dayWrapper_5e2d5ab6{color:\"},{\"theme\":\"neutralSecondary\",\"defaultValue\":\"#605e5c\"},{\"rawString\":\"}.showWeekNumbersRTL_5e2d5ab6 .weekNumbers_5e2d5ab6 .dayWrapper_5e2d5ab6.weekIsHighlighted_5e2d5ab6{color:\"},{\"theme\":\"neutralPrimary\",\"defaultValue\":\"#323130\"},{\"rawString\":\"}.showWeekNumbersRTL_5e2d5ab6 .table_5e2d5ab6{width:225px}.showWeekNumbersRTL_5e2d5ab6 .table_5e2d5ab6 .dayWrapper_5e2d5ab6,.showWeekNumbersRTL_5e2d5ab6 .table_5e2d5ab6 .weekday_5e2d5ab6{width:30px}.decadeComponents_5e2d5ab6,.monthComponents_5e2d5ab6,.yearComponents_5e2d5ab6{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-item-align:end;align-self:flex-end}.closeButton_5e2d5ab6,.nextDecade_5e2d5ab6,.nextMonth_5e2d5ab6,.nextYear_5e2d5ab6,.prevDecade_5e2d5ab6,.prevMonth_5e2d5ab6,.prevYear_5e2d5ab6{width:28px;height:28px;display:block;line-height:28px;text-align:center;font-size:12px;color:\"},{\"theme\":\"neutralPrimary\",\"defaultValue\":\"#323130\"},{\"rawString\":\";border-radius:2px;position:relative;background-color:transparent;border:none;padding:0}.closeButton_5e2d5ab6:hover,.nextDecade_5e2d5ab6:hover,.nextMonth_5e2d5ab6:hover,.nextYear_5e2d5ab6:hover,.prevDecade_5e2d5ab6:hover,.prevMonth_5e2d5ab6:hover,.prevYear_5e2d5ab6:hover{cursor:pointer;outline:1px solid transparent}.nextDecadeIsDisabled_5e2d5ab6,.nextMonthIsDisabled_5e2d5ab6,.nextYearIsDisabled_5e2d5ab6,.prevDecadeIsDisabled_5e2d5ab6,.prevMonthIsDisabled_5e2d5ab6,.prevYearIsDisabled_5e2d5ab6{color:\"},{\"theme\":\"neutralTertiaryAlt\",\"defaultValue\":\"#c8c6c4\"},{\"rawString\":\";pointer-events:none}.headerToggleView_5e2d5ab6{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:4px 8px}.headerToggleView_5e2d5ab6:hover{color:\"},{\"theme\":\"black\",\"defaultValue\":\"#000000\"},{\"rawString\":\";cursor:pointer}@media screen and (-ms-high-contrast:active){.headerToggleView_5e2d5ab6:hover{outline:1px solid highlight}}@media screen and (-ms-high-contrast:active){.headerToggleView_5e2d5ab6:hover:active{color:highlight}}.currentDecade_5e2d5ab6,.currentYear_5e2d5ab6{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;padding:0 5px;font-size:14px;font-weight:400;font-weight:600;color:\"},{\"theme\":\"neutralPrimary\",\"defaultValue\":\"#323130\"},{\"rawString\":\";height:28px;line-height:28px}html[dir=ltr] .currentDecade_5e2d5ab6,html[dir=ltr] .currentYear_5e2d5ab6{margin-left:5px}html[dir=rtl] .currentDecade_5e2d5ab6,html[dir=rtl] .currentYear_5e2d5ab6{margin-right:5px}.optionGrid_5e2d5ab6{position:relative;height:210px;width:196px;margin:4px 0 0}html[dir=rtl] .optionGrid_5e2d5ab6{margin:4px 0 0}.monthOption_5e2d5ab6,.yearOption_5e2d5ab6{width:60px;height:60px;line-height:100%;cursor:pointer;margin:0 10px 10px 0;font-size:13px;font-weight:400;color:\"},{\"theme\":\"neutralPrimary\",\"defaultValue\":\"#323130\"},{\"rawString\":\";text-align:center;border:none;padding:0;background-color:transparent;border-radius:2px}html[dir=ltr] .monthOption_5e2d5ab6,html[dir=ltr] .yearOption_5e2d5ab6{float:left}html[dir=rtl] .monthOption_5e2d5ab6,html[dir=rtl] .yearOption_5e2d5ab6{float:right;margin:0 0 10px 10px}.monthOption_5e2d5ab6:hover,.yearOption_5e2d5ab6:hover{color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\";background-color:\"},{\"theme\":\"neutralLighter\",\"defaultValue\":\"#f3f2f1\"},{\"rawString\":\";outline:1px solid transparent}@media screen and (-ms-high-contrast:active){.monthOption_5e2d5ab6:hover,.yearOption_5e2d5ab6:hover{outline-color:highlight}}@media screen and (-ms-high-contrast:active){.monthOption_5e2d5ab6:active,.yearOption_5e2d5ab6:active{color:highlight}}.monthOption_5e2d5ab6.isHighlighted_5e2d5ab6,.yearOption_5e2d5ab6.isHighlighted_5e2d5ab6{background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\";color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\"}.dayIsDisabled_5e2d5ab6,.monthOptionIsDisabled_5e2d5ab6,.yearOptionIsDisabled_5e2d5ab6{color:\"},{\"theme\":\"neutralTertiaryAlt\",\"defaultValue\":\"#c8c6c4\"},{\"rawString\":\";pointer-events:none}.goToday_5e2d5ab6{bottom:0;color:\"},{\"theme\":\"themePrimary\",\"defaultValue\":\"#0078d4\"},{\"rawString\":\";cursor:pointer;font-size:12px;font-weight:400;color:\"},{\"theme\":\"neutralPrimary\",\"defaultValue\":\"#323130\"},{\"rawString\":\";height:30px;line-height:30px;padding:0 10px;background-color:transparent;border:none;position:absolute!important;-webkit-box-sizing:content-box;box-sizing:content-box}[dir=ltr] .goToday_5e2d5ab6{right:13px}[dir=rtl] .goToday_5e2d5ab6{left:13px}.goToday_5e2d5ab6:hover{color:\"},{\"theme\":\"themePrimary\",\"defaultValue\":\"#0078d4\"},{\"rawString\":\";outline:1px solid transparent}@media screen and (-ms-high-contrast:active){.goToday_5e2d5ab6:hover{outline-color:highlight}}.goToday_5e2d5ab6:active{color:\"},{\"theme\":\"themeDark\",\"defaultValue\":\"#005a9e\"},{\"rawString\":\"}@media screen and (-ms-high-contrast:active){.goToday_5e2d5ab6:active{color:highlight}}.goToTodayIsDisabled_5e2d5ab6{color:\"},{\"theme\":\"neutralTertiaryAlt\",\"defaultValue\":\"#c8c6c4\"},{\"rawString\":\";pointer-events:none}.goTodayInlineMonth_5e2d5ab6{top:212px}.wrap_5e2d5ab6.goTodaySpacing_5e2d5ab6{padding-bottom:28px}.root_5e2d5ab6.isPickingYears_5e2d5ab6 .dayPicker_5e2d5ab6,.root_5e2d5ab6.isPickingYears_5e2d5ab6 .monthComponents_5e2d5ab6,.root_5e2d5ab6.isPickingYears_5e2d5ab6 .monthPicker_5e2d5ab6{display:none}.root_5e2d5ab6.isPickingYears_5e2d5ab6 .yearPicker_5e2d5ab6{display:block}@media (min-device-width:460px){.wrap_5e2d5ab6{padding:12px}.dayPicker_5e2d5ab6,.monthPicker_5e2d5ab6{min-height:200px}.header_5e2d5ab6{height:28px;line-height:28px;width:100%}.closeButton_5e2d5ab6,.dayWrapper_5e2d5ab6,.nextDecade_5e2d5ab6,.nextMonth_5e2d5ab6,.nextYear_5e2d5ab6,.prevDecade_5e2d5ab6,.prevMonth_5e2d5ab6,.prevYear_5e2d5ab6,.weekday_5e2d5ab6{width:28px;height:28px;line-height:28px;font-size:12px}.holder_5e2d5ab6{display:inline-block;height:auto;overflow:hidden}.decade_5e2d5ab6,.monthAndYear_5e2d5ab6,.year_5e2d5ab6{font-size:14px;color:\"},{\"theme\":\"neutralPrimary\",\"defaultValue\":\"#323130\"},{\"rawString\":\"}.yearComponents_5e2d5ab6{margin-left:1px}.goToday_5e2d5ab6{padding:0 3px}[dir=ltr] .goToday_5e2d5ab6{right:20px}[dir=rtl] .goToday_5e2d5ab6{left:20px}.showWeekNumbers_5e2d5ab6 .table_5e2d5ab6 .dayWrapper_5e2d5ab6,.showWeekNumbers_5e2d5ab6 .table_5e2d5ab6 .weekday_5e2d5ab6,.showWeekNumbersRTL_5e2d5ab6 .table_5e2d5ab6 .dayWrapper_5e2d5ab6,.showWeekNumbersRTL_5e2d5ab6 .table_5e2d5ab6 .weekday_5e2d5ab6{width:28px}.monthPickerVisible_5e2d5ab6 .wrap_5e2d5ab6{padding:12px}.monthPickerVisible_5e2d5ab6 .dayPicker_5e2d5ab6{margin:-10px 0;padding:10px 0;-webkit-box-sizing:border-box;box-sizing:border-box;width:212px;min-height:200px}.monthPickerVisible_5e2d5ab6 .monthPicker_5e2d5ab6{display:block}.monthPickerVisible_5e2d5ab6 .optionGrid_5e2d5ab6{height:150px;width:196px}.monthPickerVisible_5e2d5ab6 .toggleMonthView_5e2d5ab6{display:none}.monthPickerVisible_5e2d5ab6 .currentDecade_5e2d5ab6,.monthPickerVisible_5e2d5ab6 .currentYear_5e2d5ab6{font-size:14px;margin:0;height:28px;line-height:28px;display:inline-block}.monthPickerVisible_5e2d5ab6 .monthOption_5e2d5ab6,.monthPickerVisible_5e2d5ab6 .yearOption_5e2d5ab6{width:40px;height:40px;line-height:100%;font-size:12px;margin:0 12px 16px 0}html[dir=rtl] .monthPickerVisible_5e2d5ab6 .monthOption_5e2d5ab6,html[dir=rtl] .monthPickerVisible_5e2d5ab6 .yearOption_5e2d5ab6{margin:0 0 16px 12px}.monthPickerVisible_5e2d5ab6 .monthOption_5e2d5ab6:hover,.monthPickerVisible_5e2d5ab6 .yearOption_5e2d5ab6:hover{outline:1px solid transparent}.monthPickerVisible_5e2d5ab6 .monthOption_5e2d5ab6:nth-child(4n+4),.monthPickerVisible_5e2d5ab6 .yearOption_5e2d5ab6:nth-child(4n+4),html[dir=rtl] .monthPickerVisible_5e2d5ab6 .monthOption_5e2d5ab6:nth-child(4n+4),html[dir=rtl] .monthPickerVisible_5e2d5ab6 .yearOption_5e2d5ab6:nth-child(4n+4){margin:0 0 16px}.monthPickerVisible_5e2d5ab6 .goToday_5e2d5ab6{font-size:12px;height:28px;line-height:28px;padding:0 10px}[dir=ltr] .monthPickerVisible_5e2d5ab6 .goToday_5e2d5ab6{right:8px}[dir=rtl] .monthPickerVisible_5e2d5ab6 .goToday_5e2d5ab6{left:8px}html[dir=ltr] .monthPickerVisible_5e2d5ab6 .goToday_5e2d5ab6{text-align:right}html[dir=rtl] .monthPickerVisible_5e2d5ab6 .goToday_5e2d5ab6{text-align:left}.monthPickerVisible_5e2d5ab6 .root_5e2d5ab6.isPickingYears_5e2d5ab6 .dayPicker_5e2d5ab6,.monthPickerVisible_5e2d5ab6 .root_5e2d5ab6.isPickingYears_5e2d5ab6 .monthComponents_5e2d5ab6{display:block}.monthPickerVisible_5e2d5ab6 .root_5e2d5ab6.isPickingYears_5e2d5ab6 .monthPicker_5e2d5ab6{display:none}.monthPickerVisible_5e2d5ab6 .root_5e2d5ab6.isPickingYears_5e2d5ab6 .yearPicker_5e2d5ab6{display:block}.calendarsInline_5e2d5ab6 .wrap_5e2d5ab6{padding:12px}.calendarsInline_5e2d5ab6 .holder_5e2d5ab6{height:auto}html[dir=ltr] .calendarsInline_5e2d5ab6 .table_5e2d5ab6{margin-right:12px}html[dir=rtl] .calendarsInline_5e2d5ab6 .table_5e2d5ab6{margin-left:12px}.calendarsInline_5e2d5ab6 .dayPicker_5e2d5ab6{width:auto}html[dir=ltr] .calendarsInline_5e2d5ab6 .monthPicker_5e2d5ab6{margin-left:12px}html[dir=rtl] .calendarsInline_5e2d5ab6 .monthPicker_5e2d5ab6{margin-right:12px}html[dir=ltr] .calendarsInline_5e2d5ab6 .yearPicker_5e2d5ab6{margin-left:12px}html[dir=rtl] .calendarsInline_5e2d5ab6 .yearPicker_5e2d5ab6{margin-right:12px}.calendarsInline_5e2d5ab6 .goToday_5e2d5ab6{padding:0 10px}[dir=ltr] .calendarsInline_5e2d5ab6 .goToday_5e2d5ab6{right:14px}[dir=rtl] .calendarsInline_5e2d5ab6 .goToday_5e2d5ab6{left:14px}html[dir=ltr] .calendarsInline_5e2d5ab6 .monthComponents_5e2d5ab6{margin-right:12px}html[dir=rtl] .calendarsInline_5e2d5ab6 .monthComponents_5e2d5ab6{margin-left:12px}.monthPickerOnly_5e2d5ab6 .wrap_5e2d5ab6{padding:12px}.monthPickerAsOverlay_5e2d5ab6 .wrap_5e2d5ab6{padding-bottom:28px;margin-bottom:6px}.monthPickerAsOverlay_5e2d5ab6 .holder_5e2d5ab6{height:240px;min-height:240px}.monthPickerAsOverlay_5e2d5ab6 .holderWithButton_5e2d5ab6{padding-top:6px;height:auto}}@media (max-device-width:459px){.calendarsInline_5e2d5ab6 .monthPicker_5e2d5ab6,.calendarsInline_5e2d5ab6 .yearPicker_5e2d5ab6{display:none}.yearComponents_5e2d5ab6{margin-top:2px}}.goToday_5e2d5ab6{width:auto}.closeButton_5e2d5ab6,.nextDecade_5e2d5ab6,.nextMonth_5e2d5ab6,.nextYear_5e2d5ab6,.prevDecade_5e2d5ab6,.prevMonth_5e2d5ab6,.prevYear_5e2d5ab6{display:inline-block}.closeButton_5e2d5ab6:hover,.nextDecade_5e2d5ab6:hover,.nextMonth_5e2d5ab6:hover,.nextYear_5e2d5ab6:hover,.prevDecade_5e2d5ab6:hover,.prevMonth_5e2d5ab6:hover,.prevYear_5e2d5ab6:hover{background-color:\"},{\"theme\":\"neutralLighter\",\"defaultValue\":\"#f3f2f1\"},{\"rawString\":\";color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\"}@media screen and (-ms-high-contrast:active){.closeButton_5e2d5ab6:hover,.nextDecade_5e2d5ab6:hover,.nextMonth_5e2d5ab6:hover,.nextYear_5e2d5ab6:hover,.prevDecade_5e2d5ab6:hover,.prevMonth_5e2d5ab6:hover,.prevYear_5e2d5ab6:hover{outline:1px solid highlight}}.closeButton_5e2d5ab6:active,.nextDecade_5e2d5ab6:active,.nextMonth_5e2d5ab6:active,.nextYear_5e2d5ab6:active,.prevDecade_5e2d5ab6:active,.prevMonth_5e2d5ab6:active,.prevYear_5e2d5ab6:active{background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\"}@media screen and (-ms-high-contrast:active){.closeButton_5e2d5ab6:active,.nextDecade_5e2d5ab6:active,.nextMonth_5e2d5ab6:active,.nextYear_5e2d5ab6:active,.prevDecade_5e2d5ab6:active,.prevMonth_5e2d5ab6:active,.prevYear_5e2d5ab6:active{color:highlight}}.monthIsHighlighted_5e2d5ab6{color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\"}.monthIsHighlighted_5e2d5ab6,.monthIsHighlighted_5e2d5ab6.monthOption_5e2d5ab6:hover{background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\"}@media screen and (-ms-high-contrast:active){.monthIsHighlighted_5e2d5ab6{color:highlight;border:2px solid highlight;border-radius:2px}.monthIsHighlighted_5e2d5ab6:hover{outline:0!important}}.monthIsCurrentMonth_5e2d5ab6{color:\"},{\"theme\":\"white\",\"defaultValue\":\"#ffffff\"},{\"rawString\":\";background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\"}.monthIsCurrentMonth_5e2d5ab6.monthOption_5e2d5ab6:hover{color:\"},{\"theme\":\"white\",\"defaultValue\":\"#ffffff\"},{\"rawString\":\";background-color:\"},{\"theme\":\"neutralLighter\",\"defaultValue\":\"#f3f2f1\"},{\"rawString\":\"}.monthOption_5e2d5ab6:active,.yearIsHighlighted_5e2d5ab6{background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\";color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\"}.yearIsHighlighted_5e2d5ab6.yearOption_5e2d5ab6:hover{background-color:\"},{\"theme\":\"neutralLighter\",\"defaultValue\":\"#f3f2f1\"},{\"rawString\":\"}.yearIsCurrentYear_5e2d5ab6{color:\"},{\"theme\":\"white\",\"defaultValue\":\"#ffffff\"},{\"rawString\":\";background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\"}.yearIsCurrentYear_5e2d5ab6.yearOption_5e2d5ab6:hover{color:\"},{\"theme\":\"white\",\"defaultValue\":\"#ffffff\"},{\"rawString\":\";background-color:\"},{\"theme\":\"neutralLighter\",\"defaultValue\":\"#f3f2f1\"},{\"rawString\":\"}.yearOption_5e2d5ab6:active{background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\";color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\"}.topLeftCornerDate_5e2d5ab6{border-top-left-radius:2px}.topRightCornerDate_5e2d5ab6{border-top-right-radius:2px}.bottomLeftCornerDate_5e2d5ab6{border-bottom-left-radius:2px}.bottomRightCornerDate_5e2d5ab6{border-bottom-right-radius:2px}@media screen and (-ms-high-contrast:active){.weekBackground_5e2d5ab6{border-top:1px solid highlight;border-bottom:1px solid highlight}.weekBackground_5e2d5ab6.bottomRightCornerDate_5e2d5ab6.topRightCornerDate_5e2d5ab6{border-right:1px solid highlight;border-left:none;padding-left:1px}.weekBackground_5e2d5ab6.bottomLeftCornerDate_5e2d5ab6.topLeftCornerDate_5e2d5ab6{border-left:1px solid highlight;border-right:none;padding-right:1px}.weekBackground_5e2d5ab6 :not(.dayIsToday_5e2d5ab6) span{color:highlight}.weekSelection_5e2d5ab6.dayHover_5e2d5ab6{border-top:1px solid highlight;border-bottom:1px solid highlight}.weekSelection_5e2d5ab6.dayHover_5e2d5ab6.bottomLeftCornerDate_5e2d5ab6.topLeftCornerDate_5e2d5ab6{border-left:1px solid highlight;padding-right:1px}.weekSelection_5e2d5ab6.dayHover_5e2d5ab6.bottomRightCornerDate_5e2d5ab6.topRightCornerDate_5e2d5ab6{border-right:1px solid highlight;padding-left:1px}.weekSelection_5e2d5ab6.dayHover_5e2d5ab6.dayPress_5e2d5ab6 :not(.dayIsToday_5e2d5ab6) span{color:highlight}.monthSelection_5e2d5ab6.dayHover_5e2d5ab6.bottomLeftCornerDate_5e2d5ab6,.monthSelection_5e2d5ab6.dayHover_5e2d5ab6.topLeftCornerDate_5e2d5ab6{border-left:1px solid highlight;padding-right:1px}.monthSelection_5e2d5ab6.dayHover_5e2d5ab6.bottomRightCornerDate_5e2d5ab6,.monthSelection_5e2d5ab6.dayHover_5e2d5ab6.topRightCornerDate_5e2d5ab6{border-right:1px solid highlight;padding-left:1px}.monthSelection_5e2d5ab6.dayIsFocused_5e2d5ab6.dayHover_5e2d5ab6.topDate_5e2d5ab6,.monthSelection_5e2d5ab6.dayIsUnfocused_5e2d5ab6.dayHover_5e2d5ab6.topDate_5e2d5ab6{border-top:1px solid highlight;padding-bottom:1px}.monthSelection_5e2d5ab6.dayIsFocused_5e2d5ab6.dayHover_5e2d5ab6.rightDate_5e2d5ab6,.monthSelection_5e2d5ab6.dayIsUnfocused_5e2d5ab6.dayHover_5e2d5ab6.rightDate_5e2d5ab6{border-right:1px solid highlight;padding-left:1px}.monthSelection_5e2d5ab6.dayIsFocused_5e2d5ab6.dayHover_5e2d5ab6.bottomDate_5e2d5ab6,.monthSelection_5e2d5ab6.dayIsUnfocused_5e2d5ab6.dayHover_5e2d5ab6.bottomDate_5e2d5ab6{border-bottom:1px solid highlight;padding-top:1px}.monthSelection_5e2d5ab6.dayIsFocused_5e2d5ab6.dayHover_5e2d5ab6.leftdate_5e2d5ab6,.monthSelection_5e2d5ab6.dayIsUnfocused_5e2d5ab6.dayHover_5e2d5ab6.leftdate_5e2d5ab6{border-left:1px solid highlight;padding-right:1px}.monthSelection_5e2d5ab6.dayIsFocused_5e2d5ab6.dayHover_5e2d5ab6.dayPress_5e2d5ab6 :not(.dayIsToday_5e2d5ab6) span,.monthSelection_5e2d5ab6.dayIsUnfocused_5e2d5ab6.dayHover_5e2d5ab6.dayPress_5e2d5ab6 :not(.dayIsToday_5e2d5ab6) span{color:highlight}}\"}]);\nexport const root = \"root_5e2d5ab6\";\nexport const picker = \"picker_5e2d5ab6\";\nexport const holder = \"holder_5e2d5ab6\";\nexport const pickerIsOpened = \"pickerIsOpened_5e2d5ab6\";\nexport const frame = \"frame_5e2d5ab6\";\nexport const wrap = \"wrap_5e2d5ab6\";\nexport const goTodaySpacing = \"goTodaySpacing_5e2d5ab6\";\nexport const dayPicker = \"dayPicker_5e2d5ab6\";\nexport const header = \"header_5e2d5ab6\";\nexport const divider = \"divider_5e2d5ab6\";\nexport const monthAndYear = \"monthAndYear_5e2d5ab6\";\nexport const year = \"year_5e2d5ab6\";\nexport const decade = \"decade_5e2d5ab6\";\nexport const currentYear = \"currentYear_5e2d5ab6\";\nexport const currentDecade = \"currentDecade_5e2d5ab6\";\nexport const table = \"table_5e2d5ab6\";\nexport const dayWrapper = \"dayWrapper_5e2d5ab6\";\nexport const weekday = \"weekday_5e2d5ab6\";\nexport const day = \"day_5e2d5ab6\";\nexport const daySelection = \"daySelection_5e2d5ab6\";\nexport const dayIsToday = \"dayIsToday_5e2d5ab6\";\nexport const dayIsDisabled = \"dayIsDisabled_5e2d5ab6\";\nexport const dayIsUnfocused = \"dayIsUnfocused_5e2d5ab6\";\nexport const dayIsFocused = \"dayIsFocused_5e2d5ab6\";\nexport const dayIsHighlighted = \"dayIsHighlighted_5e2d5ab6\";\nexport const pickerIsFocused = \"pickerIsFocused_5e2d5ab6\";\nexport const dayDisabled = \"dayDisabled_5e2d5ab6\";\nexport const dayBackground = \"dayBackground_5e2d5ab6\";\nexport const dayHover = \"dayHover_5e2d5ab6\";\nexport const dayPress = \"dayPress_5e2d5ab6\";\nexport const weekBackground = \"weekBackground_5e2d5ab6\";\nexport const showWeekNumbers = \"showWeekNumbers_5e2d5ab6\";\nexport const weekNumbers = \"weekNumbers_5e2d5ab6\";\nexport const weekIsHighlighted = \"weekIsHighlighted_5e2d5ab6\";\nexport const showWeekNumbersRTL = \"showWeekNumbersRTL_5e2d5ab6\";\nexport const monthComponents = \"monthComponents_5e2d5ab6\";\nexport const yearComponents = \"yearComponents_5e2d5ab6\";\nexport const decadeComponents = \"decadeComponents_5e2d5ab6\";\nexport const closeButton = \"closeButton_5e2d5ab6\";\nexport const prevMonth = \"prevMonth_5e2d5ab6\";\nexport const nextMonth = \"nextMonth_5e2d5ab6\";\nexport const prevYear = \"prevYear_5e2d5ab6\";\nexport const nextYear = \"nextYear_5e2d5ab6\";\nexport const prevDecade = \"prevDecade_5e2d5ab6\";\nexport const nextDecade = \"nextDecade_5e2d5ab6\";\nexport const prevMonthIsDisabled = \"prevMonthIsDisabled_5e2d5ab6\";\nexport const nextMonthIsDisabled = \"nextMonthIsDisabled_5e2d5ab6\";\nexport const prevYearIsDisabled = \"prevYearIsDisabled_5e2d5ab6\";\nexport const nextYearIsDisabled = \"nextYearIsDisabled_5e2d5ab6\";\nexport const prevDecadeIsDisabled = \"prevDecadeIsDisabled_5e2d5ab6\";\nexport const nextDecadeIsDisabled = \"nextDecadeIsDisabled_5e2d5ab6\";\nexport const headerToggleView = \"headerToggleView_5e2d5ab6\";\nexport const optionGrid = \"optionGrid_5e2d5ab6\";\nexport const monthOption = \"monthOption_5e2d5ab6\";\nexport const yearOption = \"yearOption_5e2d5ab6\";\nexport const isHighlighted = \"isHighlighted_5e2d5ab6\";\nexport const monthOptionIsDisabled = \"monthOptionIsDisabled_5e2d5ab6\";\nexport const yearOptionIsDisabled = \"yearOptionIsDisabled_5e2d5ab6\";\nexport const goToday = \"goToday_5e2d5ab6\";\nexport const goToTodayIsDisabled = \"goToTodayIsDisabled_5e2d5ab6\";\nexport const goTodayInlineMonth = \"goTodayInlineMonth_5e2d5ab6\";\nexport const isPickingYears = \"isPickingYears_5e2d5ab6\";\nexport const monthPicker = \"monthPicker_5e2d5ab6\";\nexport const yearPicker = \"yearPicker_5e2d5ab6\";\nexport const monthPickerVisible = \"monthPickerVisible_5e2d5ab6\";\nexport const toggleMonthView = \"toggleMonthView_5e2d5ab6\";\nexport const calendarsInline = \"calendarsInline_5e2d5ab6\";\nexport const monthPickerOnly = \"monthPickerOnly_5e2d5ab6\";\nexport const monthPickerAsOverlay = \"monthPickerAsOverlay_5e2d5ab6\";\nexport const holderWithButton = \"holderWithButton_5e2d5ab6\";\nexport const monthIsHighlighted = \"monthIsHighlighted_5e2d5ab6\";\nexport const monthIsCurrentMonth = \"monthIsCurrentMonth_5e2d5ab6\";\nexport const yearIsHighlighted = \"yearIsHighlighted_5e2d5ab6\";\nexport const yearIsCurrentYear = \"yearIsCurrentYear_5e2d5ab6\";\nexport const topLeftCornerDate = \"topLeftCornerDate_5e2d5ab6\";\nexport const topRightCornerDate = \"topRightCornerDate_5e2d5ab6\";\nexport const bottomLeftCornerDate = \"bottomLeftCornerDate_5e2d5ab6\";\nexport const bottomRightCornerDate = \"bottomRightCornerDate_5e2d5ab6\";\nexport const weekSelection = \"weekSelection_5e2d5ab6\";\nexport const monthSelection = \"monthSelection_5e2d5ab6\";\nexport const topDate = \"topDate_5e2d5ab6\";\nexport const rightDate = \"rightDate_5e2d5ab6\";\nexport const bottomDate = \"bottomDate_5e2d5ab6\";\nexport const leftdate = \"leftdate_5e2d5ab6\";","import * as React from 'react';\nimport {\n  KeyCodes,\n  css,\n  getId,\n  getRTL,\n  getRTLSafeKeyCode,\n  format,\n  IRefObject,\n  findIndex,\n  find,\n  initializeComponentRef,\n} from '../../Utilities';\nimport { ICalendarStrings, ICalendarIconStrings, ICalendarFormatDateCallbacks } from './Calendar.types';\nimport { DayOfWeek, FirstWeekOfYear, DateRangeType } from '../../utilities/dateValues/DateValues';\nimport { FocusZone } from '../../FocusZone';\nimport { Icon } from '../../Icon';\nimport {\n  addDays,\n  addWeeks,\n  addMonths,\n  compareDates,\n  compareDatePart,\n  getDateRangeArray,\n  isInDateRangeArray,\n  getWeekNumber,\n  getWeekNumbersInMonth,\n  getMonthStart,\n  getMonthEnd,\n} from '../../utilities/dateMath/DateMath';\n\nimport * as stylesImport from './Calendar.scss';\n\nconst styles: any = stylesImport;\n\nconst DAYS_IN_WEEK = 7;\n\nexport interface IDayInfo {\n  key: string;\n  date: string;\n  originalDate: Date;\n  isInMonth: boolean;\n  isToday: boolean;\n  isSelected: boolean;\n  isInBounds: boolean;\n  onSelected: (ev: React.SyntheticEvent<HTMLElement>) => void;\n}\n\nexport interface ICalendarDay {\n  focus(): void;\n}\n\nexport interface ICalendarDayProps extends React.ClassAttributes<CalendarDay> {\n  componentRef?: IRefObject<ICalendarDay>;\n  strings: ICalendarStrings;\n  selectedDate: Date;\n  navigatedDate: Date;\n  onSelectDate: (date: Date, selectedDateRangeArray?: Date[]) => void;\n  onNavigateDate: (date: Date, focusOnNavigatedDay: boolean) => void;\n  onDismiss?: () => void;\n  firstDayOfWeek: DayOfWeek;\n  dateRangeType: DateRangeType;\n  autoNavigateOnSelection: boolean;\n  navigationIcons: ICalendarIconStrings;\n  today?: Date;\n  onHeaderSelect?: (focus: boolean) => void;\n  showWeekNumbers?: boolean;\n  firstWeekOfYear: FirstWeekOfYear;\n  dateTimeFormatter: ICalendarFormatDateCallbacks;\n  showSixWeeksByDefault?: boolean;\n  minDate?: Date;\n  maxDate?: Date;\n  restrictedDates?: Date[];\n  workWeekDays?: DayOfWeek[];\n  showCloseButton?: boolean;\n  allFocusable?: boolean;\n}\n\nexport interface ICalendarDayState {\n  activeDescendantId?: string;\n  weeks?: IDayInfo[][];\n}\n\ninterface IWeekCorners {\n  [key: string]: string;\n}\n\nexport class CalendarDay extends React.Component<ICalendarDayProps, ICalendarDayState> {\n  private navigatedDay: HTMLElement | null;\n  private days: { [key: string]: HTMLElement | null } = {};\n\n  public constructor(props: ICalendarDayProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    this.state = {\n      activeDescendantId: getId('DatePickerDay-active'),\n      weeks: this._getWeeks(props),\n    };\n\n    this._onSelectNextMonth = this._onSelectNextMonth.bind(this);\n    this._onSelectPrevMonth = this._onSelectPrevMonth.bind(this);\n    this._onClose = this._onClose.bind(this);\n  }\n\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillReceiveProps(nextProps: ICalendarDayProps): void {\n    this.setState({\n      weeks: this._getWeeks(nextProps),\n    });\n  }\n\n  public render(): JSX.Element {\n    const { activeDescendantId, weeks } = this.state;\n    const {\n      firstDayOfWeek,\n      strings,\n      navigatedDate,\n      selectedDate,\n      dateRangeType,\n      navigationIcons,\n      showWeekNumbers,\n      firstWeekOfYear,\n      dateTimeFormatter,\n      minDate,\n      maxDate,\n      showCloseButton,\n      allFocusable,\n    } = this.props;\n    const dayPickerId = getId('DatePickerDay-dayPicker');\n    const monthAndYearId = getId('DatePickerDay-monthAndYear');\n    const leftNavigationIcon = navigationIcons.leftNavigation;\n    const rightNavigationIcon = navigationIcons.rightNavigation;\n    const closeNavigationIcon = navigationIcons.closeIcon;\n    const weekNumbers = showWeekNumbers\n      ? getWeekNumbersInMonth(weeks!.length, firstDayOfWeek, firstWeekOfYear, navigatedDate)\n      : null;\n    const selectedDateWeekNumber = showWeekNumbers\n      ? getWeekNumber(selectedDate, firstDayOfWeek, firstWeekOfYear)\n      : undefined;\n\n    // When the month is highlighted get the corner dates so that styles can be added to them\n    const weekCorners: IWeekCorners = this._getWeekCornerStyles(weeks!, dateRangeType);\n\n    // determine if previous/next months are in bounds\n    const prevMonthInBounds = minDate ? compareDatePart(minDate, getMonthStart(navigatedDate)) < 0 : true;\n    const nextMonthInBounds = maxDate ? compareDatePart(getMonthEnd(navigatedDate), maxDate) < 0 : true;\n\n    return (\n      <div\n        className={css(\n          'ms-DatePicker-dayPicker',\n          styles.dayPicker,\n          showWeekNumbers &&\n            'ms-DatePicker-showWeekNumbers' &&\n            (getRTL() ? styles.showWeekNumbersRTL : styles.showWeekNumbers),\n        )}\n        id={dayPickerId}\n      >\n        <div className={css('ms-DatePicker-header', styles.header)}>\n          <div\n            aria-live=\"polite\"\n            aria-relevant=\"text\"\n            aria-atomic=\"true\"\n            id={monthAndYearId}\n            className={styles.monthAndYear}\n          >\n            {this.props.onHeaderSelect ? (\n              <div\n                className={css('ms-DatePicker-monthAndYear js-showMonthPicker', styles.headerToggleView)}\n                onClick={this._onHeaderSelect}\n                onKeyDown={this._onHeaderKeyDown}\n                aria-label={dateTimeFormatter.formatMonthYear(navigatedDate, strings)}\n                role=\"button\"\n                tabIndex={0}\n              >\n                {dateTimeFormatter.formatMonthYear(navigatedDate, strings)}\n              </div>\n            ) : (\n              <div className={css('ms-DatePicker-monthAndYear', styles.monthAndYear)}>\n                {dateTimeFormatter.formatMonthYear(navigatedDate, strings)}\n              </div>\n            )}\n          </div>\n          <div className={css('ms-DatePicker-monthComponents', styles.monthComponents)}>\n            <div className={css('ms-DatePicker-navContainer', styles.navContainer)}>\n              <button\n                className={css('ms-DatePicker-prevMonth js-prevMonth', styles.prevMonth, {\n                  ['ms-DatePicker-prevMonth--disabled ' + styles.prevMonthIsDisabled]: !prevMonthInBounds,\n                })}\n                disabled={!allFocusable && !prevMonthInBounds}\n                aria-disabled={!prevMonthInBounds}\n                onClick={prevMonthInBounds ? this._onSelectPrevMonth : undefined}\n                onKeyDown={prevMonthInBounds ? this._onPrevMonthKeyDown : undefined}\n                aria-controls={dayPickerId}\n                title={\n                  strings.prevMonthAriaLabel\n                    ? strings.prevMonthAriaLabel + ' ' + strings.months[addMonths(navigatedDate, -1).getMonth()]\n                    : undefined\n                }\n                role=\"button\"\n                type=\"button\"\n              >\n                <Icon iconName={leftNavigationIcon} />\n              </button>\n              <button\n                className={css('ms-DatePicker-nextMonth js-nextMonth', styles.nextMonth, {\n                  ['ms-DatePicker-nextMonth--disabled ' + styles.nextMonthIsDisabled]: !nextMonthInBounds,\n                })}\n                disabled={!allFocusable && !nextMonthInBounds}\n                aria-disabled={!nextMonthInBounds}\n                onClick={nextMonthInBounds ? this._onSelectNextMonth : undefined}\n                onKeyDown={nextMonthInBounds ? this._onNextMonthKeyDown : undefined}\n                aria-controls={dayPickerId}\n                title={\n                  strings.nextMonthAriaLabel\n                    ? strings.nextMonthAriaLabel + ' ' + strings.months[addMonths(navigatedDate, 1).getMonth()]\n                    : undefined\n                }\n                role=\"button\"\n                type=\"button\"\n              >\n                <Icon iconName={rightNavigationIcon} />\n              </button>\n              {showCloseButton && (\n                <button\n                  className={css('ms-DatePicker-closeButton js-closeButton', styles.closeButton)}\n                  onClick={this._onClose}\n                  onKeyDown={this._onCloseButtonKeyDown}\n                  title={strings.closeButtonAriaLabel}\n                  role=\"button\"\n                  type=\"button\"\n                >\n                  <Icon iconName={closeNavigationIcon} />\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n        <FocusZone>\n          <table\n            className={css('ms-DatePicker-table', styles.table)}\n            aria-readonly=\"true\"\n            aria-multiselectable=\"false\"\n            aria-labelledby={monthAndYearId}\n            aria-activedescendant={activeDescendantId}\n            role=\"grid\"\n          >\n            <thead>\n              <tr>\n                {showWeekNumbers && <th className={css('ms-DatePicker-weekday', styles.weekday)} />}\n                {strings.shortDays.map((val, index) => (\n                  <th\n                    className={css('ms-DatePicker-weekday', styles.weekday)}\n                    role=\"columnheader\"\n                    scope=\"col\"\n                    key={index}\n                    title={strings.days[(index + firstDayOfWeek) % DAYS_IN_WEEK]}\n                    aria-label={strings.days[(index + firstDayOfWeek) % DAYS_IN_WEEK]}\n                    data-is-focusable={allFocusable ? true : undefined}\n                  >\n                    {strings.shortDays[(index + firstDayOfWeek) % DAYS_IN_WEEK]}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody\n              onMouseLeave={dateRangeType !== DateRangeType.Day ? this._onTableMouseLeave : undefined}\n              onMouseUp={dateRangeType !== DateRangeType.Day ? this._onTableMouseUp : undefined}\n            >\n              {weeks!.map((week, weekIndex) => (\n                <tr key={weekNumbers ? weekNumbers[weekIndex] : weekIndex}>\n                  {showWeekNumbers && weekNumbers && (\n                    <th\n                      className={css(\n                        'ms-DatePicker-weekNumbers',\n                        'ms-DatePicker-weekday',\n                        styles.weekday,\n                        styles.weekNumbers,\n                      )}\n                      key={weekIndex}\n                      title={\n                        weekNumbers &&\n                        strings.weekNumberFormatString &&\n                        format(strings.weekNumberFormatString, weekNumbers[weekIndex])\n                      }\n                      aria-label={\n                        weekNumbers &&\n                        strings.weekNumberFormatString &&\n                        format(strings.weekNumberFormatString, weekNumbers[weekIndex])\n                      }\n                      scope=\"row\"\n                    >\n                      <div\n                        className={css('ms-DatePicker-day', styles.day, {\n                          ['ms-DatePicker-week--highlighted ' + styles.weekIsHighlighted]:\n                            selectedDateWeekNumber === weekNumbers[weekIndex],\n                        })}\n                      >\n                        <span>{weekNumbers[weekIndex]}</span>\n                      </div>\n                    </th>\n                  )}\n                  {week.map((day, dayIndex) => {\n                    const isNavigatedDate = compareDates(navigatedDate, day.originalDate);\n                    return (\n                      <td\n                        key={day.key}\n                        onClick={day.isInBounds ? day.onSelected : undefined}\n                        className={css(\n                          styles.dayWrapper,\n                          'ms-DatePicker-day',\n                          this._getHighlightedCornerStyle(weekCorners, dayIndex, weekIndex),\n                          {\n                            ['ms-DatePicker-weekBackground ' + styles.weekBackground]:\n                              day.isSelected &&\n                              (dateRangeType === DateRangeType.Week || dateRangeType === DateRangeType.WorkWeek),\n                            ['ms-DatePicker-dayBackground ' + styles.dayBackground]:\n                              dateRangeType === DateRangeType.Day,\n                            ['ms-DatePicker-day--highlighted ' + styles.dayIsHighlighted]:\n                              day.isSelected && dateRangeType === DateRangeType.Day,\n                            ['ms-DatePicker-day--infocus ' + styles.dayIsFocused]: day.isInBounds && day.isInMonth,\n                            ['ms-DatePicker-day--outfocus ' + styles.dayIsUnfocused]: day.isInBounds && !day.isInMonth,\n                            [styles.daySelection]: dateRangeType === DateRangeType.Day,\n                            [styles.weekSelection]:\n                              dateRangeType === DateRangeType.Week || dateRangeType === DateRangeType.WorkWeek,\n                            [styles.monthSelection]: dateRangeType === DateRangeType.Month,\n                          },\n                        )}\n                        ref={element => this._setDayCellRef(element, day, isNavigatedDate)}\n                        onMouseOver={\n                          dateRangeType !== DateRangeType.Day && day.isInBounds\n                            ? this._onDayMouseOver(day.originalDate, weekIndex, dayIndex, dateRangeType)\n                            : undefined\n                        }\n                        onMouseLeave={\n                          dateRangeType !== DateRangeType.Day && day.isInBounds\n                            ? this._onDayMouseLeave(day.originalDate, weekIndex, dayIndex, dateRangeType)\n                            : undefined\n                        }\n                        onMouseDown={\n                          dateRangeType !== DateRangeType.Day && day.isInBounds\n                            ? this._onDayMouseDown(day.originalDate, weekIndex, dayIndex, dateRangeType)\n                            : undefined\n                        }\n                        onMouseUp={\n                          dateRangeType !== DateRangeType.Day && day.isInBounds\n                            ? this._onDayMouseUp(day.originalDate, weekIndex, dayIndex, dateRangeType)\n                            : undefined\n                        }\n                        role={'gridcell'}\n                      >\n                        <button\n                          key={day.key + 'button'}\n                          onClick={day.isInBounds ? day.onSelected : undefined}\n                          className={css(styles.day, 'ms-DatePicker-day-button', {\n                            ['ms-DatePicker-day--disabled ' + styles.dayIsDisabled]: !day.isInBounds,\n                            ['ms-DatePicker-day--today ' + styles.dayIsToday]: day.isToday,\n                          })}\n                          onKeyDown={this._onDayKeyDown(day.originalDate, weekIndex, dayIndex)}\n                          aria-label={dateTimeFormatter.formatMonthDayYear(day.originalDate, strings)}\n                          id={isNavigatedDate ? activeDescendantId : undefined}\n                          aria-readonly={true}\n                          aria-selected={day.isInBounds ? day.isSelected : undefined}\n                          data-is-focusable={allFocusable || (day.isInBounds ? true : undefined)}\n                          ref={element => this._setDayRef(element, day, isNavigatedDate)}\n                          disabled={!allFocusable && !day.isInBounds}\n                          aria-disabled={!day.isInBounds}\n                          type=\"button\"\n                        >\n                          <span aria-hidden=\"true\">{dateTimeFormatter.formatDay(day.originalDate)}</span>\n                        </button>\n                      </td>\n                    );\n                  })}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </FocusZone>\n      </div>\n    );\n  }\n\n  public focus() {\n    if (this.navigatedDay) {\n      this.navigatedDay.tabIndex = 0;\n      this.navigatedDay.focus();\n    }\n  }\n\n  private _setDayRef(element: HTMLElement | null, day: IDayInfo, isNavigatedDate: boolean): void {\n    if (isNavigatedDate) {\n      this.navigatedDay = element;\n    }\n  }\n\n  private _setDayCellRef(element: HTMLElement | null, day: IDayInfo, isNavigatedDate: boolean): void {\n    this.days[day.key] = element;\n  }\n\n  private _getWeekCornerStyles(weeks: IDayInfo[][], dateRangeType: DateRangeType): IWeekCorners {\n    const weekCornersStyled: any = {};\n\n    switch (dateRangeType) {\n      case DateRangeType.Month:\n        /* need to handle setting all of the corners on arbitrarily shaped blobs\n              __\n           __|A |\n          |B |C |__\n          |D |E |F |\n\n          in this case, A needs top left rounded, top right rounded\n          B needs top left rounded\n          C doesn't need any rounding\n          D needs bottom left rounded\n          E doesn't need any rounding\n          F needs top right rounding\n        */\n\n        // if there's an item above, lose both top corners. Item below, lose both bottom corners, etc.\n        weeks.forEach((week: IDayInfo[], weekIndex: number) => {\n          week.forEach((day: IDayInfo, dayIndex: number) => {\n            const above =\n              weeks[weekIndex - 1] &&\n              weeks[weekIndex - 1][dayIndex] &&\n              weeks[weekIndex - 1][dayIndex].originalDate.getMonth() ===\n                weeks[weekIndex][dayIndex].originalDate.getMonth();\n            const below =\n              weeks[weekIndex + 1] &&\n              weeks[weekIndex + 1][dayIndex] &&\n              weeks[weekIndex + 1][dayIndex].originalDate.getMonth() ===\n                weeks[weekIndex][dayIndex].originalDate.getMonth();\n            const left =\n              weeks[weekIndex][dayIndex - 1] &&\n              weeks[weekIndex][dayIndex - 1].originalDate.getMonth() ===\n                weeks[weekIndex][dayIndex].originalDate.getMonth();\n            const right =\n              weeks[weekIndex][dayIndex + 1] &&\n              weeks[weekIndex][dayIndex + 1].originalDate.getMonth() ===\n                weeks[weekIndex][dayIndex].originalDate.getMonth();\n\n            const roundedTopLeft = !above && !left;\n            const roundedTopRight = !above && !right;\n            const roundedBottomLeft = !below && !left;\n            const roundedBottomRight = !below && !right;\n\n            let style = '';\n            if (roundedTopLeft) {\n              style = getRTL()\n                ? style.concat(styles.topRightCornerDate + ' ')\n                : style.concat(styles.topLeftCornerDate + ' ');\n            }\n            if (roundedTopRight) {\n              style = getRTL()\n                ? style.concat(styles.topLeftCornerDate + ' ')\n                : style.concat(styles.topRightCornerDate + ' ');\n            }\n            if (roundedBottomLeft) {\n              style = getRTL()\n                ? style.concat(styles.bottomRightCornerDate + ' ')\n                : style.concat(styles.bottomLeftCornerDate + ' ');\n            }\n            if (roundedBottomRight) {\n              style = getRTL()\n                ? style.concat(styles.bottomLeftCornerDate + ' ')\n                : style.concat(styles.bottomRightCornerDate + ' ');\n            }\n\n            if (!above) {\n              style = style.concat(styles.topDate + ' ');\n            }\n\n            if (!below) {\n              style = style.concat(styles.bottomDate + ' ');\n            }\n\n            if (!right) {\n              style = style.concat(styles.rightDate + ' ');\n            }\n\n            if (!left) {\n              style = style.concat(styles.leftdate + ' ');\n            }\n\n            weekCornersStyled[weekIndex + '_' + dayIndex] = style;\n          });\n        });\n        break;\n      case DateRangeType.Week:\n      case DateRangeType.WorkWeek:\n        weeks.forEach((week: IDayInfo[], weekIndex: number) => {\n          const minIndex = findIndex(week, (item: IDayInfo) => {\n            return item.isInBounds;\n          });\n          const maxIndex = this._findLastIndex(week, (item: IDayInfo) => {\n            return item.isInBounds;\n          });\n\n          const leftStyle = styles.topLeftCornerDate + ' ' + styles.bottomLeftCornerDate;\n          const rightStyle = styles.topRightCornerDate + ' ' + styles.bottomRightCornerDate;\n          weekCornersStyled[weekIndex + '_' + minIndex] = getRTL() ? rightStyle : leftStyle;\n          weekCornersStyled[weekIndex + '_' + maxIndex] = getRTL() ? leftStyle : rightStyle;\n        });\n        break;\n    }\n\n    return weekCornersStyled;\n  }\n\n  private _getHighlightedCornerStyle(weekCorners: IWeekCorners, dayIndex: number, weekIndex: number): string {\n    const cornerStyle = weekCorners[weekIndex + '_' + dayIndex] ? weekCorners[weekIndex + '_' + dayIndex] : '';\n    return cornerStyle;\n  }\n\n  private _navigateMonthEdge(\n    ev: React.KeyboardEvent<HTMLElement>,\n    date: Date,\n    weekIndex: number,\n    dayIndex: number,\n  ): void {\n    const { minDate, maxDate } = this.props;\n    let targetDate: Date | undefined = undefined;\n\n    if (weekIndex === 0 && ev.which === KeyCodes.up) {\n      targetDate = addWeeks(date, -1);\n    } else if (weekIndex === this.state.weeks!.length - 1 && ev.which === KeyCodes.down) {\n      targetDate = addWeeks(date, 1);\n    } else if (dayIndex === 0 && ev.which === getRTLSafeKeyCode(KeyCodes.left)) {\n      targetDate = addDays(date, -1);\n    } else if (dayIndex === DAYS_IN_WEEK - 1 && ev.which === getRTLSafeKeyCode(KeyCodes.right)) {\n      targetDate = addDays(date, 1);\n    }\n\n    // Don't navigate to out-of-bounds date\n    if (\n      targetDate &&\n      (minDate ? compareDatePart(minDate, targetDate) < 1 : true) &&\n      (maxDate ? compareDatePart(targetDate, maxDate) < 1 : true)\n    ) {\n      this.props.onNavigateDate(targetDate, true);\n      ev.preventDefault();\n    }\n  }\n\n  private _onKeyDown = (callback: () => void, ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (ev.which === KeyCodes.enter || ev.which === KeyCodes.space) {\n      callback();\n    }\n  };\n\n  private _onDayKeyDown = (\n    originalDate: Date,\n    weekIndex: number,\n    dayIndex: number,\n  ): ((ev: React.KeyboardEvent<HTMLElement>) => void) => {\n    return (ev: React.KeyboardEvent<HTMLElement>): void => {\n      if (ev.which === KeyCodes.enter) {\n        this._onSelectDate(originalDate, ev);\n        ev.preventDefault();\n      } else {\n        this._navigateMonthEdge(ev, originalDate, weekIndex, dayIndex);\n      }\n    };\n  };\n\n  private _onDayMouseDown = (\n    originalDate: Date,\n    weekIndex: number,\n    dayIndex: number,\n    dateRangeType: DateRangeType,\n  ): ((ev: React.MouseEvent<HTMLElement>) => void) => {\n    return (ev: React.MouseEvent<HTMLElement>): void => {\n      // set the press styling\n      if (dateRangeType === DateRangeType.Month) {\n        this._applyFunctionToDayRefs((ref, day) => {\n          if (ref && day.originalDate.getMonth() === originalDate.getMonth() && day.isInBounds) {\n            ref.classList.add(styles.dayPress);\n          }\n        });\n      } else {\n        // week or work week view\n        this._applyFunctionToDayRefs((ref, day, dayWeekIndex) => {\n          if (ref && dayWeekIndex === weekIndex && day.isInBounds) {\n            ref.classList.add(styles.dayPress);\n            ref.classList.add(styles.dayIsHighlighted);\n          } else if (ref) {\n            ref.classList.remove(styles.dayIsHighlighted);\n          }\n        });\n      }\n    };\n  };\n\n  private _onDayMouseUp = (\n    originalDate: Date,\n    weekIndex: number,\n    dayIndex: number,\n    dateRangeType: DateRangeType,\n  ): ((ev: React.MouseEvent<HTMLElement>) => void) => {\n    return (ev: React.MouseEvent<HTMLElement>): void => {\n      // remove press styling\n      if (dateRangeType === DateRangeType.Month) {\n        this._applyFunctionToDayRefs((ref, day) => {\n          if (ref && day.originalDate.getMonth() === originalDate.getMonth() && day.isInBounds) {\n            ref.classList.remove(styles.dayPress);\n          }\n        });\n      } else {\n        // week or work week view\n        this._applyFunctionToDayRefs((ref, day, dayWeekIndex) => {\n          if (ref && dayWeekIndex === weekIndex && day.isInBounds) {\n            ref.classList.remove(styles.dayPress);\n          }\n        });\n      }\n    };\n  };\n\n  private _onDayMouseOver = (\n    originalDate: Date,\n    weekIndex: number,\n    dayIndex: number,\n    dateRangeType: DateRangeType,\n  ): ((ev: React.MouseEvent<HTMLElement>) => void) => {\n    return (ev: React.MouseEvent<HTMLElement>): void => {\n      // set the hover styling on every day in the same month\n      if (dateRangeType === DateRangeType.Month) {\n        this._applyFunctionToDayRefs((ref, day) => {\n          if (ref && day.originalDate.getMonth() === originalDate.getMonth() && day.isInBounds) {\n            ref.classList.add(styles.dayHover);\n          }\n        });\n      } else {\n        // week or work week view\n        this._applyFunctionToDayRefs((ref, day, dayWeekIndex) => {\n          if (ref && dayWeekIndex === weekIndex && day.isInBounds) {\n            ref.classList.add(styles.dayHover);\n          }\n        });\n      }\n    };\n  };\n\n  private _onDayMouseLeave = (\n    originalDate: Date,\n    weekIndex: number,\n    dayIndex: number,\n    dateRangeType: DateRangeType,\n  ): ((ev: React.MouseEvent<HTMLElement>) => void) => {\n    return (ev: React.MouseEvent<HTMLElement>): void => {\n      // remove the hover and pressed styling\n      if (dateRangeType === DateRangeType.Month) {\n        this._applyFunctionToDayRefs((ref, day) => {\n          if (ref && day.originalDate.getMonth() === originalDate.getMonth() && day.isInBounds) {\n            ref.classList.remove(styles.dayHover);\n          }\n        });\n      } else {\n        // week or work week view\n        this._applyFunctionToDayRefs((ref, day, dayWeekIndex) => {\n          if (ref && dayWeekIndex === weekIndex && day.isInBounds) {\n            ref.classList.remove(styles.dayHover);\n          }\n        });\n      }\n    };\n  };\n\n  private _onTableMouseLeave = (ev: React.MouseEvent<HTMLElement>): void => {\n    if (\n      (ev.target as HTMLElement).contains &&\n      ev.relatedTarget &&\n      (ev.relatedTarget as HTMLElement).contains &&\n      (ev.target as HTMLElement).contains(ev.relatedTarget as HTMLElement)\n    ) {\n      return;\n    }\n\n    this._applyFunctionToDayRefs((ref, day) => {\n      if (ref) {\n        ref.classList.remove(styles.dayHover);\n        ref.classList.remove(styles.dayPress);\n      }\n    });\n  };\n\n  private _onTableMouseUp = (ev: React.MouseEvent<HTMLElement>): void => {\n    if (\n      (ev.target as HTMLElement).contains &&\n      ev.relatedTarget &&\n      (ev.relatedTarget as HTMLElement).contains &&\n      (ev.target as HTMLElement).contains(ev.relatedTarget as HTMLElement)\n    ) {\n      return;\n    }\n\n    this._applyFunctionToDayRefs((ref, day) => {\n      if (ref) {\n        ref.classList.remove(styles.dayPress);\n      }\n    });\n  };\n\n  private _applyFunctionToDayRefs(func: (ref: HTMLElement | null, day: IDayInfo, weekIndex?: number) => void) {\n    if (this.state.weeks) {\n      this.state.weeks.map((week: IDayInfo[], weekIndex: number) => {\n        week.map(day => {\n          const ref = this.days[day.key];\n          func(ref, day, weekIndex);\n        });\n      });\n    }\n  }\n\n  private _onSelectDate = (selectedDate: Date, ev: React.SyntheticEvent<HTMLElement>): void => {\n    const {\n      onSelectDate,\n      dateRangeType,\n      firstDayOfWeek,\n      navigatedDate,\n      autoNavigateOnSelection,\n      minDate,\n      maxDate,\n      workWeekDays,\n    } = this.props;\n\n    if (ev) {\n      ev.stopPropagation();\n    }\n\n    let dateRange = getDateRangeArray(selectedDate, dateRangeType, firstDayOfWeek, workWeekDays);\n    if (dateRangeType !== DateRangeType.Day) {\n      dateRange = this._getBoundedDateRange(dateRange, minDate, maxDate);\n    }\n    dateRange = dateRange.filter(d => {\n      return !this._getIsRestrictedDate(d);\n    });\n\n    if (onSelectDate) {\n      onSelectDate(selectedDate, dateRange);\n    }\n\n    // Navigate to next or previous month if needed\n    if (autoNavigateOnSelection && selectedDate.getMonth() !== navigatedDate.getMonth()) {\n      const compareResult = compareDatePart(selectedDate, navigatedDate);\n      if (compareResult < 0) {\n        this._onSelectPrevMonth();\n      } else if (compareResult > 0) {\n        this._onSelectNextMonth();\n      }\n    }\n  };\n\n  private _onSelectNextMonth = (): void => {\n    this.props.onNavigateDate(addMonths(this.props.navigatedDate, 1), false);\n  };\n\n  private _onSelectPrevMonth = (): void => {\n    this.props.onNavigateDate(addMonths(this.props.navigatedDate, -1), false);\n  };\n\n  private _onClose = (): void => {\n    if (this.props.onDismiss) {\n      this.props.onDismiss();\n    }\n  };\n\n  private _onHeaderSelect = (): void => {\n    const { onHeaderSelect } = this.props;\n    if (onHeaderSelect) {\n      onHeaderSelect(true);\n    }\n  };\n\n  private _onHeaderKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    const { onHeaderSelect } = this.props;\n    if (onHeaderSelect && (ev.which === KeyCodes.enter || ev.which === KeyCodes.space)) {\n      onHeaderSelect(true);\n    }\n  };\n\n  private _onPrevMonthKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (ev.which === KeyCodes.enter) {\n      this._onKeyDown(this._onSelectPrevMonth, ev);\n    }\n  };\n\n  private _onNextMonthKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (ev.which === KeyCodes.enter) {\n      this._onKeyDown(this._onSelectNextMonth, ev);\n    }\n  };\n\n  private _onCloseButtonKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (ev.which === KeyCodes.enter) {\n      this._onKeyDown(this._onClose, ev);\n    }\n  };\n\n  private _getWeeks(propsToUse: ICalendarDayProps): IDayInfo[][] {\n    const {\n      navigatedDate,\n      selectedDate,\n      dateRangeType,\n      firstDayOfWeek,\n      today,\n      minDate,\n      maxDate,\n      showSixWeeksByDefault,\n      workWeekDays,\n    } = propsToUse;\n    const date = new Date(navigatedDate.getFullYear(), navigatedDate.getMonth(), 1);\n    const todaysDate = today || new Date();\n    const weeks: IDayInfo[][] = [];\n\n    // Cycle the date backwards to get to the first day of the week.\n    while (date.getDay() !== firstDayOfWeek) {\n      date.setDate(date.getDate() - 1);\n    }\n\n    // a flag to indicate whether all days of the week are in the month\n    let isAllDaysOfWeekOutOfMonth = false;\n\n    // in work week view we want to select the whole week\n    const selectedDateRangeType = dateRangeType === DateRangeType.WorkWeek ? DateRangeType.Week : dateRangeType;\n    let selectedDates = getDateRangeArray(selectedDate, selectedDateRangeType, firstDayOfWeek, workWeekDays);\n    if (dateRangeType !== DateRangeType.Day) {\n      selectedDates = this._getBoundedDateRange(selectedDates, minDate, maxDate);\n    }\n\n    let shouldGetWeeks = true;\n\n    for (let weekIndex = 0; shouldGetWeeks; weekIndex++) {\n      const week: IDayInfo[] = [];\n\n      isAllDaysOfWeekOutOfMonth = true;\n\n      for (let dayIndex = 0; dayIndex < DAYS_IN_WEEK; dayIndex++) {\n        const originalDate = new Date(date.toString());\n        const dayInfo: IDayInfo = {\n          key: date.toString(),\n          date: date.getDate().toString(),\n          originalDate: originalDate,\n          isInMonth: date.getMonth() === navigatedDate.getMonth(),\n          isToday: compareDates(todaysDate, date),\n          isSelected: isInDateRangeArray(date, selectedDates),\n          onSelected: this._onSelectDate.bind(this, originalDate),\n          isInBounds:\n            (minDate ? compareDatePart(minDate, date) < 1 : true) &&\n            (maxDate ? compareDatePart(date, maxDate) < 1 : true) &&\n            !this._getIsRestrictedDate(date),\n        };\n\n        week.push(dayInfo);\n\n        if (dayInfo.isInMonth) {\n          isAllDaysOfWeekOutOfMonth = false;\n        }\n\n        date.setDate(date.getDate() + 1);\n      }\n\n      // We append the condition of the loop depending upon the showSixWeeksByDefault prop.\n      shouldGetWeeks = showSixWeeksByDefault\n        ? !isAllDaysOfWeekOutOfMonth || weekIndex <= 5\n        : !isAllDaysOfWeekOutOfMonth;\n      if (shouldGetWeeks) {\n        weeks.push(week);\n      }\n    }\n\n    return weeks;\n  }\n\n  private _getIsRestrictedDate(date: Date): boolean {\n    const { restrictedDates } = this.props;\n    if (!restrictedDates) {\n      return false;\n    }\n    const restrictedDate = find(restrictedDates, rd => {\n      return compareDates(rd, date);\n    });\n    return restrictedDate ? true : false;\n  }\n\n  private _getBoundedDateRange(dateRange: Date[], minDate?: Date, maxDate?: Date): Date[] {\n    let boundedDateRange = [...dateRange];\n    if (minDate) {\n      boundedDateRange = boundedDateRange.filter(date => compareDatePart(date, minDate as Date) >= 0);\n    }\n    if (maxDate) {\n      boundedDateRange = boundedDateRange.filter(date => compareDatePart(date, maxDate as Date) <= 0);\n    }\n    return boundedDateRange;\n  }\n\n  /**\n   * Returns the index of the last element in the array where the predicate is true, and -1\n   * otherwise\n   * @param items Array of items to be iterated over using the predicate\n   * @param predicate find calls predicate once for each element of the array, in descending\n   * order, until it finds one where predicate returns true if such an element is found.\n   */\n  private _findLastIndex<T>(items: T[], predicate: (item: T) => boolean): number {\n    for (let i = items.length - 1; i >= 0; i--) {\n      const item = items[i];\n\n      if (predicate(item)) {\n        return i;\n      }\n    }\n\n    return -1;\n  }\n}\n","import * as React from 'react';\nimport { KeyCodes, css, getRTL } from '../../Utilities';\nimport { ICalendarIconStrings } from './Calendar.types';\nimport { FocusZone } from '../../FocusZone';\nimport * as stylesImport from './Calendar.scss';\nimport { Icon } from '../../Icon';\n\nconst styles: any = stylesImport;\n\nconst CELL_COUNT = 12;\n\nexport interface ICalendarYearRange {\n  fromYear: number;\n  toYear: number;\n}\n\nexport interface ICalendarYearRangeToString {\n  (range: ICalendarYearRange): string;\n}\n\nexport interface ICalendarYearStrings {\n  rangeAriaLabel?: string | ICalendarYearRangeToString;\n  prevRangeAriaLabel?: string | ICalendarYearRangeToString;\n  nextRangeAriaLabel?: string | ICalendarYearRangeToString;\n}\n\nexport interface ICalendarYear {\n  focus(): void;\n}\n\nexport interface ICalendarYearProps {\n  navigationIcons?: ICalendarIconStrings;\n  navigatedYear?: number;\n  selectedYear?: number;\n  minYear?: number;\n  maxYear?: number;\n  onHeaderSelect?: (focus: boolean) => void;\n  onSelectYear?: (year: number) => void;\n  onRenderTitle?: (props: ICalendarYearHeaderProps) => React.ReactNode;\n  onRenderYear?: (year: number) => React.ReactNode;\n  className?: string;\n  strings?: ICalendarYearStrings;\n}\n\nconst DefaultCalendarYearStrings: ICalendarYearStrings = {\n  prevRangeAriaLabel: undefined,\n  nextRangeAriaLabel: undefined,\n};\n\nconst DefaultNavigationIcons: ICalendarIconStrings = {\n  leftNavigation: 'Up',\n  rightNavigation: 'Down',\n  closeIcon: 'CalculatorMultiply',\n};\n\ninterface ICalendarYearGridCell {\n  focus(): void;\n}\n\ninterface ICalendarYearGridCellProps {\n  year: number;\n  current?: boolean;\n  selected?: boolean;\n  disabled?: boolean;\n  onSelectYear?: (year: number) => void;\n  onRenderYear?: (year: number) => React.ReactNode;\n}\n\nclass CalendarYearGridCell extends React.Component<ICalendarYearGridCellProps, {}> implements ICalendarYearGridCell {\n  private _buttonRef = React.createRef<HTMLButtonElement>();\n\n  public focus() {\n    if (this._buttonRef.current) {\n      this._buttonRef.current.focus();\n    }\n  }\n\n  public render() {\n    const { year, selected, disabled, onSelectYear } = this.props;\n    return (\n      <button\n        className={css('ms-DatePicker-yearOption', styles.yearOption, {\n          ['ms-DatePicker-day--highlighted ' + styles.yearIsHighlighted]: selected,\n          ['ms-DatePicker-yearOption--disabled ' + styles.yearOptionIsDisabled]: disabled,\n        })}\n        type=\"button\"\n        role=\"gridcell\"\n        onClick={!disabled && onSelectYear ? this._onClick : undefined}\n        onKeyDown={!disabled && onSelectYear ? this._onKeyDown : undefined}\n        disabled={disabled}\n        aria-label={String(year)}\n        aria-selected={selected}\n        ref={this._buttonRef}\n      >\n        {this._onRenderYear()}\n      </button>\n    );\n  }\n\n  private _onRenderYear = () => {\n    const { year, onRenderYear } = this.props;\n    if (onRenderYear) {\n      return onRenderYear(year);\n    }\n    return year;\n  };\n\n  private _onClick = () => {\n    if (this.props.onSelectYear) {\n      this.props.onSelectYear(this.props.year);\n    }\n  };\n\n  private _onKeyDown = (ev: React.KeyboardEvent<HTMLElement>) => {\n    if (this.props.onSelectYear && ev.which === KeyCodes.enter) {\n      this.props.onSelectYear(this.props.year);\n    }\n  };\n}\n\ninterface ICalendarYearGrid {\n  focus(): void;\n}\n\ninterface ICalendarYearGridProps extends ICalendarYearProps, ICalendarYearRange {\n  selectedYear?: number;\n}\n\nclass CalendarYearGrid extends React.Component<ICalendarYearGridProps, {}> implements ICalendarYearGrid {\n  private _selectedCellRef = React.createRef<CalendarYearGridCell>();\n  private _currentCellRef = React.createRef<CalendarYearGridCell>();\n\n  public focus() {\n    if (this._selectedCellRef.current) {\n      this._selectedCellRef.current.focus();\n    } else if (this._currentCellRef.current) {\n      this._currentCellRef.current.focus();\n    }\n  }\n\n  public render() {\n    const { fromYear, toYear } = this.props;\n    let year = fromYear;\n    const cells = [];\n    while (year <= toYear) {\n      cells.push(this._renderCell(year));\n      year++;\n    }\n    return (\n      <FocusZone>\n        <div className={css('ms-DatePicker-optionGrid', styles.optionGrid)} role=\"grid\">\n          <div role=\"row\">{cells}</div>\n        </div>\n      </FocusZone>\n    );\n  }\n\n  private _renderCell = (year: number): React.ReactNode => {\n    const selected = year === this.props.selectedYear;\n    const { minYear, maxYear, onSelectYear } = this.props;\n    const disabled = (minYear !== undefined && year < minYear) || (maxYear !== undefined && year > maxYear);\n    const current = year === new Date().getFullYear();\n    return (\n      <CalendarYearGridCell\n        key={year}\n        year={year}\n        selected={selected}\n        current={current}\n        disabled={disabled}\n        onSelectYear={onSelectYear}\n        ref={selected ? this._selectedCellRef : current ? this._currentCellRef : undefined}\n      />\n    );\n  };\n}\n\nexport interface ICalendarYearHeaderProps extends ICalendarYearProps, ICalendarYearRange {\n  onSelectPrev?: () => void;\n  onSelectNext?: () => void;\n}\n\nclass CalendarYearNavPrev extends React.Component<ICalendarYearHeaderProps, any> {\n  public render() {\n    const iconStrings = this.props.navigationIcons || DefaultNavigationIcons;\n    const strings = this.props.strings || DefaultCalendarYearStrings;\n    const prevRangeAriaLabel = strings.prevRangeAriaLabel;\n    const prevRange = { fromYear: this.props.fromYear - CELL_COUNT, toYear: this.props.toYear - CELL_COUNT };\n    const prevAriaLabel = prevRangeAriaLabel\n      ? typeof prevRangeAriaLabel === 'string'\n        ? (prevRangeAriaLabel as string)\n        : (prevRangeAriaLabel as ICalendarYearRangeToString)(prevRange)\n      : undefined;\n    const disabled = this.isDisabled;\n    const { onSelectPrev } = this.props;\n    return (\n      <button\n        className={css('ms-DatePicker-prevDecade', styles.prevDecade, {\n          ['ms-DatePicker-prevDecade--disabled ' + styles.prevDecadeIsDisabled]: disabled,\n        })}\n        onClick={!disabled && onSelectPrev ? this._onSelectPrev : undefined}\n        onKeyDown={!disabled && onSelectPrev ? this._onKeyDown : undefined}\n        type=\"button\"\n        tabIndex={0}\n        title={prevAriaLabel}\n        disabled={disabled}\n      >\n        <Icon iconName={getRTL() ? iconStrings.rightNavigation : iconStrings.leftNavigation} />\n      </button>\n    );\n  }\n\n  get isDisabled() {\n    const { minYear } = this.props;\n    return minYear !== undefined && this.props.fromYear < minYear;\n  }\n\n  private _onSelectPrev = () => {\n    if (!this.isDisabled && this.props.onSelectPrev) {\n      this.props.onSelectPrev();\n    }\n  };\n\n  private _onKeyDown = (ev: React.KeyboardEvent<HTMLElement>) => {\n    if (ev.which === KeyCodes.enter) {\n      this._onSelectPrev();\n    }\n  };\n}\n\nclass CalendarYearNavNext extends React.Component<ICalendarYearHeaderProps, any> {\n  public render() {\n    const iconStrings = this.props.navigationIcons || DefaultNavigationIcons;\n    const strings = this.props.strings || DefaultCalendarYearStrings;\n    const nextRangeAriaLabel = strings.nextRangeAriaLabel;\n    const nextRange = { fromYear: this.props.fromYear + CELL_COUNT, toYear: this.props.toYear + CELL_COUNT };\n    const nextAriaLabel = nextRangeAriaLabel\n      ? typeof nextRangeAriaLabel === 'string'\n        ? (nextRangeAriaLabel as string)\n        : (nextRangeAriaLabel as ICalendarYearRangeToString)(nextRange)\n      : undefined;\n    const { onSelectNext } = this.props;\n    const disabled = this.isDisabled;\n    return (\n      <button\n        className={css('ms-DatePicker-nextDecade', styles.nextDecade, {\n          ['ms-DatePicker-nextDecade--disabled ' + styles.nextDecadeIsDisabled]: disabled,\n        })}\n        onClick={!disabled && onSelectNext ? this._onSelectNext : undefined}\n        onKeyDown={!disabled && onSelectNext ? this._onKeyDown : undefined}\n        type=\"button\"\n        tabIndex={0}\n        title={nextAriaLabel}\n        disabled={this.isDisabled}\n      >\n        <Icon iconName={getRTL() ? iconStrings.leftNavigation : iconStrings.rightNavigation} />\n      </button>\n    );\n  }\n\n  get isDisabled() {\n    const { maxYear } = this.props;\n    return maxYear !== undefined && this.props.fromYear + CELL_COUNT > maxYear;\n  }\n\n  private _onSelectNext = () => {\n    if (!this.isDisabled && this.props.onSelectNext) {\n      this.props.onSelectNext();\n    }\n  };\n\n  private _onKeyDown = (ev: React.KeyboardEvent<HTMLElement>) => {\n    if (ev.which === KeyCodes.enter) {\n      this._onSelectNext();\n    }\n  };\n}\n\nclass CalendarYearNav extends React.Component<ICalendarYearHeaderProps, any> {\n  public render() {\n    return (\n      <div className={css('ms-DatePicker-decadeComponents', styles.decadeComponents)}>\n        <div className={css('ms-DatePicker-navContainer', styles.navContainer)}>\n          <CalendarYearNavPrev {...this.props} />\n          <CalendarYearNavNext {...this.props} />\n        </div>\n      </div>\n    );\n  }\n}\n\nclass CalendarYearTitle extends React.Component<ICalendarYearHeaderProps, any> {\n  public render() {\n    const { fromYear, toYear, onHeaderSelect } = this.props;\n    if (onHeaderSelect) {\n      const strings = this.props.strings || DefaultCalendarYearStrings;\n      const rangeAriaLabel = strings.rangeAriaLabel;\n      const ariaLabel = rangeAriaLabel\n        ? typeof rangeAriaLabel === 'string'\n          ? (rangeAriaLabel as string)\n          : (rangeAriaLabel as ICalendarYearRangeToString)(this.props)\n        : undefined;\n      return (\n        <div\n          className={css(\n            'ms-DatePicker-currentDecade js-showYearPicker',\n            styles.currentDecade,\n            styles.headerToggleView,\n          )}\n          onClick={this._onHeaderSelect}\n          onKeyDown={this._onHeaderKeyDown}\n          aria-label={ariaLabel}\n          role=\"button\"\n          aria-atomic={true}\n          aria-live=\"polite\"\n          tabIndex={0}\n        >\n          {this._onRenderYear(fromYear)} - {this._onRenderYear(toYear)}\n        </div>\n      );\n    }\n    return (\n      <div className={css('ms-DatePicker-currentDecade js-showYearPicker', styles.currentDecade)}>\n        {this._onRenderYear(fromYear)} - {this._onRenderYear(toYear)}\n      </div>\n    );\n  }\n\n  private _onHeaderSelect = () => {\n    if (this.props.onHeaderSelect) {\n      this.props.onHeaderSelect(true);\n    }\n  };\n\n  private _onHeaderKeyDown = (ev: React.KeyboardEvent<HTMLElement>) => {\n    if (this.props.onHeaderSelect && (ev.which === KeyCodes.enter || ev.which === KeyCodes.space)) {\n      this.props.onHeaderSelect(true);\n    }\n  };\n\n  private _onRenderYear = (year: number) => {\n    if (this.props.onRenderYear) {\n      return this.props.onRenderYear(year);\n    }\n    return year;\n  };\n}\n\nclass CalendarYearHeader extends React.Component<ICalendarYearHeaderProps, any> {\n  public render() {\n    return (\n      <div className={css('ms-DatePicker-header', styles.header)}>\n        {this._onRenderTitle()}\n        {this._onRenderNav()}\n      </div>\n    );\n  }\n\n  private _onRenderTitle = () => {\n    if (this.props.onRenderTitle) {\n      return this.props.onRenderTitle(this.props);\n    }\n    return <CalendarYearTitle {...this.props} />;\n  };\n\n  private _onRenderNav = () => {\n    return <CalendarYearNav {...this.props} />;\n  };\n}\n\nexport interface ICalendarYearState {\n  fromYear: number;\n  navigatedYear?: number;\n  selectedYear?: number;\n}\n\nexport class CalendarYear extends React.Component<ICalendarYearProps, ICalendarYearState> implements ICalendarYear {\n  private _gridRef = React.createRef<CalendarYearGrid>();\n\n  public constructor(props: ICalendarYearProps) {\n    super(props);\n    this.state = this._calculateInitialStateFromProps(props);\n  }\n\n  public focus() {\n    if (this._gridRef.current) {\n      this._gridRef.current.focus();\n    }\n  }\n\n  public render() {\n    return (\n      <div className={css('ms-DatePicker-yearPicker', styles.yearPicker)}>\n        {this._renderHeader()}\n        {this._renderGrid()}\n      </div>\n    );\n  }\n\n  private _onNavNext = () => {\n    this.setState({ fromYear: this.state.fromYear + CELL_COUNT });\n  };\n\n  private _onNavPrev = () => {\n    this.setState({ fromYear: this.state.fromYear - CELL_COUNT });\n  };\n\n  private _renderHeader = (): React.ReactNode => {\n    return (\n      <CalendarYearHeader\n        {...this.props}\n        fromYear={this.state.fromYear}\n        toYear={this.state.fromYear + CELL_COUNT - 1}\n        onSelectPrev={this._onNavPrev}\n        onSelectNext={this._onNavNext}\n      />\n    );\n  };\n\n  private _renderGrid = (): React.ReactNode => {\n    return (\n      <CalendarYearGrid\n        {...this.props}\n        fromYear={this.state.fromYear}\n        toYear={this.state.fromYear + CELL_COUNT - 1}\n        ref={this._gridRef}\n      />\n    );\n  };\n\n  private _calculateInitialStateFromProps(props: ICalendarYearProps): ICalendarYearState {\n    const { selectedYear, navigatedYear } = props;\n    const rangeYear = selectedYear || navigatedYear || new Date().getFullYear();\n    const fromYear = Math.floor(rangeYear / 10) * 10;\n    return {\n      fromYear: fromYear,\n      navigatedYear: navigatedYear,\n      selectedYear: selectedYear,\n    };\n  }\n}\n","import * as React from 'react';\nimport { KeyCodes, css, getRTL, IRefObject, initializeComponentRef } from '../../Utilities';\nimport { ICalendarStrings, ICalendarIconStrings, ICalendarFormatDateCallbacks } from './Calendar.types';\nimport { FocusZone } from '../../FocusZone';\nimport {\n  addYears,\n  setMonth,\n  getYearStart,\n  getYearEnd,\n  getMonthStart,\n  getMonthEnd,\n  compareDatePart,\n} from '../../utilities/dateMath/DateMath';\nimport { Icon } from '../../Icon';\nimport * as stylesImport from './Calendar.scss';\nimport { CalendarYear, ICalendarYearRange } from './CalendarYear';\nconst styles: any = stylesImport;\nconst MONTHS_PER_ROW: number = 4;\n\nexport interface ICalendarMonth {\n  focus(): void;\n}\n\nexport interface ICalendarMonthProps extends React.ClassAttributes<CalendarMonth> {\n  componentRef?: IRefObject<ICalendarMonth>;\n  navigatedDate: Date;\n  selectedDate: Date;\n  strings: ICalendarStrings;\n  onNavigateDate: (date: Date, focusOnNavigatedDay: boolean) => void;\n  today?: Date;\n  highlightCurrentMonth: boolean;\n  highlightSelectedMonth: boolean;\n  onHeaderSelect?: (focus: boolean) => void;\n  navigationIcons: ICalendarIconStrings;\n  dateTimeFormatter: ICalendarFormatDateCallbacks;\n  minDate?: Date;\n  maxDate?: Date;\n  yearPickerHidden?: boolean;\n}\n\nexport interface ICalendarMonthState {\n  /** State used to show/hide month picker */\n  isYearPickerVisible?: boolean;\n}\n\nexport class CalendarMonth extends React.Component<ICalendarMonthProps, ICalendarMonthState> {\n  /**\n   * @deprecated unused, prefer 'ref' and 'componentRef' of ICalendarMonthProps.\n   */\n  public refs: {\n    [key: string]: React.ReactInstance;\n    navigatedMonth: HTMLElement;\n  };\n\n  private _selectMonthCallbacks: (() => void)[];\n  private _calendarYearRef: CalendarYear;\n  private _navigatedMonthRef: React.RefObject<HTMLButtonElement> = React.createRef<HTMLButtonElement>();\n  private _focusOnUpdate: boolean;\n\n  public constructor(props: ICalendarMonthProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    this._selectMonthCallbacks = [];\n    props.strings.shortMonths.map((month, index) => {\n      this._selectMonthCallbacks[index] = this._onSelectMonth.bind(this, index);\n    });\n\n    this._isCurrentMonth = this._isCurrentMonth.bind(this);\n    this._onSelectNextYear = this._onSelectNextYear.bind(this);\n    this._onSelectPrevYear = this._onSelectPrevYear.bind(this);\n    this._onSelectMonth = this._onSelectMonth.bind(this);\n\n    this.state = { isYearPickerVisible: false };\n  }\n\n  public componentDidUpdate(): void {\n    if (this._focusOnUpdate) {\n      this.focus();\n      this._focusOnUpdate = false;\n    }\n  }\n\n  public render(): JSX.Element {\n    const {\n      navigatedDate,\n      selectedDate,\n      strings,\n      today,\n      highlightCurrentMonth,\n      highlightSelectedMonth,\n      navigationIcons,\n      dateTimeFormatter,\n      minDate,\n      maxDate,\n      yearPickerHidden,\n    } = this.props;\n\n    if (this.state.isYearPickerVisible) {\n      // default the year picker to the current navigated date\n      const currentSelectedDate = navigatedDate ? navigatedDate.getFullYear() : undefined;\n      return (\n        <CalendarYear\n          key={'calendarYear_' + (currentSelectedDate && currentSelectedDate.toString())}\n          minYear={minDate ? minDate.getFullYear() : undefined}\n          maxYear={maxDate ? maxDate.getFullYear() : undefined}\n          onSelectYear={this._onSelectYear}\n          navigationIcons={navigationIcons}\n          onHeaderSelect={this._onYearPickerHeaderSelect}\n          selectedYear={currentSelectedDate}\n          onRenderYear={this._onRenderYear}\n          strings={{\n            rangeAriaLabel: this._yearRangeToString,\n            prevRangeAriaLabel: this._yearRangeToPrevDecadeLabel,\n            nextRangeAriaLabel: this._yearRangeToNextDecadeLabel,\n          }}\n          ref={this._onCalendarYearRef}\n        />\n      );\n    }\n\n    const rowIndexes = [];\n    for (let i = 0; i < strings.shortMonths.length / MONTHS_PER_ROW; i++) {\n      rowIndexes.push(i);\n    }\n\n    const leftNavigationIcon = navigationIcons.leftNavigation;\n    const rightNavigationIcon = navigationIcons.rightNavigation;\n\n    // determine if previous/next years are in bounds\n    const isPrevYearInBounds = minDate ? compareDatePart(minDate, getYearStart(navigatedDate)) < 0 : true;\n    const isNextYearInBounds = maxDate ? compareDatePart(getYearEnd(navigatedDate), maxDate) < 0 : true;\n\n    return (\n      <div className={css('ms-DatePicker-monthPicker', styles.monthPicker)}>\n        <div className={css('ms-DatePicker-header', styles.header)}>\n          {this.props.onHeaderSelect || !yearPickerHidden ? (\n            <div\n              className={css(\n                'ms-DatePicker-currentYear js-showYearPicker',\n                styles.currentYear,\n                styles.headerToggleView,\n              )}\n              onClick={this._onHeaderSelect}\n              onKeyDown={this._onHeaderKeyDown}\n              aria-label={dateTimeFormatter.formatYear(navigatedDate)}\n              role=\"button\"\n              aria-atomic={true}\n              aria-live=\"polite\"\n              tabIndex={0}\n            >\n              {dateTimeFormatter.formatYear(navigatedDate)}\n            </div>\n          ) : (\n            <div className={css('ms-DatePicker-currentYear js-showYearPicker', styles.currentYear)}>\n              {dateTimeFormatter.formatYear(navigatedDate)}\n            </div>\n          )}\n          <div className={css('ms-DatePicker-yearComponents', styles.yearComponents)}>\n            <div className={css('ms-DatePicker-navContainer', styles.navContainer)}>\n              <button\n                className={css('ms-DatePicker-prevYear js-prevYear', styles.prevYear, {\n                  ['ms-DatePicker-prevYear--disabled ' + styles.prevYearIsDisabled]: !isPrevYearInBounds,\n                })}\n                disabled={!isPrevYearInBounds}\n                onClick={isPrevYearInBounds ? this._onSelectPrevYear : undefined}\n                onKeyDown={isPrevYearInBounds ? this._onSelectPrevYearKeyDown : undefined}\n                title={\n                  strings.prevYearAriaLabel\n                    ? strings.prevYearAriaLabel + ' ' + dateTimeFormatter.formatYear(addYears(navigatedDate, -1))\n                    : undefined\n                }\n                role=\"button\"\n                type=\"button\"\n              >\n                <Icon iconName={getRTL() ? rightNavigationIcon : leftNavigationIcon} />\n              </button>\n              <button\n                className={css('ms-DatePicker-nextYear js-nextYear', styles.nextYear, {\n                  ['ms-DatePicker-nextYear--disabled ' + styles.nextYearIsDisabled]: !isNextYearInBounds,\n                })}\n                disabled={!isNextYearInBounds}\n                onClick={isNextYearInBounds ? this._onSelectNextYear : undefined}\n                onKeyDown={isNextYearInBounds ? this._onSelectNextYearKeyDown : undefined}\n                title={\n                  strings.nextYearAriaLabel\n                    ? strings.nextYearAriaLabel + ' ' + dateTimeFormatter.formatYear(addYears(navigatedDate, 1))\n                    : undefined\n                }\n                role=\"button\"\n                type=\"button\"\n              >\n                <Icon iconName={getRTL() ? leftNavigationIcon : rightNavigationIcon} />\n              </button>\n            </div>\n          </div>\n        </div>\n        <FocusZone>\n          <div className={css('ms-DatePicker-optionGrid', styles.optionGrid)} role=\"grid\" aria-readonly=\"true\">\n            {rowIndexes.map((rowNum: number) => {\n              const monthsForRow = strings.shortMonths.slice(rowNum * MONTHS_PER_ROW, (rowNum + 1) * MONTHS_PER_ROW);\n              return (\n                <div key={'monthRow_' + rowNum} role=\"row\">\n                  {monthsForRow.map((month: string, index: number) => {\n                    const monthIndex = rowNum * MONTHS_PER_ROW + index;\n                    const indexedMonth = setMonth(navigatedDate, monthIndex);\n                    const isCurrentMonth = this._isCurrentMonth(monthIndex, navigatedDate.getFullYear(), today!);\n                    const isNavigatedMonth = navigatedDate.getMonth() === monthIndex;\n                    const isSelectedMonth = selectedDate.getMonth() === monthIndex;\n                    const isSelectedYear = selectedDate.getFullYear() === navigatedDate.getFullYear();\n                    const isInBounds =\n                      (minDate ? compareDatePart(minDate, getMonthEnd(indexedMonth)) < 1 : true) &&\n                      (maxDate ? compareDatePart(getMonthStart(indexedMonth), maxDate) < 1 : true);\n\n                    return (\n                      <button\n                        role={'gridcell'}\n                        className={css('ms-DatePicker-monthOption', styles.monthOption, {\n                          ['ms-DatePicker-day--today ' + styles.monthIsCurrentMonth]:\n                            highlightCurrentMonth && isCurrentMonth!,\n                          ['ms-DatePicker-day--highlighted ' + styles.monthIsHighlighted]:\n                            (highlightCurrentMonth || highlightSelectedMonth) && isSelectedMonth && isSelectedYear,\n                          ['ms-DatePicker-monthOption--disabled ' + styles.monthOptionIsDisabled]: !isInBounds,\n                        })}\n                        disabled={!isInBounds}\n                        key={monthIndex}\n                        onClick={isInBounds ? this._selectMonthCallbacks[monthIndex] : undefined}\n                        onKeyDown={isInBounds ? this._onSelectMonthKeyDown(monthIndex) : undefined}\n                        aria-label={dateTimeFormatter.formatMonthYear(indexedMonth, strings)}\n                        aria-selected={isNavigatedMonth}\n                        data-is-focusable={isInBounds ? true : undefined}\n                        ref={isNavigatedMonth ? this._navigatedMonthRef : undefined}\n                        type=\"button\"\n                      >\n                        {month}\n                      </button>\n                    );\n                  })}\n                </div>\n              );\n            })}\n          </div>\n        </FocusZone>\n      </div>\n    );\n  }\n\n  public focus() {\n    if (this._calendarYearRef) {\n      this._calendarYearRef.focus();\n    } else if (this._navigatedMonthRef.current) {\n      this._navigatedMonthRef.current.tabIndex = 0;\n      this._navigatedMonthRef.current.focus();\n    }\n  }\n\n  private _onCalendarYearRef = (ref: CalendarYear) => {\n    this._calendarYearRef = ref;\n  };\n\n  private _isCurrentMonth(month: number, year: number, today: Date): boolean {\n    return today.getFullYear() === year && today.getMonth() === month;\n  }\n\n  private _onKeyDown = (callback: () => void, ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (ev.which === KeyCodes.enter) {\n      callback();\n    }\n  };\n\n  private _onSelectYear = (selectedYear: number) => {\n    this._focusOnUpdate = true;\n    const { navigatedDate, onNavigateDate, maxDate, minDate } = this.props;\n    const navYear = navigatedDate.getFullYear();\n    if (navYear !== selectedYear) {\n      let newNavigationDate = new Date(navigatedDate.getTime());\n      newNavigationDate.setFullYear(selectedYear);\n      // for min and max dates, adjust the new navigation date - perhaps this should be\n      // checked on the master navigation date handler (i.e. in Calendar)\n      if (maxDate && newNavigationDate > maxDate) {\n        newNavigationDate = setMonth(newNavigationDate, maxDate.getMonth());\n      } else if (minDate && newNavigationDate < minDate) {\n        newNavigationDate = setMonth(newNavigationDate, minDate.getMonth());\n      }\n      onNavigateDate(newNavigationDate, true);\n    }\n    this.setState({ isYearPickerVisible: false });\n  };\n\n  private _yearToString = (year: number) => {\n    const { navigatedDate, dateTimeFormatter } = this.props;\n    if (dateTimeFormatter) {\n      // create a date based on the current nav date\n      const yearFormattingDate = new Date(navigatedDate.getTime());\n      yearFormattingDate.setFullYear(year);\n      return dateTimeFormatter.formatYear(yearFormattingDate);\n    }\n    return String(year);\n  };\n\n  private _yearRangeToString = (yearRange: ICalendarYearRange) => {\n    return `${this._yearToString(yearRange.fromYear)} - ${this._yearToString(yearRange.toYear)}`;\n  };\n\n  private _yearRangeToNextDecadeLabel = (yearRange: ICalendarYearRange) => {\n    const { strings } = this.props;\n    return strings.nextYearRangeAriaLabel\n      ? `${strings.nextYearRangeAriaLabel} ${this._yearRangeToString(yearRange)}`\n      : '';\n  };\n\n  private _yearRangeToPrevDecadeLabel = (yearRange: ICalendarYearRange) => {\n    const { strings } = this.props;\n    return strings.prevYearRangeAriaLabel\n      ? `${strings.prevYearRangeAriaLabel} ${this._yearRangeToString(yearRange)}`\n      : '';\n  };\n\n  private _onRenderYear = (year: number) => {\n    return this._yearToString(year);\n  };\n\n  private _onSelectNextYear = (): void => {\n    const { navigatedDate, onNavigateDate } = this.props;\n    onNavigateDate(addYears(navigatedDate, 1), false);\n  };\n\n  private _onSelectNextYearKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (ev.which === KeyCodes.enter) {\n      this._onKeyDown(this._onSelectNextYear, ev);\n    }\n  };\n\n  private _onSelectPrevYear = (): void => {\n    const { navigatedDate, onNavigateDate } = this.props;\n    onNavigateDate(addYears(navigatedDate, -1), false);\n  };\n\n  private _onSelectPrevYearKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (ev.which === KeyCodes.enter) {\n      this._onKeyDown(this._onSelectPrevYear, ev);\n    }\n  };\n\n  private _onSelectMonthKeyDown = (index: number): ((ev: React.KeyboardEvent<HTMLElement>) => void) => {\n    return (ev: React.KeyboardEvent<HTMLElement>) => this._onKeyDown(() => this._onSelectMonth(index), ev);\n  };\n\n  private _onSelectMonth = (newMonth: number): void => {\n    const { navigatedDate, onNavigateDate, onHeaderSelect } = this.props;\n\n    // If header is clickable the calendars are overlayed, switch back to day picker when month is clicked\n    if (onHeaderSelect) {\n      onHeaderSelect(true);\n    }\n    onNavigateDate(setMonth(navigatedDate, newMonth), true);\n  };\n\n  private _onHeaderSelect = (): void => {\n    const { onHeaderSelect, yearPickerHidden } = this.props;\n    if (!yearPickerHidden) {\n      this._focusOnUpdate = true;\n      this.setState({ isYearPickerVisible: true });\n    } else if (onHeaderSelect) {\n      onHeaderSelect(true);\n    }\n  };\n\n  private _onYearPickerHeaderSelect = (focus: boolean): void => {\n    this._focusOnUpdate = focus;\n    this.setState({ isYearPickerVisible: false });\n  };\n\n  private _onHeaderKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (this._onHeaderSelect && (ev.which === KeyCodes.enter || ev.which === KeyCodes.space)) {\n      this._onHeaderSelect();\n    }\n  };\n}\n","import * as React from 'react';\nimport {\n  ICalendar,\n  ICalendarProps,\n  ICalendarStrings,\n  ICalendarIconStrings,\n  ICalendarFormatDateCallbacks,\n} from './Calendar.types';\nimport { DayOfWeek, FirstWeekOfYear, DateRangeType } from '../../utilities/dateValues/DateValues';\nimport { CalendarDay, ICalendarDay } from './CalendarDay';\nimport { CalendarMonth, ICalendarMonth } from './CalendarMonth';\nimport { compareDates, getDateRangeArray } from '../../utilities/dateMath/DateMath';\nimport { css, KeyCodes, getNativeProps, divProperties, initializeComponentRef, FocusRects } from '../../Utilities';\nimport * as stylesImport from './Calendar.scss';\nconst styles: any = stylesImport;\n\nconst leftArrow = 'Up';\nconst rightArrow = 'Down';\nconst closeIcon = 'CalculatorMultiply';\nconst iconStrings: ICalendarIconStrings = {\n  leftNavigation: leftArrow,\n  rightNavigation: rightArrow,\n  closeIcon: closeIcon,\n};\nconst defaultWorkWeekDays: DayOfWeek[] = [\n  DayOfWeek.Monday,\n  DayOfWeek.Tuesday,\n  DayOfWeek.Wednesday,\n  DayOfWeek.Thursday,\n  DayOfWeek.Friday,\n];\n\nconst dateTimeFormatterCallbacks: ICalendarFormatDateCallbacks = {\n  formatMonthDayYear: (date: Date, strings: ICalendarStrings) =>\n    strings.months[date.getMonth()] + ' ' + date.getDate() + ', ' + date.getFullYear(),\n  formatMonthYear: (date: Date, strings: ICalendarStrings) =>\n    strings.months[date.getMonth()] + ' ' + date.getFullYear(),\n  formatDay: (date: Date) => date.getDate().toString(),\n  formatYear: (date: Date) => date.getFullYear().toString(),\n};\n\nexport interface ICalendarState {\n  /** The currently focused date in the day picker, but not necessarily selected */\n  navigatedDayDate?: Date;\n\n  /** The currently focused date in the month picker, but not necessarily selected */\n  navigatedMonthDate?: Date;\n\n  /** The currently selected date in the calendar */\n  selectedDate?: Date;\n\n  /** State used to show/hide month picker */\n  isMonthPickerVisible?: boolean;\n\n  /** State used to show/hide day picker */\n  isDayPickerVisible?: boolean;\n}\n\nexport class Calendar extends React.Component<ICalendarProps, ICalendarState> implements ICalendar {\n  public static defaultProps: ICalendarProps = {\n    onSelectDate: undefined,\n    onDismiss: undefined,\n    isMonthPickerVisible: true,\n    isDayPickerVisible: true,\n    showMonthPickerAsOverlay: false,\n    value: undefined,\n    today: new Date(),\n    firstDayOfWeek: DayOfWeek.Sunday,\n    dateRangeType: DateRangeType.Day,\n    autoNavigateOnSelection: false,\n    showGoToToday: true,\n    strings: null,\n    highlightCurrentMonth: false,\n    highlightSelectedMonth: false,\n    navigationIcons: iconStrings,\n    showWeekNumbers: false,\n    firstWeekOfYear: FirstWeekOfYear.FirstDay,\n    dateTimeFormatter: dateTimeFormatterCallbacks,\n    showSixWeeksByDefault: false,\n    workWeekDays: defaultWorkWeekDays,\n    showCloseButton: false,\n    allFocusable: false,\n  };\n\n  private _dayPicker = React.createRef<ICalendarDay>();\n  private _monthPicker = React.createRef<ICalendarMonth>();\n\n  private _focusOnUpdate: boolean;\n\n  constructor(props: ICalendarProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    const currentDate = props.value && !isNaN(props.value.getTime()) ? props.value : props.today || new Date();\n\n    this.state = {\n      selectedDate: currentDate,\n      navigatedDayDate: currentDate,\n      navigatedMonthDate: currentDate,\n\n      /** When showMonthPickerAsOverlay is active it overrides isMonthPickerVisible/isDayPickerVisible props\n       (These props permanently set the visibility of their respective calendars). */\n      isMonthPickerVisible: this.props.showMonthPickerAsOverlay ? false : this.props.isMonthPickerVisible,\n      isDayPickerVisible: this.props.showMonthPickerAsOverlay ? true : this.props.isDayPickerVisible,\n    };\n\n    this._focusOnUpdate = false;\n  }\n\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillReceiveProps(nextProps: ICalendarProps): void {\n    const { autoNavigateOnSelection, value, today = new Date() } = nextProps;\n\n    // Make sure auto-navigation is supported for programmatic changes to selected date, i.e.,\n    // if selected date is updated via props, we may need to modify the navigated date\n    const overrideNavigatedDate = autoNavigateOnSelection && !compareDates(value!, this.props.value!);\n    if (overrideNavigatedDate) {\n      this.setState({\n        navigatedMonthDate: value,\n        navigatedDayDate: value,\n      });\n    }\n\n    this.setState({\n      selectedDate: value || today,\n    });\n  }\n\n  public componentDidUpdate(): void {\n    if (this._focusOnUpdate) {\n      this.focus();\n      this._focusOnUpdate = false;\n    }\n  }\n\n  public render(): JSX.Element {\n    const rootClass = 'ms-DatePicker';\n    const {\n      firstDayOfWeek,\n      dateRangeType,\n      strings,\n      showMonthPickerAsOverlay,\n      autoNavigateOnSelection,\n      showGoToToday,\n      highlightCurrentMonth,\n      highlightSelectedMonth,\n      navigationIcons,\n      minDate,\n      maxDate,\n      restrictedDates,\n      className,\n      showCloseButton,\n      allFocusable,\n      yearPickerHidden,\n      today,\n    } = this.props;\n    const nativeProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties, ['value']);\n\n    const { selectedDate, navigatedDayDate, navigatedMonthDate, isMonthPickerVisible, isDayPickerVisible } = this.state;\n    const onHeaderSelect = showMonthPickerAsOverlay ? this._onHeaderSelect : undefined;\n    const monthPickerOnly = !showMonthPickerAsOverlay && !isDayPickerVisible;\n    const overlayedWithButton = showMonthPickerAsOverlay && showGoToToday;\n\n    let goTodayEnabled = showGoToToday;\n\n    if (goTodayEnabled && navigatedDayDate && navigatedMonthDate && today) {\n      goTodayEnabled =\n        navigatedDayDate.getFullYear() !== today.getFullYear() ||\n        navigatedDayDate.getMonth() !== today.getMonth() ||\n        navigatedMonthDate.getFullYear() !== today.getFullYear() ||\n        navigatedMonthDate.getMonth() !== today.getMonth();\n    }\n\n    return (\n      <div className={css(rootClass, styles.root, className)} role=\"application\">\n        <div\n          {...nativeProps}\n          className={css(\n            'ms-DatePicker-picker ms-DatePicker-picker--opened ms-DatePicker-picker--focused',\n            styles.picker,\n            styles.pickerIsOpened,\n            styles.pickerIsFocused,\n            isMonthPickerVisible && 'ms-DatePicker-monthPickerVisible ' + styles.monthPickerVisible,\n            isMonthPickerVisible && isDayPickerVisible && 'ms-DatePicker-calendarsInline ' + styles.calendarsInline,\n            monthPickerOnly && 'ms-DatePicker-monthPickerOnly ' + styles.monthPickerOnly,\n            showMonthPickerAsOverlay && 'ms-DatePicker-monthPickerAsOverlay ' + styles.monthPickerAsOverlay,\n          )}\n        >\n          <div\n            className={css(\n              'ms-DatePicker-holder ms-slideDownIn10',\n              styles.holder,\n              overlayedWithButton && styles.holderWithButton,\n            )}\n            onKeyDown={this._onDatePickerPopupKeyDown}\n          >\n            <div className={css('ms-DatePicker-frame', styles.frame)}>\n              <div className={css('ms-DatePicker-wrap', styles.wrap, showGoToToday && styles.goTodaySpacing)}>\n                {isDayPickerVisible && (\n                  <CalendarDay\n                    selectedDate={selectedDate!}\n                    navigatedDate={navigatedDayDate!}\n                    today={this.props.today}\n                    onSelectDate={this._onSelectDate}\n                    onNavigateDate={this._onNavigateDayDate}\n                    onDismiss={this.props.onDismiss}\n                    firstDayOfWeek={firstDayOfWeek!}\n                    dateRangeType={dateRangeType!}\n                    autoNavigateOnSelection={autoNavigateOnSelection!}\n                    strings={strings!}\n                    onHeaderSelect={onHeaderSelect}\n                    navigationIcons={navigationIcons!}\n                    showWeekNumbers={this.props.showWeekNumbers}\n                    firstWeekOfYear={this.props.firstWeekOfYear!}\n                    dateTimeFormatter={this.props.dateTimeFormatter!}\n                    showSixWeeksByDefault={this.props.showSixWeeksByDefault}\n                    minDate={minDate}\n                    maxDate={maxDate}\n                    restrictedDates={restrictedDates}\n                    workWeekDays={this.props.workWeekDays}\n                    componentRef={this._dayPicker}\n                    showCloseButton={showCloseButton}\n                    allFocusable={allFocusable}\n                  />\n                )}\n                {isDayPickerVisible && isMonthPickerVisible && <div className={styles.divider} />}\n                {isMonthPickerVisible && (\n                  <CalendarMonth\n                    navigatedDate={navigatedMonthDate!}\n                    selectedDate={navigatedDayDate!}\n                    strings={strings!}\n                    onNavigateDate={this._onNavigateMonthDate}\n                    today={this.props.today}\n                    highlightCurrentMonth={highlightCurrentMonth!}\n                    highlightSelectedMonth={highlightSelectedMonth!}\n                    onHeaderSelect={onHeaderSelect}\n                    navigationIcons={navigationIcons!}\n                    dateTimeFormatter={this.props.dateTimeFormatter!}\n                    minDate={minDate}\n                    maxDate={maxDate}\n                    componentRef={this._monthPicker}\n                    yearPickerHidden={yearPickerHidden || showMonthPickerAsOverlay}\n                  />\n                )}\n\n                {showGoToToday && (\n                  <button\n                    role=\"button\"\n                    className={css('ms-DatePicker-goToday js-goToday', styles.goToday, {\n                      [styles.goTodayInlineMonth]: isMonthPickerVisible,\n                      [styles.goToTodayIsDisabled]: !goTodayEnabled,\n                    })}\n                    onClick={this._onGotoTodayClick}\n                    onKeyDown={this._onGotoTodayKeyDown}\n                    tabIndex={0}\n                    disabled={!goTodayEnabled}\n                    type=\"button\"\n                  >\n                    {strings!.goToToday}\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n        <FocusRects />\n      </div>\n    );\n  }\n\n  public focus() {\n    if (this.state.isDayPickerVisible && this._dayPicker.current) {\n      this._dayPicker.current.focus();\n    } else if (this.state.isMonthPickerVisible && this._monthPicker.current) {\n      this._monthPicker.current.focus();\n    }\n  }\n\n  private _navigateDayPickerDay = (date: Date): void => {\n    this.setState({\n      navigatedDayDate: date,\n      navigatedMonthDate: date,\n    });\n  };\n\n  private _navigateMonthPickerDay = (date: Date): void => {\n    this.setState({\n      navigatedMonthDate: date,\n    });\n  };\n\n  private _onNavigateDayDate = (date: Date, focusOnNavigatedDay: boolean): void => {\n    this._navigateDayPickerDay(date);\n    this._focusOnUpdate = focusOnNavigatedDay;\n  };\n\n  private _onNavigateMonthDate = (date: Date, focusOnNavigatedDay: boolean): void => {\n    if (!focusOnNavigatedDay) {\n      this._navigateMonthPickerDay(date);\n      this._focusOnUpdate = focusOnNavigatedDay;\n      return;\n    }\n\n    const monthPickerOnly = !this.props.showMonthPickerAsOverlay && !this.props.isDayPickerVisible;\n\n    if (monthPickerOnly) {\n      this._onSelectDate(date);\n    }\n\n    this._navigateDayPickerDay(date);\n  };\n\n  private _onSelectDate = (date: Date, selectedDateRangeArray?: Date[]): void => {\n    const { onSelectDate } = this.props;\n\n    this.setState({\n      selectedDate: date,\n    });\n\n    if (onSelectDate) {\n      onSelectDate(date, selectedDateRangeArray);\n    }\n  };\n\n  private _onHeaderSelect = (focus: boolean): void => {\n    this.setState({\n      isDayPickerVisible: !this.state.isDayPickerVisible,\n      isMonthPickerVisible: !this.state.isMonthPickerVisible,\n    });\n\n    if (focus) {\n      this._focusOnUpdate = true;\n    }\n  };\n\n  private _onGotoToday = (): void => {\n    const { dateRangeType, firstDayOfWeek, today, workWeekDays, selectDateOnClick } = this.props;\n\n    if (selectDateOnClick) {\n      // When using Defaultprops, TypeScript doesn't know that React is going to inject defaults\n      // so we use exclamation mark as a hint to the type checker (see link below)\n      // https://decembersoft.com/posts/error-ts2532-optional-react-component-props-in-typescript/\n      const dates = getDateRangeArray(today!, dateRangeType!, firstDayOfWeek!, workWeekDays!);\n      this._onSelectDate(today!, dates);\n    }\n\n    this._navigateDayPickerDay(today!);\n    this._focusOnUpdate = true;\n  };\n\n  private _onGotoTodayClick = (ev: React.MouseEvent<HTMLElement>): void => {\n    this._onGotoToday();\n  };\n\n  private _onGotoTodayKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (ev.which === KeyCodes.enter) {\n      ev.preventDefault();\n      this._onGotoToday();\n    }\n  };\n\n  private _onDatePickerPopupKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    switch (ev.which) {\n      case KeyCodes.enter:\n        ev.preventDefault();\n        break;\n\n      case KeyCodes.backspace:\n        ev.preventDefault();\n        break;\n\n      case KeyCodes.escape:\n        this._handleEscKey(ev);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  private _handleEscKey = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (this.props.onDismiss) {\n      this.props.onDismiss();\n    }\n  };\n}\n","import * as React from 'react';\nimport {\n  IDatePicker,\n  IDatePickerProps,\n  IDatePickerStrings,\n  IDatePickerStyleProps,\n  IDatePickerStyles,\n} from './DatePicker.types';\nimport {\n  KeyCodes,\n  classNamesFunction,\n  getId,\n  getNativeProps,\n  divProperties,\n  css,\n  initializeComponentRef,\n} from '../../Utilities';\nimport { Calendar, ICalendar, DayOfWeek } from '../../Calendar';\nimport { FirstWeekOfYear } from '../../utilities/dateValues/DateValues';\nimport { Callout } from '../../Callout';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { TextField, ITextField } from '../../TextField';\nimport { compareDates, compareDatePart } from '../../utilities/dateMath/DateMath';\nimport { FocusTrapZone } from '../../FocusTrapZone';\n\nconst getClassNames = classNamesFunction<IDatePickerStyleProps, IDatePickerStyles>();\n\nexport interface IDatePickerState {\n  selectedDate?: Date;\n  formattedDate?: string;\n  isDatePickerShown?: boolean;\n  errorMessage?: string;\n}\n\nconst DEFAULT_STRINGS: IDatePickerStrings = {\n  months: [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December',\n  ],\n  shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n  shortDays: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  goToToday: 'Go to today',\n  prevMonthAriaLabel: 'Go to previous month',\n  nextMonthAriaLabel: 'Go to next month',\n  prevYearAriaLabel: 'Go to previous year',\n  nextYearAriaLabel: 'Go to next year',\n  prevYearRangeAriaLabel: 'Previous year range',\n  nextYearRangeAriaLabel: 'Next year range',\n  closeButtonAriaLabel: 'Close date picker',\n  weekNumberFormatString: 'Week number {0}',\n};\n\nexport class DatePickerBase extends React.Component<IDatePickerProps, IDatePickerState> implements IDatePicker {\n  public static defaultProps: IDatePickerProps = {\n    allowTextInput: false,\n    formatDate: (date: Date) => {\n      if (date) {\n        return date.toDateString();\n      }\n\n      return '';\n    },\n    parseDateFromString: (dateStr: string) => {\n      const date = Date.parse(dateStr);\n      if (date) {\n        return new Date(date);\n      }\n\n      return null;\n    },\n    firstDayOfWeek: DayOfWeek.Sunday,\n    initialPickerDate: new Date(),\n    isRequired: false,\n    isMonthPickerVisible: true,\n    showMonthPickerAsOverlay: false,\n    strings: DEFAULT_STRINGS,\n    highlightCurrentMonth: false,\n    highlightSelectedMonth: false,\n    borderless: false,\n    pickerAriaLabel: 'Calendar',\n    showWeekNumbers: false,\n    firstWeekOfYear: FirstWeekOfYear.FirstDay,\n    showGoToToday: true,\n    dateTimeFormatter: undefined,\n    showCloseButton: false,\n    underlined: false,\n    allFocusable: false,\n  };\n\n  private _calendar = React.createRef<ICalendar>();\n  private _datePickerDiv = React.createRef<HTMLDivElement>();\n  private _textField = React.createRef<ITextField>();\n  private _preventFocusOpeningPicker: boolean;\n  private _id: string;\n\n  constructor(props: IDatePickerProps) {\n    super(props);\n\n    initializeComponentRef(this);\n    this.state = this._getDefaultState();\n\n    this._id = props.id || getId('DatePicker');\n\n    this._preventFocusOpeningPicker = false;\n  }\n\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillReceiveProps(nextProps: IDatePickerProps): void {\n    const { formatDate, value } = nextProps;\n\n    if (\n      compareDates(this.props.minDate!, nextProps.minDate!) &&\n      compareDates(this.props.maxDate!, nextProps.maxDate!) &&\n      this.props.isRequired === nextProps.isRequired &&\n      compareDates(this.state.selectedDate!, value!) &&\n      this.props.formatDate === formatDate\n    ) {\n      // if the props we care about haven't changed, don't run validation or updates\n      return;\n    }\n\n    this._setErrorMessage(true, nextProps);\n\n    this._id = nextProps.id || this._id;\n\n    // Issue# 1274: Check if the date value changed from old value, i.e., if indeed a new date is being\n    // passed in or if the formatting function was modified. We only update the selected date if either of these\n    // had a legit change. Note tha the bug will still repro when only the formatDate was passed in props and this\n    // is the result of the onSelectDate callback, but this should be a rare scenario.\n    const oldValue = this.state.selectedDate;\n    if (!compareDates(oldValue!, value!) || this.props.formatDate !== formatDate) {\n      this.setState({\n        selectedDate: value || undefined,\n        formattedDate: formatDate && value ? formatDate(value) : '',\n      });\n    }\n  }\n\n  public componentDidUpdate(prevProps: IDatePickerProps, prevState: IDatePickerState) {\n    if (prevState.isDatePickerShown && !this.state.isDatePickerShown) {\n      // If DatePicker's menu (Calendar) is closed, run onAfterMenuDismiss\n      if (this.props.onAfterMenuDismiss) {\n        this.props.onAfterMenuDismiss();\n      }\n    }\n  }\n\n  public render(): JSX.Element {\n    const {\n      firstDayOfWeek,\n      strings,\n      label,\n      theme,\n      className,\n      styles,\n      initialPickerDate,\n      isRequired,\n      disabled,\n      ariaLabel,\n      pickerAriaLabel,\n      placeholder,\n      allowTextInput,\n      borderless,\n      minDate,\n      maxDate,\n      showCloseButton,\n      calendarProps,\n      calloutProps,\n      textField: textFieldProps,\n      underlined,\n      allFocusable,\n      calendarAs: CalendarType = Calendar,\n      tabIndex,\n    } = this.props;\n    const { isDatePickerShown, formattedDate, selectedDate } = this.state;\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className,\n      disabled,\n      label: !!label,\n      isDatePickerShown,\n    });\n\n    const calloutId = getId('DatePicker-Callout');\n    const nativeProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties, ['value']);\n    const iconProps = textFieldProps && textFieldProps.iconProps;\n\n    return (\n      <div {...nativeProps} className={classNames.root}>\n        <div ref={this._datePickerDiv} aria-haspopup=\"true\" aria-owns={isDatePickerShown ? calloutId : undefined}>\n          <TextField\n            role=\"combobox\"\n            label={label}\n            aria-expanded={isDatePickerShown}\n            ariaLabel={ariaLabel}\n            aria-controls={isDatePickerShown ? calloutId : undefined}\n            required={isRequired}\n            disabled={disabled}\n            errorMessage={this._getErrorMessage()}\n            placeholder={placeholder}\n            borderless={borderless}\n            value={formattedDate}\n            componentRef={this._textField}\n            underlined={underlined}\n            tabIndex={tabIndex}\n            readOnly={!allowTextInput}\n            {...textFieldProps}\n            id={this._id + '-label'}\n            className={css(classNames.textField, textFieldProps && textFieldProps.className)}\n            iconProps={{\n              iconName: 'Calendar',\n              ...iconProps,\n              className: css(classNames.icon, iconProps && iconProps.className),\n              onClick: this._onIconClick,\n            }}\n            onKeyDown={this._onTextFieldKeyDown}\n            onFocus={this._onTextFieldFocus}\n            onBlur={this._onTextFieldBlur}\n            onClick={this._onTextFieldClick}\n            onChange={this._onTextFieldChanged}\n          />\n        </div>\n        {isDatePickerShown && (\n          <Callout\n            id={calloutId}\n            role=\"dialog\"\n            ariaLabel={pickerAriaLabel}\n            isBeakVisible={false}\n            gapSpace={0}\n            doNotLayer={false}\n            target={this._datePickerDiv.current}\n            directionalHint={DirectionalHint.bottomLeftEdge}\n            {...calloutProps}\n            className={css(classNames.callout, calloutProps && calloutProps.className)}\n            onDismiss={this._calendarDismissed}\n            onPositioned={this._onCalloutPositioned}\n          >\n            <FocusTrapZone\n              isClickableOutsideFocusTrap={true}\n              disableFirstFocus={this.props.disableAutoFocus}\n              forceFocusInsideTrap={false}\n            >\n              <CalendarType\n                {...calendarProps}\n                onSelectDate={this._onSelectDate}\n                onDismiss={this._calendarDismissed}\n                isMonthPickerVisible={this.props.isMonthPickerVisible}\n                showMonthPickerAsOverlay={this.props.showMonthPickerAsOverlay}\n                today={this.props.today}\n                value={selectedDate || initialPickerDate}\n                firstDayOfWeek={firstDayOfWeek}\n                strings={strings!}\n                highlightCurrentMonth={this.props.highlightCurrentMonth}\n                highlightSelectedMonth={this.props.highlightSelectedMonth}\n                showWeekNumbers={this.props.showWeekNumbers}\n                firstWeekOfYear={this.props.firstWeekOfYear}\n                showGoToToday={this.props.showGoToToday}\n                dateTimeFormatter={this.props.dateTimeFormatter}\n                minDate={minDate}\n                maxDate={maxDate}\n                componentRef={this._calendar}\n                showCloseButton={showCloseButton}\n                allFocusable={allFocusable}\n              />\n            </FocusTrapZone>\n          </Callout>\n        )}\n      </div>\n    );\n  }\n\n  public focus(): void {\n    if (this._textField.current) {\n      this._textField.current.focus();\n    }\n  }\n\n  public reset(): void {\n    this.setState(this._getDefaultState());\n  }\n\n  private _setErrorMessage(setState: boolean, nextProps?: IDatePickerProps): string | undefined {\n    const { isRequired, strings, value, minDate, maxDate, initialPickerDate } = nextProps || this.props;\n    let errorMessage = !initialPickerDate && isRequired && !value ? strings!.isRequiredErrorMessage || ' ' : undefined;\n\n    if (!errorMessage && value) {\n      errorMessage = this._isDateOutOfBounds(value!, minDate, maxDate)\n        ? strings!.isOutOfBoundsErrorMessage || ' '\n        : undefined;\n    }\n\n    if (setState) {\n      this.setState({\n        errorMessage: errorMessage,\n      });\n    }\n\n    return errorMessage;\n  }\n\n  private _onSelectDate = (date: Date): void => {\n    const { formatDate, onSelectDate } = this.props;\n\n    if (this.props.calendarProps && this.props.calendarProps.onSelectDate) {\n      this.props.calendarProps.onSelectDate(date);\n    }\n\n    this.setState({\n      selectedDate: date,\n      formattedDate: formatDate && date ? formatDate(date) : '',\n    });\n\n    if (onSelectDate) {\n      onSelectDate(date);\n    }\n\n    this._calendarDismissed();\n  };\n\n  private _onCalloutPositioned = (): void => {\n    let shouldFocus = true;\n    // If the user has specified that the callout shouldn't use initial focus, then respect\n    // that and don't attempt to set focus. That will default to true within the callout\n    // so we need to check if it's undefined here.\n    if (this.props.calloutProps && this.props.calloutProps.setInitialFocus !== undefined) {\n      shouldFocus = this.props.calloutProps.setInitialFocus;\n    }\n    if (this._calendar.current && shouldFocus) {\n      this._calendar.current.focus();\n    }\n  };\n\n  private _onTextFieldFocus = (ev: React.FocusEvent<HTMLElement>): void => {\n    if (this.props.disableAutoFocus) {\n      return;\n    }\n\n    if (!this.props.allowTextInput) {\n      if (!this._preventFocusOpeningPicker) {\n        this._showDatePickerPopup();\n      } else {\n        this._preventFocusOpeningPicker = false;\n      }\n    }\n  };\n\n  private _onTextFieldBlur = (ev: React.FocusEvent<HTMLElement>): void => {\n    this._validateTextInput();\n  };\n\n  private _onTextFieldChanged = (\n    ev: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>,\n    newValue: string,\n  ): void => {\n    const { allowTextInput, textField } = this.props;\n\n    if (allowTextInput) {\n      if (this.state.isDatePickerShown) {\n        this._dismissDatePickerPopup();\n      }\n\n      const { isRequired, strings } = this.props;\n\n      this.setState({\n        errorMessage: isRequired && !newValue ? strings!.isRequiredErrorMessage || ' ' : undefined,\n        formattedDate: newValue,\n      });\n    }\n\n    if (textField && textField.onChange) {\n      textField.onChange(ev, newValue);\n    }\n  };\n\n  private _onTextFieldKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    switch (ev.which) {\n      case KeyCodes.enter:\n        ev.preventDefault();\n        ev.stopPropagation();\n        if (!this.state.isDatePickerShown) {\n          this._validateTextInput();\n          this._showDatePickerPopup();\n        } else {\n          // When DatePicker allows input date string directly,\n          // it is expected to hit another enter to close the popup\n          if (this.props.allowTextInput) {\n            this._dismissDatePickerPopup();\n          }\n        }\n        break;\n\n      case KeyCodes.escape:\n        this._handleEscKey(ev);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  private _onTextFieldClick = (ev: React.MouseEvent<HTMLElement>): void => {\n    if (!this.props.disableAutoFocus && !this.state.isDatePickerShown && !this.props.disabled) {\n      this._showDatePickerPopup();\n      return;\n    }\n    if (this.props.allowTextInput) {\n      this._dismissDatePickerPopup();\n    }\n  };\n\n  private _onIconClick = (ev: React.MouseEvent<HTMLElement>): void => {\n    ev.stopPropagation();\n    if (!this.state.isDatePickerShown && !this.props.disabled) {\n      this._showDatePickerPopup();\n    } else if (this.props.allowTextInput) {\n      this._dismissDatePickerPopup();\n    }\n  };\n\n  private _showDatePickerPopup(): void {\n    if (!this.state.isDatePickerShown) {\n      this._preventFocusOpeningPicker = true;\n      this.setState({\n        isDatePickerShown: true,\n      });\n    }\n  }\n\n  private _dismissDatePickerPopup = (): void => {\n    if (this.state.isDatePickerShown) {\n      this.setState(\n        {\n          isDatePickerShown: false,\n        },\n        () => {\n          // setState is async, so we must call validate in a callback\n          this._validateTextInput();\n        },\n      );\n    }\n  };\n\n  /**\n   * Callback for closing the calendar callout\n   */\n  private _calendarDismissed = (): void => {\n    this._preventFocusOpeningPicker = true;\n    this._dismissDatePickerPopup();\n    // don't need to focus the text box, if necessary the focusTrapZone will do it\n  };\n\n  private _handleEscKey = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    if (this.state.isDatePickerShown) {\n      ev.stopPropagation();\n    }\n    this._calendarDismissed();\n  };\n\n  private _validateTextInput = (): void => {\n    const {\n      isRequired,\n      allowTextInput,\n      strings,\n      parseDateFromString,\n      onSelectDate,\n      formatDate,\n      minDate,\n      maxDate,\n    } = this.props;\n    const inputValue = this.state.formattedDate;\n\n    // Do validation only if DatePicker's popup is dismissed\n    if (this.state.isDatePickerShown) {\n      return;\n    }\n\n    if (allowTextInput) {\n      let date = null;\n\n      if (inputValue) {\n        // Don't parse if the selected date has the same formatted string as what we're about to parse.\n        // The formatted string might be ambiguous (ex: \"1/2/3\" or \"New Year Eve\") and the parser might\n        // not be able to come up with the exact same date.\n        if (\n          this.state.selectedDate &&\n          !this.state.errorMessage &&\n          formatDate &&\n          formatDate(this.state.selectedDate) === inputValue\n        ) {\n          return;\n        }\n        date = parseDateFromString!(inputValue);\n\n        // Check if date is null, or date is Invalid Date\n        if (!date || isNaN(date.getTime())) {\n          // Reset invalid input field, if formatting is available\n          if (formatDate) {\n            date = this.state.selectedDate;\n            this.setState({\n              formattedDate: formatDate(date!).toString(),\n            });\n          }\n\n          this.setState({\n            errorMessage: strings!.invalidInputErrorMessage || ' ',\n          });\n        } else {\n          // Check against optional date boundaries\n          if (this._isDateOutOfBounds(date, minDate, maxDate)) {\n            this.setState({\n              errorMessage: strings!.isOutOfBoundsErrorMessage || ' ',\n            });\n          } else {\n            this.setState({\n              selectedDate: date,\n              errorMessage: '',\n            });\n\n            // When formatting is available:\n            // If formatted date is valid, but is different from input, update with formatted date.\n            // This occurs when an invalid date is entered twice.\n            if (formatDate && formatDate(date) !== inputValue) {\n              this.setState({\n                formattedDate: formatDate(date).toString(),\n              });\n            }\n          }\n        }\n      } else {\n        // Only show error for empty inputValue if it is a required field\n        this.setState({\n          errorMessage: isRequired ? strings!.isRequiredErrorMessage || ' ' : '',\n        });\n      }\n\n      // Execute onSelectDate callback\n      if (onSelectDate) {\n        // If no input date string or input date string is invalid\n        // date variable will be null, callback should expect null value for this case\n        onSelectDate(date);\n      }\n    } else if (isRequired && !inputValue) {\n      // Check when DatePicker is a required field but has NO input value\n      this.setState({\n        errorMessage: strings!.isRequiredErrorMessage || ' ',\n      });\n    } else {\n      // Cleanup the error message\n      this.setState({\n        errorMessage: '',\n      });\n    }\n  };\n\n  private _getDefaultState(props: IDatePickerProps = this.props): IDatePickerState {\n    return {\n      selectedDate: props.value || undefined,\n      formattedDate: props.formatDate && props.value ? props.formatDate(props.value) : '',\n      isDatePickerShown: false,\n      errorMessage: this._setErrorMessage(false),\n    };\n  }\n\n  private _isDateOutOfBounds(date: Date, minDate?: Date, maxDate?: Date): boolean {\n    return (!!minDate && compareDatePart(minDate!, date) > 0) || (!!maxDate && compareDatePart(maxDate!, date) < 0);\n  }\n\n  private _getErrorMessage(): string | undefined {\n    if (this.state.isDatePickerShown) {\n      return undefined;\n    }\n    return this.state.errorMessage;\n  }\n}\n","import { IDatePickerStyleProps, IDatePickerStyles } from './DatePicker.types';\nimport { IStyle, normalize, getGlobalClassNames } from '../../Styling';\n\nconst GlobalClassNames = {\n  root: 'ms-DatePicker',\n  callout: 'ms-DatePicker-callout',\n  withLabel: 'ms-DatePicker-event--with-label',\n  withoutLabel: 'ms-DatePicker-event--without-label',\n  disabled: 'msDatePickerDisabled ',\n};\n\nexport const styles = (props: IDatePickerStyleProps): IDatePickerStyles => {\n  const { className, theme, disabled, label, isDatePickerShown } = props;\n  const { palette, semanticColors, effects, fonts } = theme;\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  const DatePickerIcon: IStyle = {\n    color: palette.neutralSecondary,\n    fontSize: fonts.mediumPlus.fontSize,\n    lineHeight: '18px',\n    pointerEvents: 'none',\n    position: 'absolute',\n    right: '4px',\n    padding: '5px',\n  };\n\n  return {\n    root: [classNames.root, theme.fonts.medium, isDatePickerShown && 'is-open', normalize, className],\n    textField: [\n      {\n        position: 'relative',\n        selectors: {\n          '& input[readonly]': {\n            cursor: 'pointer',\n          },\n          input: {\n            selectors: {\n              '::-ms-clear': {\n                display: 'none',\n              },\n            },\n          },\n        },\n      },\n      disabled && {\n        selectors: {\n          '& input[readonly]': {\n            cursor: 'default',\n          },\n        },\n      },\n    ],\n    callout: [classNames.callout, { boxShadow: effects.elevation8 }],\n    icon: [\n      DatePickerIcon,\n      label ? classNames.withLabel : classNames.withoutLabel,\n      { paddingTop: '7px' },\n      !disabled && [\n        classNames.disabled,\n        {\n          pointerEvents: 'initial',\n          cursor: 'pointer',\n        },\n      ],\n      disabled && {\n        color: semanticColors.disabledText,\n        cursor: 'default',\n      },\n    ],\n  };\n};\n","/**\n * Regular expression matching characters to ignore when calculating the initials.\n * The first part matches characters within parenthesis, including the parenthesis.\n * The second part matches special ASCII characters except space, plus some unicode special characters.\n */\nconst UNWANTED_CHARS_REGEX: RegExp = /\\([^)]*\\)|[\\0-\\u001F\\!-/:-@\\[-`\\{-\\u00BF\\u0250-\\u036F\\uD800-\\uFFFF]/g;\n\n/**\n * Regular expression matching phone numbers. Applied after chars matching UNWANTED_CHARS_REGEX have been removed\n * and number has been trimmed for whitespaces\n */\nconst PHONENUMBER_REGEX: RegExp = /^\\d+[\\d\\s]*(:?ext|x|)\\s*\\d+$/i;\n\n/** Regular expression matching one or more spaces. */\nconst MULTIPLE_WHITESPACES_REGEX: RegExp = /\\s+/g;\n\n/**\n * Regular expression matching languages for which we currently don't support initials.\n * Arabic:   Arabic, Arabic Supplement, Arabic Extended-A.\n * Korean:   Hangul Jamo, Hangul Compatibility Jamo, Hangul Jamo Extended-A, Hangul Syllables, Hangul Jamo Extended-B.\n * Japanese: Hiragana, Katakana.\n * CJK:      CJK Unified Ideographs Extension A, CJK Unified Ideographs, CJK Compatibility Ideographs,\n *             CJK Unified Ideographs Extension B\n */\n// tslint:disable-next-line:max-line-length\nconst UNSUPPORTED_TEXT_REGEX: RegExp = /[\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\u1100-\\u11FF\\u3130-\\u318F\\uA960-\\uA97F\\uAC00-\\uD7AF\\uD7B0-\\uD7FF\\u3040-\\u309F\\u30A0-\\u30FF\\u3400-\\u4DBF\\u4E00-\\u9FFF\\uF900-\\uFAFF]|[\\uD840-\\uD869][\\uDC00-\\uDED6]/;\n\nfunction getInitialsLatin(displayName: string, isRtl: boolean): string {\n  let initials = '';\n\n  const splits: string[] = displayName.split(' ');\n\n  if (splits.length === 2) {\n    initials += splits[0].charAt(0).toUpperCase();\n    initials += splits[1].charAt(0).toUpperCase();\n  } else if (splits.length === 3) {\n    initials += splits[0].charAt(0).toUpperCase();\n    initials += splits[2].charAt(0).toUpperCase();\n  } else if (splits.length !== 0) {\n    initials += splits[0].charAt(0).toUpperCase();\n  }\n\n  if (isRtl && initials.length > 1) {\n    return initials.charAt(1) + initials.charAt(0);\n  }\n\n  return initials;\n}\n\nfunction cleanupDisplayName(displayName: string): string {\n  displayName = displayName.replace(UNWANTED_CHARS_REGEX, '');\n  displayName = displayName.replace(MULTIPLE_WHITESPACES_REGEX, ' ');\n  displayName = displayName.trim();\n\n  return displayName;\n}\n\n/**\n * Get (up to 2 characters) initials based on display name of the persona.\n *\n * @public\n */\nexport function getInitials(\n  displayName: string | undefined | null,\n  isRtl: boolean,\n  allowPhoneInitials?: boolean,\n): string {\n  if (!displayName) {\n    return '';\n  }\n\n  displayName = cleanupDisplayName(displayName);\n\n  // For names containing CJK characters, and phone numbers, we don't display initials\n  if (UNSUPPORTED_TEXT_REGEX.test(displayName) || (!allowPhoneInitials && PHONENUMBER_REGEX.test(displayName))) {\n    return '';\n  }\n\n  return getInitialsLatin(displayName, isRtl);\n}\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { IDatePickerProps, IDatePickerStyleProps, IDatePickerStyles } from './DatePicker.types';\nimport { DatePickerBase } from './DatePicker.base';\nimport { styles } from './DatePicker.styles';\n\n/**\n * DatePicker description\n */\nexport const DatePicker: React.FunctionComponent<IDatePickerProps> = styled<\n  IDatePickerProps,\n  IDatePickerStyleProps,\n  IDatePickerStyles\n>(DatePickerBase, styles, undefined, {\n  scope: 'DatePicker',\n});\n","/**\n * {@docCategory Selection}\n */\nexport interface IObjectWithKey {\n  key?: string | number;\n}\n\nexport const SELECTION_CHANGE = 'change';\n\n/**\n * {@docCategory Selection}\n */\nexport enum SelectionMode {\n  none = 0,\n  single = 1,\n  multiple = 2,\n}\n\n/**\n * {@docCategory Selection}\n */\nexport interface ISelection<TItem = IObjectWithKey> {\n  count: number;\n  mode: SelectionMode;\n\n  canSelectItem: (item: TItem, index?: number) => boolean;\n\n  // Obesrvable methods.\n  setChangeEvents(isEnabled: boolean, suppressChange?: boolean): void;\n\n  // Initialization methods.\n\n  setItems(items: TItem[], shouldClear: boolean): void;\n  getItems(): TItem[];\n\n  // Read selection methods.\n\n  getSelection(): TItem[];\n  getSelectedIndices(): number[];\n  getSelectedCount(): number;\n  isRangeSelected(fromIndex: number, count: number): boolean;\n\n  isAllSelected(): boolean;\n  isKeySelected(key: string): boolean;\n  isIndexSelected(index: number): boolean;\n\n  isModal?(): boolean;\n\n  // Write selection methods.\n\n  setAllSelected(isAllSelected: boolean): void;\n  setKeySelected(key: string, isSelected: boolean, shouldAnchor: boolean): void;\n  setIndexSelected(index: number, isSelected: boolean, shouldAnchor: boolean): void;\n\n  setModal?(isModal: boolean): void; // TODO make non-optional on next breaking change\n\n  // Write range selection methods.\n\n  selectToKey(key: string, clearSelection?: boolean): void;\n  selectToIndex(index: number, clearSelection?: boolean): void;\n\n  // Toggle helpers.\n\n  toggleAllSelected(): void;\n  toggleKeySelected(key: string): void;\n  toggleIndexSelected(index: number): void;\n  toggleRangeSelected(fromIndex: number, count: number): void;\n}\n\n/**\n * {@docCategory Selection}\n */\nexport enum SelectionDirection {\n  horizontal = 0,\n  vertical = 1,\n}\n","import { IObjectWithKey, ISelection, SELECTION_CHANGE, SelectionMode } from './Selection.types';\nimport { EventGroup } from '../EventGroup';\n\n/**\n * {@docCategory Selection}\n */\nexport interface ISelectionOptions<TItem = IObjectWithKey> {\n  onSelectionChanged?: () => void;\n  /** Custom logic to generate item keys. Required if `TItem` does not have a `key` property. */\n  getKey?: (item: TItem, index?: number) => string | number;\n  canSelectItem?: (item: TItem, index?: number) => boolean;\n  selectionMode?: SelectionMode;\n  items?: TItem[];\n}\n\n/**\n * Selection options with required `getKey` property.\n * {@docCategory Selection}\n */\nexport type ISelectionOptionsWithRequiredGetKey<TItem> = ISelectionOptions<TItem> &\n  Required<Pick<ISelectionOptions<TItem>, 'getKey'>>;\n\n/**\n * {@docCategory Selection}\n */\nexport class Selection<TItem = IObjectWithKey> implements ISelection<TItem> {\n  /** Number of items selected. Do not modify. */\n  public count: number;\n  public readonly mode: SelectionMode;\n\n  private _getKey: (item: TItem, index?: number) => string | number;\n  private _canSelectItem: (item: TItem, index?: number) => boolean;\n\n  private _changeEventSuppressionCount: number;\n  private _items: TItem[];\n  private _selectedItems: TItem[] | null;\n  private _selectedIndices: number[] | undefined;\n  private _isAllSelected: boolean;\n  private _exemptedIndices: { [index: string]: boolean };\n  private _exemptedCount: number;\n  private _keyToIndexMap: { [key: string]: number };\n  private _anchoredIndex: number;\n  private _onSelectionChanged: (() => void) | undefined;\n  private _hasChanged: boolean;\n  private _unselectableIndices: { [index: string]: boolean };\n  private _unselectableCount: number;\n  private _isModal: boolean;\n\n  /**\n   * Create a new Selection. If `TItem` does not have a `key` property, you must provide an options\n   * object with a `getKey` implementation. Providing options is optional otherwise.\n   * (At most one `options` object is accepted.)\n   */\n  constructor(\n    ...options: TItem extends IObjectWithKey // If the item type has a built-in key...\n      ? [] | [ISelectionOptions<TItem>] // Then the arguments can be empty or have the options without `getKey`\n      : [ISelectionOptionsWithRequiredGetKey<TItem>] // Otherwise, arguments require options with `getKey`.\n  ) {\n    const { onSelectionChanged, getKey, canSelectItem = () => true, items, selectionMode = SelectionMode.multiple } =\n      options[0] || ({} as ISelectionOptions<TItem>);\n\n    this.mode = selectionMode;\n\n    this._getKey = getKey || defaultGetKey;\n\n    this._changeEventSuppressionCount = 0;\n    this._exemptedCount = 0;\n    this._anchoredIndex = 0;\n    this._unselectableCount = 0;\n\n    this._onSelectionChanged = onSelectionChanged;\n    this._canSelectItem = canSelectItem;\n\n    this._isModal = false;\n\n    this.setItems(items || [], true);\n\n    this.count = this.getSelectedCount();\n  }\n\n  public canSelectItem(item: TItem, index?: number): boolean {\n    if (typeof index === 'number' && index < 0) {\n      return false;\n    }\n\n    return this._canSelectItem(item, index);\n  }\n\n  public getKey(item: TItem, index?: number): string {\n    const key = this._getKey(item, index);\n\n    return typeof key === 'number' || key ? `${key}` : '';\n  }\n\n  public setChangeEvents(isEnabled: boolean, suppressChange?: boolean): void {\n    this._changeEventSuppressionCount += isEnabled ? -1 : 1;\n\n    if (this._changeEventSuppressionCount === 0 && this._hasChanged) {\n      this._hasChanged = false;\n\n      if (!suppressChange) {\n        this._change();\n      }\n    }\n  }\n\n  public isModal(): boolean {\n    return this._isModal;\n  }\n\n  public setModal(isModal: boolean): void {\n    if (this._isModal !== isModal) {\n      this.setChangeEvents(false);\n\n      this._isModal = isModal;\n\n      if (!isModal) {\n        this.setAllSelected(false);\n      }\n\n      this._change();\n\n      this.setChangeEvents(true);\n    }\n  }\n\n  /**\n   * Selection needs the items, call this method to set them. If the set\n   * of items is the same, this will re-evaluate selection and index maps.\n   * Otherwise, shouldClear should be set to true, so that selection is\n   * cleared.\n   */\n  public setItems(items: TItem[], shouldClear: boolean = true): void {\n    const newKeyToIndexMap: { [key: string]: number } = {};\n    const newUnselectableIndices: { [key: string]: boolean } = {};\n    let hasSelectionChanged = false;\n\n    this.setChangeEvents(false);\n\n    // Reset the unselectable count.\n    this._unselectableCount = 0;\n\n    // Build lookup table for quick selection evaluation.\n    for (let i = 0; i < items.length; i++) {\n      const item = items[i];\n\n      if (item) {\n        const key = this.getKey(item, i);\n\n        if (key) {\n          newKeyToIndexMap[key] = i;\n        }\n      }\n\n      newUnselectableIndices[i] = item && !this.canSelectItem(item);\n      if (newUnselectableIndices[i]) {\n        this._unselectableCount++;\n      }\n    }\n\n    if (shouldClear || items.length === 0) {\n      this._setAllSelected(false, true);\n    }\n\n    // Check the exemption list for discrepencies.\n    const newExemptedIndicies: { [key: string]: boolean } = {};\n    let newExemptedCount = 0;\n\n    for (const indexProperty in this._exemptedIndices) {\n      if (this._exemptedIndices.hasOwnProperty(indexProperty)) {\n        const index = Number(indexProperty);\n        const item = this._items[index];\n        const exemptKey = item ? this.getKey(item, Number(index)) : undefined;\n        const newIndex = exemptKey ? newKeyToIndexMap[exemptKey] : index;\n\n        if (newIndex === undefined) {\n          // The item has likely been replaced or removed.\n          hasSelectionChanged = true;\n        } else {\n          // We know the new index of the item. update the existing exemption table.\n          newExemptedIndicies[newIndex] = true;\n          newExemptedCount++;\n          hasSelectionChanged = hasSelectionChanged || newIndex !== index;\n        }\n      }\n    }\n\n    if (this._items && this._exemptedCount === 0 && items.length !== this._items.length && this._isAllSelected) {\n      // If everything was selected but the number of items has changed, selection has changed.\n      hasSelectionChanged = true;\n    }\n\n    this._exemptedIndices = newExemptedIndicies;\n    this._exemptedCount = newExemptedCount;\n    this._keyToIndexMap = newKeyToIndexMap;\n    this._unselectableIndices = newUnselectableIndices;\n    this._items = items;\n    this._selectedItems = null;\n\n    if (hasSelectionChanged) {\n      this._updateCount();\n      this._change();\n    }\n\n    this.setChangeEvents(true);\n  }\n\n  public getItems(): TItem[] {\n    return this._items;\n  }\n\n  public getSelection(): TItem[] {\n    if (!this._selectedItems) {\n      this._selectedItems = [];\n\n      const items = this._items;\n\n      if (items) {\n        for (let i = 0; i < items.length; i++) {\n          if (this.isIndexSelected(i)) {\n            this._selectedItems.push(items[i]);\n          }\n        }\n      }\n    }\n\n    return this._selectedItems;\n  }\n\n  public getSelectedCount(): number {\n    return this._isAllSelected\n      ? this._items.length - this._exemptedCount - this._unselectableCount\n      : this._exemptedCount;\n  }\n\n  public getSelectedIndices(): number[] {\n    if (!this._selectedIndices) {\n      this._selectedIndices = [];\n\n      const items = this._items;\n\n      if (items) {\n        for (let i = 0; i < items.length; i++) {\n          if (this.isIndexSelected(i)) {\n            this._selectedIndices.push(i);\n          }\n        }\n      }\n    }\n\n    return this._selectedIndices;\n  }\n\n  public isRangeSelected(fromIndex: number, count: number): boolean {\n    if (count === 0) {\n      return false;\n    }\n\n    const endIndex = fromIndex + count;\n\n    for (let i = fromIndex; i < endIndex; i++) {\n      if (!this.isIndexSelected(i)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  public isAllSelected(): boolean {\n    let selectableCount = this._items.length - this._unselectableCount;\n\n    // In single mode, we can only have a max of 1 item.\n    if (this.mode === SelectionMode.single) {\n      selectableCount = Math.min(selectableCount, 1);\n    }\n\n    return (\n      (this.count > 0 && this._isAllSelected && this._exemptedCount === 0) ||\n      (!this._isAllSelected && this._exemptedCount === selectableCount && selectableCount > 0)\n    );\n  }\n\n  public isKeySelected(key: string): boolean {\n    const index = this._keyToIndexMap[key];\n\n    return this.isIndexSelected(index);\n  }\n\n  public isIndexSelected(index: number): boolean {\n    return !!(\n      (this.count > 0 && this._isAllSelected && !this._exemptedIndices[index] && !this._unselectableIndices[index]) ||\n      (!this._isAllSelected && this._exemptedIndices[index])\n    );\n  }\n\n  public setAllSelected(isAllSelected: boolean): void {\n    if (isAllSelected && this.mode !== SelectionMode.multiple) {\n      return;\n    }\n\n    const selectableCount = this._items ? this._items.length - this._unselectableCount : 0;\n\n    this.setChangeEvents(false);\n\n    if (selectableCount > 0 && (this._exemptedCount > 0 || isAllSelected !== this._isAllSelected)) {\n      this._exemptedIndices = {};\n\n      if (isAllSelected !== this._isAllSelected || this._exemptedCount > 0) {\n        this._exemptedCount = 0;\n        this._isAllSelected = isAllSelected;\n        this._change();\n      }\n\n      this._updateCount();\n    }\n\n    this.setChangeEvents(true);\n  }\n\n  public setKeySelected(key: string, isSelected: boolean, shouldAnchor: boolean): void {\n    const index = this._keyToIndexMap[key];\n\n    if (index >= 0) {\n      this.setIndexSelected(index, isSelected, shouldAnchor);\n    }\n  }\n\n  public setIndexSelected(index: number, isSelected: boolean, shouldAnchor: boolean): void {\n    if (this.mode === SelectionMode.none) {\n      return;\n    }\n\n    // Clamp the index.\n    index = Math.min(Math.max(0, index), this._items.length - 1);\n\n    // No-op on out of bounds selections.\n    if (index < 0 || index >= this._items.length) {\n      return;\n    }\n\n    this.setChangeEvents(false);\n\n    const isExempt = this._exemptedIndices[index];\n    const canSelect = !this._unselectableIndices[index];\n\n    if (canSelect) {\n      if (isSelected && this.mode === SelectionMode.single) {\n        // If this is single-select, the previous selection should be removed.\n        this._setAllSelected(false, true);\n      }\n\n      // Determine if we need to remove the exemption.\n      if (isExempt && ((isSelected && this._isAllSelected) || (!isSelected && !this._isAllSelected))) {\n        delete this._exemptedIndices[index];\n        this._exemptedCount--;\n      }\n\n      // Determine if we need to add the exemption.\n      if (!isExempt && ((isSelected && !this._isAllSelected) || (!isSelected && this._isAllSelected))) {\n        this._exemptedIndices[index] = true;\n        this._exemptedCount++;\n      }\n\n      if (shouldAnchor) {\n        this._anchoredIndex = index;\n      }\n    }\n\n    this._updateCount();\n\n    this.setChangeEvents(true);\n  }\n\n  public selectToKey(key: string, clearSelection?: boolean): void {\n    this.selectToIndex(this._keyToIndexMap[key], clearSelection);\n  }\n\n  public selectToIndex(index: number, clearSelection?: boolean): void {\n    if (this.mode === SelectionMode.none) {\n      return;\n    }\n\n    if (this.mode === SelectionMode.single) {\n      this.setIndexSelected(index, true, true);\n      return;\n    }\n\n    const anchorIndex = this._anchoredIndex || 0;\n    let startIndex = Math.min(index, anchorIndex);\n    const endIndex = Math.max(index, anchorIndex);\n\n    this.setChangeEvents(false);\n\n    if (clearSelection) {\n      this._setAllSelected(false, true);\n    }\n\n    for (; startIndex <= endIndex; startIndex++) {\n      this.setIndexSelected(startIndex, true, false);\n    }\n\n    this.setChangeEvents(true);\n  }\n\n  public toggleAllSelected(): void {\n    this.setAllSelected(!this.isAllSelected());\n  }\n\n  public toggleKeySelected(key: string): void {\n    this.setKeySelected(key, !this.isKeySelected(key), true);\n  }\n\n  public toggleIndexSelected(index: number): void {\n    this.setIndexSelected(index, !this.isIndexSelected(index), true);\n  }\n\n  public toggleRangeSelected(fromIndex: number, count: number): void {\n    if (this.mode === SelectionMode.none) {\n      return;\n    }\n\n    const isRangeSelected = this.isRangeSelected(fromIndex, count);\n    const endIndex = fromIndex + count;\n\n    if (this.mode === SelectionMode.single && count > 1) {\n      return;\n    }\n\n    this.setChangeEvents(false);\n    for (let i = fromIndex; i < endIndex; i++) {\n      this.setIndexSelected(i, !isRangeSelected, false);\n    }\n    this.setChangeEvents(true);\n  }\n\n  private _updateCount(preserveModalState: boolean = false): void {\n    const count = this.getSelectedCount();\n\n    if (count !== this.count) {\n      this.count = count;\n      this._change();\n    }\n\n    if (!this.count && !preserveModalState) {\n      this.setModal(false);\n    }\n  }\n\n  private _setAllSelected(isAllSelected: boolean, preserveModalState: boolean = false): void {\n    if (isAllSelected && this.mode !== SelectionMode.multiple) {\n      return;\n    }\n\n    const selectableCount = this._items ? this._items.length - this._unselectableCount : 0;\n\n    this.setChangeEvents(false);\n\n    if (selectableCount > 0 && (this._exemptedCount > 0 || isAllSelected !== this._isAllSelected)) {\n      this._exemptedIndices = {};\n\n      if (isAllSelected !== this._isAllSelected || this._exemptedCount > 0) {\n        this._exemptedCount = 0;\n        this._isAllSelected = isAllSelected;\n        this._change();\n      }\n\n      this._updateCount(preserveModalState);\n    }\n\n    this.setChangeEvents(true);\n  }\n\n  private _change(): void {\n    if (this._changeEventSuppressionCount === 0) {\n      this._selectedItems = null;\n      this._selectedIndices = undefined;\n\n      EventGroup.raise(this, SELECTION_CHANGE);\n\n      if (this._onSelectionChanged) {\n        this._onSelectionChanged();\n      }\n    } else {\n      this._hasChanged = true;\n    }\n  }\n}\n\nfunction defaultGetKey<TItem = IObjectWithKey>(item: TItem, index?: number): string | number {\n  // 0 may be used as a key\n  const { key = `${index}` } = (item || {}) as IObjectWithKey;\n  return key;\n}\n","import * as React from 'react';\n\nimport { IRefObject, IRenderFunction, KeyCodes, IStyleFunctionOrObject } from '../../../Utilities';\nimport { IPersonaProps } from '../../Persona/Persona.types';\nimport { IStyle, ITheme } from '../../../Styling';\nimport { ISpinnerStyleProps } from '../../Spinner/Spinner.types';\nimport { ISuggestionItemProps } from './SuggestionsItem.types';\n\n/**\n * Suggestions component.\n * {@docCategory Pickers}\n */\nexport interface ISuggestions<T> {\n  /** Execute the action selected. Can be SearchMore or ForceResolve actions. */\n  executeSelectedAction: () => void;\n\n  /** Focus on the ForceResolve action above the suggestions. If not available then focus on SearchMore action. */\n  focusAboveSuggestions: () => void;\n\n  /** Focus on the SearchMore action below the suggestions. If not available then focus on ForceResolve action. */\n  focusBelowSuggestions: () => void;\n\n  /** Focus the SearchMore action button. */\n  focusSearchForMoreButton: () => void;\n\n  /** Whether it has any suggested actions like ForceResolve or SearchMore. */\n  hasSuggestedAction: () => boolean;\n\n  /** Whether any of the suggested actions (ForceResolve or SearchMore) is selected. */\n  hasSuggestedActionSelected: () => boolean;\n\n  /** Returns true if the event was handled, false otherwise. */\n  tryHandleKeyDown: (keyCode: number, currentSuggestionIndex: number) => boolean;\n}\n\n/**\n * Suggestions props interface. Refers to the entire container holding all the suggestions.\n * Type T is the type of the items that are displayed.\n * {@docCategory Pickers}\n */\n// tslint:disable-next-line:deprecation\nexport interface ISuggestionsProps<T> extends React.Props<any> {\n  /**\n   * Optional callback to access the ISuggestions interface. Use this instead of ref for accessing\n   * the public methods and properties of the component.\n   */\n  componentRef?: IRefObject<ISuggestions<T>>;\n\n  /**\n   * How the suggestion should look in the suggestion list.\n   */\n  onRenderSuggestion: (props: T, suggestionItemProps: ISuggestionItemProps<T>) => JSX.Element;\n\n  /**\n   * What should occur when a suggestion is clicked\n   */\n  onSuggestionClick: (ev?: React.MouseEvent<HTMLElement>, item?: any, index?: number) => void;\n\n  /**\n   * The list of Suggestions that will be displayed\n   */\n  suggestions: ISuggestionModel<T>[];\n\n  /**\n   * How the \"no result found\" should look in the suggestion list.\n   */\n  onRenderNoResultFound?: IRenderFunction<void>;\n\n  /**\n   * The text that appears at the top of the suggestions list.\n   */\n  suggestionsHeaderText?: string;\n\n  /**\n   * The text that should appear at the top of the most recently used box.\n   */\n  mostRecentlyUsedHeaderText?: string;\n\n  /**\n   * The text that appears indicating to the user that they can search for more results.\n   */\n  searchForMoreText?: string;\n\n  /**\n   * The callback that should be called when the user attempts to get more results\n   */\n  onGetMoreResults?: () => void;\n\n  /**\n   * The text that appears indicating to the use to force resolve the input\n   */\n  forceResolveText?: string;\n\n  /**\n   * The callback that should be called to see if the force resolve command should be shown\n   */\n  showForceResolve?: () => boolean;\n\n  /**\n   * The callback that should be called when the user attempts to use the input text as as item\n   */\n  createGenericItem?: () => void;\n\n  /**\n   * The CSS className of the suggestions root.\n   */\n  className?: string;\n\n  /**\n   * The CSS className of the suggestions list\n   */\n  suggestionsClassName?: string;\n\n  /**\n   * The text that should appear if there is a search error.\n   *\n   * @deprecated Use noResultsFoundText instead.\n   */\n  searchErrorText?: string;\n\n  /**\n   * The text that should appear if no results are found when searching.\n   */\n  noResultsFoundText?: string;\n\n  /**\n   * The className of the suggestion item.\n   */\n  suggestionsItemClassName?: string;\n\n  /**\n   * Used to indicate whether or not the user can request more suggestions.\n   * Dictates whether or not the searchForMore button is displayed.\n   */\n  moreSuggestionsAvailable?: boolean;\n\n  /**\n   * Used to indicate whether or not the suggestions are loading.\n   */\n  isLoading?: boolean;\n\n  /**\n   * Used to indicate whether or not the component is searching for more results.\n   */\n  isSearching?: boolean;\n\n  /**\n   * The text to display while the results are loading.\n   */\n  loadingText?: string;\n\n  /**\n   * The text to display while searching for more results in a limited suggestions list.\n   */\n  searchingText?: string;\n\n  /**\n   * Indicates if a short list of recent suggestions should be shown.\n   */\n  isMostRecentlyUsedVisible?: boolean;\n\n  /**\n   * Function to fire when one of the optional remove buttons on a suggestion is clicked.\n   *\n   * TODO (adjective-object) remove IPersonaprops before the next major version bump\n   */\n  onSuggestionRemove?: (ev?: React.MouseEvent<HTMLElement>, item?: T | IPersonaProps, index?: number) => void;\n\n  /**\n   * Indicates if the text in resultsFooter or resultsFooterFull should be shown at the end of the suggestion list.\n   * @defaultvalue true\n   */\n  isResultsFooterVisible?: boolean;\n\n  /**\n   * Maximum number of suggestions to show in the full suggestion list.\n   */\n  resultsMaximumNumber?: number;\n\n  /**\n   * A renderer that adds an element at the end of the suggestions list it has more items than resultsMaximumNumber.\n   */\n  resultsFooterFull?: (props: ISuggestionsProps<T>) => JSX.Element;\n\n  /**\n   * A renderer that adds an element at the end of the suggestions list it has fewer items than resultsMaximumNumber.\n   */\n  resultsFooter?: (props: ISuggestionsProps<T>) => JSX.Element;\n\n  /**\n   * Indicates whether to show a button with each suggestion to remove that suggestion.\n   */\n  showRemoveButtons?: boolean;\n\n  /**\n   * Screen reader message to read when there are suggestions available.\n   */\n  suggestionsAvailableAlertText?: string;\n\n  /**\n   * A function that resets focus to the expected item in the suggestion list\n   */\n  refocusSuggestions?: (keyCode: KeyCodes) => void;\n\n  /**\n   * An ARIA label for the container that is the parent of the suggestions.\n   */\n  suggestionsContainerAriaLabel?: string;\n\n  /**\n   * An ARIA label to use for the buttons to remove individual suggestions.\n   */\n  removeSuggestionAriaLabel?: string;\n\n  /**\n   * The string that will be used as the suggestionsListId.\n   * Will be used by the BasePicker to keep track of the list for aria.\n   */\n  suggestionsListId?: string;\n\n  /** Call to provide customized styling that will layer on top of the variant rules. */\n  styles?: IStyleFunctionOrObject<any, any>;\n\n  /** Theme provided by High-Order Component. */\n  theme?: ITheme;\n}\n\n/**\n * The props needed to construct Suggestions styles.\n * {@docCategory Pickers}\n */\nexport type ISuggestionsStyleProps = Required<Pick<ISuggestionsProps<any>, 'theme'>> &\n  Pick<ISuggestionsProps<any>, 'className' | 'suggestionsClassName'> & {\n    /** Whether the forceResolve actionButton is selected. */\n    forceResolveButtonSelected?: boolean;\n\n    /** Whether the searchForMore actionButton is selected. */\n    searchForMoreButtonSelected?: boolean;\n  };\n\n/**\n * Represents the stylable areas of the Suggestions.\n * {@docCategory Pickers}\n */\nexport interface ISuggestionsStyles {\n  /** Root element of the suggestions outer wrapper. */\n  root: IStyle;\n\n  /** Refers to the suggestions container. */\n  suggestionsContainer: IStyle;\n\n  /** Refers to the title rendered for suggestions container header and/or footer (if provided). */\n  title: IStyle;\n\n  /** Refers to the 'Force resolve' actionButton. */\n  forceResolveButton: IStyle;\n\n  /** Refers to the 'Search for more' actionButton. */\n  searchForMoreButton: IStyle;\n\n  /** Refers to the text rendered when no suggestions are found. */\n  noSuggestions: IStyle;\n\n  /** Refers to the text displaying if more suggestions available. */\n  suggestionsAvailable: IStyle;\n\n  /** SubComponents (Spinner) styles. */\n  subComponentStyles: ISuggestionsSubComponentStyles;\n}\n\n/**\n * Styles interface of the SubComponents rendered within PeoplePickerItemSelected.\n * {@docCategory Pickers}\n */\nexport interface ISuggestionsSubComponentStyles {\n  /** Refers to the Spinner rendered within the Suggestions when searching or loading suggestions. */\n  spinner: IStyleFunctionOrObject<ISpinnerStyleProps, any>;\n}\n\n/**\n * SuggestionModel interface.\n * Type T is the type of the item that is suggested (Persona, Tag or any other custom picker).\n * {@docCategory Pickers}\n */\nexport interface ISuggestionModel<T> {\n  /** The suggested item of the type T */\n  item: T;\n\n  /** Whether the suggested item is selected or not. */\n  selected: boolean;\n\n  /** Aria-label string for each suggested item. */\n  ariaLabel?: string;\n}\n\n/**\n * Enum to help identify which suggestions action button is selected.\n * {@docCategory Pickers}\n */\nexport enum SuggestionActionType {\n  /** None of the actions is selected. */\n  none,\n\n  /** ForceResolve action is selected. */\n  forceResolve,\n\n  /** SearchMore action is selected. */\n  searchMore,\n}\n","import * as React from 'react';\nimport {\n  Async,\n  EventGroup,\n  KeyCodes,\n  elementContains,\n  findScrollableParent,\n  getParent,\n  getDocument,\n  getWindow,\n  isElementTabbable,\n  css,\n  initializeComponentRef,\n  FocusRects,\n} from '../../Utilities';\nimport { ISelection, SelectionMode, IObjectWithKey } from './interfaces';\n\n// Selection definitions:\n//\n// Anchor index: the point from which a range selection starts.\n// Focus index: the point from which layout movement originates from.\n//\n// These two can differ. Tests:\n//\n// If you start at index 5\n// Shift click to index 10\n//    The focus is 10, the anchor is 5.\n// If you shift click at index 0\n//    The anchor remains at 5, the items between 0 and 5 are selected and everything else is cleared.\n// If you click index 8\n//    The anchor and focus are set to 8.\n\nconst SELECTION_DISABLED_ATTRIBUTE_NAME = 'data-selection-disabled';\nconst SELECTION_INDEX_ATTRIBUTE_NAME = 'data-selection-index';\nconst SELECTION_TOGGLE_ATTRIBUTE_NAME = 'data-selection-toggle';\nconst SELECTION_INVOKE_ATTRIBUTE_NAME = 'data-selection-invoke';\nconst SELECTION_INVOKE_TOUCH_ATTRIBUTE_NAME = 'data-selection-touch-invoke';\nconst SELECTALL_TOGGLE_ALL_ATTRIBUTE_NAME = 'data-selection-all-toggle';\nconst SELECTION_SELECT_ATTRIBUTE_NAME = 'data-selection-select';\n\n/**\n * {@docCategory Selection}\n */\nexport interface ISelectionZone {\n  /**\n   * Method to ignore subsequent focus.\n   */\n  ignoreNextFocus: () => void;\n}\n\n/**\n * {@docCategory Selection}\n */\nexport interface ISelectionZoneProps extends React.ClassAttributes<SelectionZone> {\n  /**\n   * Reference to the component interface.\n   */\n  componentRef?: () => void;\n  /**\n   * Required {@link ISelection} instance bound to the {@link SelectionZone}.\n   */\n  selection: ISelection;\n  /**\n   * @deprecated No longer in use, focus is now managed by {@link FocusZone}.\n   */\n  layout?: {};\n  /**\n   * The mode of Selection, where the value is one of\n   * 'none', 'single', or 'multiple'.\n   *\n   * @defaultvalue {@link SelectionMode.multiple}\n   */\n  selectionMode?: SelectionMode;\n  /**\n   * If true, selection is preserved on outer click.\n   */\n  selectionPreservedOnEmptyClick?: boolean;\n  /**\n   * If true, disables automatic selection on input elements.\n   */\n  disableAutoSelectOnInputElements?: boolean;\n  /**\n   * If true, modal selection is enabled on touch event.\n   */\n  enterModalOnTouch?: boolean;\n  /**\n   * Determines whether elements with the attribute `data-selection-touch-invoke` should be used as invocation targets\n   * for an item if the user is using touch.\n   *\n   * @defaultvalue false\n   */\n  enableTouchInvocationTarget?: boolean;\n  /**\n   * Determines if an item is selected on focus.\n   *\n   * @defaultvalue true\n   */\n  isSelectedOnFocus?: boolean;\n  /**\n   * Optional callback for when an item is\n   * invoked via ENTER or double-click.\n   */\n  onItemInvoked?: (item?: IObjectWithKey, index?: number, ev?: Event) => void;\n  /**\n   * Optional callback for when an\n   * item's contextual menu action occurs.\n   */\n  onItemContextMenu?: (item?: any, index?: number, ev?: Event) => void | boolean;\n}\n\n/**\n * {@docCategory Selection}\n */\nexport interface ISelectionZoneState {\n  isModal: boolean | undefined;\n}\n\n/**\n * {@docCategory Selection}\n */\nexport class SelectionZone extends React.Component<ISelectionZoneProps, ISelectionZoneState> {\n  public static defaultProps = {\n    isSelectedOnFocus: true,\n    selectionMode: SelectionMode.multiple,\n  };\n\n  private _async: Async;\n  private _events: EventGroup;\n  private _root = React.createRef<HTMLDivElement>();\n  private _isCtrlPressed: boolean;\n  private _isShiftPressed: boolean;\n  private _isMetaPressed: boolean;\n  private _isTabPressed: boolean;\n  private _shouldHandleFocus: boolean;\n  private _shouldHandleFocusTimeoutId: number | undefined;\n  private _isTouch: boolean;\n  private _isTouchTimeoutId: number | undefined;\n\n  public static getDerivedStateFromProps(\n    nextProps: ISelectionZoneProps,\n    prevState: ISelectionZoneState,\n  ): ISelectionZoneState {\n    const isModal = nextProps.selection.isModal && nextProps.selection.isModal();\n\n    return {\n      ...prevState,\n      isModal,\n    };\n  }\n\n  constructor(props: ISelectionZoneProps) {\n    super(props);\n\n    this._events = new EventGroup(this);\n    this._async = new Async(this);\n    initializeComponentRef(this);\n\n    const { selection } = this.props;\n\n    // Reflect the initial modal state of selection into the state.\n    const isModal = selection.isModal && selection.isModal();\n\n    this.state = {\n      isModal,\n    };\n  }\n\n  public componentDidMount(): void {\n    const win = getWindow(this._root.current);\n\n    // Track the latest modifier keys globally.\n    this._events.on(win, 'keydown, keyup', this._updateModifiers, true);\n    this._events.on(document, 'click', this._findScrollParentAndTryClearOnEmptyClick);\n    this._events.on(document.body, 'touchstart', this._onTouchStartCapture, true);\n    this._events.on(document.body, 'touchend', this._onTouchStartCapture, true);\n\n    // Subscribe to the selection to keep modal state updated.\n    this._events.on(this.props.selection, 'change', this._onSelectionChange);\n  }\n\n  public render(): JSX.Element {\n    const { isModal } = this.state;\n\n    return (\n      <div\n        className={css('ms-SelectionZone', {\n          'ms-SelectionZone--modal': !!isModal,\n        })}\n        ref={this._root}\n        onKeyDown={this._onKeyDown}\n        onMouseDown={this._onMouseDown}\n        onKeyDownCapture={this._onKeyDownCapture}\n        onClick={this._onClick}\n        role=\"presentation\"\n        onDoubleClick={this._onDoubleClick}\n        onContextMenu={this._onContextMenu}\n        onMouseDownCapture={this._onMouseDownCapture}\n        onFocusCapture={this._onFocus}\n        data-selection-is-modal={isModal ? true : undefined}\n      >\n        {this.props.children}\n        <FocusRects />\n      </div>\n    );\n  }\n\n  public componentDidUpdate(previousProps: ISelectionZoneProps): void {\n    const { selection } = this.props;\n\n    if (selection !== previousProps.selection) {\n      // Whenever selection changes, update the subscripton to keep modal state updated.\n      this._events.off(previousProps.selection);\n      this._events.on(selection, 'change', this._onSelectionChange);\n    }\n  }\n\n  public componentWillUnmount(): void {\n    this._events.dispose();\n    this._async.dispose();\n  }\n\n  /**\n   * In some cases, the consuming scenario requires to set focus on a row without having SelectionZone\n   * react to the event. Note that focus events in IE \\<= 11 will occur asynchronously after .focus() has\n   * been called on an element, so we need a flag to store the idea that we will bypass the \"next\"\n   * focus event that occurs. This method does that.\n   */\n  public ignoreNextFocus = (): void => {\n    this._handleNextFocus(false);\n  };\n\n  private _onSelectionChange = (): void => {\n    const { selection } = this.props;\n\n    const isModal = selection.isModal && selection.isModal();\n\n    this.setState({\n      isModal,\n    });\n  };\n\n  private _onMouseDownCapture = (ev: React.MouseEvent<HTMLElement>): void => {\n    let target = ev.target as HTMLElement;\n\n    if (document.activeElement !== target && !elementContains(document.activeElement as HTMLElement, target)) {\n      this.ignoreNextFocus();\n      return;\n    }\n\n    if (!elementContains(target, this._root.current)) {\n      return;\n    }\n\n    while (target !== this._root.current) {\n      if (this._hasAttribute(target, SELECTION_INVOKE_ATTRIBUTE_NAME)) {\n        this.ignoreNextFocus();\n        break;\n      }\n\n      target = getParent(target) as HTMLElement;\n    }\n  };\n\n  /**\n   * When we focus an item, for single/multi select scenarios, we should try to select it immediately\n   * as long as the focus did not originate from a mouse down/touch event. For those cases, we handle them\n   * specially.\n   */\n  private _onFocus = (ev: React.FocusEvent<HTMLElement>): void => {\n    const target = ev.target as HTMLElement;\n    const { selection } = this.props;\n    const isToggleModifierPressed = this._isCtrlPressed || this._isMetaPressed;\n\n    const selectionMode = this._getSelectionMode();\n\n    if (this._shouldHandleFocus && selectionMode !== SelectionMode.none) {\n      const isToggle = this._hasAttribute(target, SELECTION_TOGGLE_ATTRIBUTE_NAME);\n      const itemRoot = this._findItemRoot(target);\n\n      if (!isToggle && itemRoot) {\n        const index = this._getItemIndex(itemRoot);\n\n        if (isToggleModifierPressed) {\n          // set anchor only.\n          selection.setIndexSelected(index, selection.isIndexSelected(index), true);\n          if (this.props.enterModalOnTouch && this._isTouch && selection.setModal) {\n            selection.setModal(true);\n            this._setIsTouch(false);\n          }\n        } else {\n          if (this.props.isSelectedOnFocus) {\n            this._onItemSurfaceClick(ev, index);\n          }\n        }\n      }\n    }\n\n    this._handleNextFocus(false);\n  };\n\n  private _onMouseDown = (ev: React.MouseEvent<HTMLElement>): void => {\n    this._updateModifiers(ev);\n\n    let target = ev.target as HTMLElement;\n    const itemRoot = this._findItemRoot(target);\n\n    // No-op if selection is disabled\n    if (this._isSelectionDisabled(target)) {\n      return;\n    }\n\n    while (target !== this._root.current) {\n      if (this._hasAttribute(target, SELECTALL_TOGGLE_ALL_ATTRIBUTE_NAME)) {\n        break;\n      } else if (itemRoot) {\n        if (this._hasAttribute(target, SELECTION_TOGGLE_ATTRIBUTE_NAME)) {\n          break;\n        } else if (this._hasAttribute(target, SELECTION_INVOKE_ATTRIBUTE_NAME)) {\n          break;\n        } else if (\n          (target === itemRoot || this._shouldAutoSelect(target)) &&\n          !this._isShiftPressed &&\n          !this._isCtrlPressed &&\n          !this._isMetaPressed\n        ) {\n          this._onInvokeMouseDown(ev, this._getItemIndex(itemRoot));\n          break;\n        } else if (\n          this.props.disableAutoSelectOnInputElements &&\n          (target.tagName === 'A' || target.tagName === 'BUTTON' || target.tagName === 'INPUT')\n        ) {\n          return;\n        }\n      }\n\n      target = getParent(target) as HTMLElement;\n    }\n  };\n\n  private _onTouchStartCapture = (ev: React.TouchEvent<HTMLElement>): void => {\n    this._setIsTouch(true);\n  };\n\n  private _onClick = (ev: React.MouseEvent<HTMLElement>): void => {\n    const { enableTouchInvocationTarget = false } = this.props;\n\n    this._updateModifiers(ev);\n\n    let target = ev.target as HTMLElement;\n    const itemRoot = this._findItemRoot(target);\n\n    const isSelectionDisabled = this._isSelectionDisabled(target);\n\n    while (target !== this._root.current) {\n      if (this._hasAttribute(target, SELECTALL_TOGGLE_ALL_ATTRIBUTE_NAME)) {\n        if (!isSelectionDisabled) {\n          this._onToggleAllClick(ev);\n        }\n        break;\n      } else if (itemRoot) {\n        const index = this._getItemIndex(itemRoot);\n\n        if (this._hasAttribute(target, SELECTION_TOGGLE_ATTRIBUTE_NAME)) {\n          if (!isSelectionDisabled) {\n            if (this._isShiftPressed) {\n              this._onItemSurfaceClick(ev, index);\n            } else {\n              this._onToggleClick(ev, index);\n            }\n          }\n          break;\n        } else if (\n          (this._isTouch &&\n            enableTouchInvocationTarget &&\n            this._hasAttribute(target, SELECTION_INVOKE_TOUCH_ATTRIBUTE_NAME)) ||\n          this._hasAttribute(target, SELECTION_INVOKE_ATTRIBUTE_NAME)\n        ) {\n          // Items should be invokable even if selection is disabled.\n          this._onInvokeClick(ev, index);\n          break;\n        } else if (target === itemRoot) {\n          if (!isSelectionDisabled) {\n            this._onItemSurfaceClick(ev, index);\n          }\n          break;\n        } else if (target.tagName === 'A' || target.tagName === 'BUTTON' || target.tagName === 'INPUT') {\n          return;\n        }\n      }\n\n      target = getParent(target) as HTMLElement;\n    }\n  };\n\n  private _onContextMenu = (ev: React.MouseEvent<HTMLElement>): void => {\n    const target = ev.target as HTMLElement;\n\n    const { onItemContextMenu, selection } = this.props;\n    if (onItemContextMenu) {\n      const itemRoot = this._findItemRoot(target);\n\n      if (itemRoot) {\n        const index = this._getItemIndex(itemRoot);\n\n        this._onInvokeMouseDown(ev, index);\n\n        const skipPreventDefault = onItemContextMenu(selection.getItems()[index], index, ev.nativeEvent);\n\n        // In order to keep back compat, if the value here is undefined, then we should still\n        // call preventDefault(). Only in the case where true is explicitly returned should\n        // the call be skipped.\n        if (!skipPreventDefault) {\n          ev.preventDefault();\n        }\n      }\n    }\n  };\n\n  private _isSelectionDisabled(target: HTMLElement): boolean {\n    if (this._getSelectionMode() === SelectionMode.none) {\n      return true;\n    }\n\n    while (target !== this._root.current) {\n      if (this._hasAttribute(target, SELECTION_DISABLED_ATTRIBUTE_NAME)) {\n        return true;\n      }\n      target = getParent(target) as HTMLElement;\n    }\n\n    return false;\n  }\n\n  /**\n   * In multi selection, if you double click within an item's root (but not within the invoke element or\n   * input elements), we should execute the invoke handler.\n   */\n  private _onDoubleClick = (ev: React.MouseEvent<HTMLElement>): void => {\n    let target = ev.target as HTMLElement;\n\n    const { onItemInvoked } = this.props;\n    const itemRoot = this._findItemRoot(target);\n\n    if (itemRoot && onItemInvoked && !this._isInputElement(target)) {\n      const index = this._getItemIndex(itemRoot);\n\n      while (target !== this._root.current) {\n        if (\n          this._hasAttribute(target, SELECTION_TOGGLE_ATTRIBUTE_NAME) ||\n          this._hasAttribute(target, SELECTION_INVOKE_ATTRIBUTE_NAME)\n        ) {\n          break;\n        } else if (target === itemRoot) {\n          this._onInvokeClick(ev, index);\n          break;\n        }\n\n        target = getParent(target) as HTMLElement;\n      }\n\n      target = getParent(target) as HTMLElement;\n    }\n  };\n\n  private _onKeyDownCapture = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    this._updateModifiers(ev);\n\n    this._handleNextFocus(true);\n  };\n\n  private _onKeyDown = (ev: React.KeyboardEvent<HTMLElement>): boolean | undefined => {\n    this._updateModifiers(ev);\n\n    let target = ev.target as HTMLElement;\n\n    const isSelectionDisabled = this._isSelectionDisabled(target);\n\n    const { selection } = this.props;\n    const isSelectAllKey = ev.which === KeyCodes.a && (this._isCtrlPressed || this._isMetaPressed);\n    const isClearSelectionKey = ev.which === KeyCodes.escape;\n\n    // Ignore key downs from input elements.\n    if (this._isInputElement(target)) {\n      // A key was pressed while an item in this zone was focused.\n      return;\n    }\n\n    const selectionMode = this._getSelectionMode();\n\n    // If ctrl-a is pressed, select all (if all are not already selected.)\n    if (isSelectAllKey && selectionMode === SelectionMode.multiple && !selection.isAllSelected()) {\n      if (!isSelectionDisabled) {\n        selection.setAllSelected(true);\n      }\n      ev.stopPropagation();\n      ev.preventDefault();\n      return;\n    }\n\n    // If escape is pressed, clear selection (if any are selected.)\n    if (isClearSelectionKey && selection.getSelectedCount() > 0) {\n      if (!isSelectionDisabled) {\n        selection.setAllSelected(false);\n      }\n      ev.stopPropagation();\n      ev.preventDefault();\n      return;\n    }\n\n    const itemRoot = this._findItemRoot(target);\n\n    // If a key was pressed within an item, we should treat \"enters\" as invokes and \"space\" as toggle\n    if (itemRoot) {\n      const index = this._getItemIndex(itemRoot);\n\n      while (target !== this._root.current) {\n        if (this._hasAttribute(target, SELECTION_TOGGLE_ATTRIBUTE_NAME)) {\n          // For toggle elements, assuming they are rendered as buttons, they will generate a click event,\n          // so we can no-op for any keydowns in this case.\n          break;\n        } else if (this._shouldAutoSelect(target)) {\n          if (!isSelectionDisabled) {\n            // If the event went to an element which should trigger auto-select, select it and then let\n            // the default behavior kick in.\n            this._onInvokeMouseDown(ev, index);\n          }\n          break;\n        } else if (\n          (ev.which === KeyCodes.enter || ev.which === KeyCodes.space) &&\n          (target.tagName === 'BUTTON' || target.tagName === 'A' || target.tagName === 'INPUT')\n        ) {\n          return false;\n        } else if (target === itemRoot) {\n          if (ev.which === KeyCodes.enter) {\n            // Items should be invokable even if selection is disabled.\n            this._onInvokeClick(ev, index);\n            ev.preventDefault();\n            return;\n          } else if (ev.which === KeyCodes.space) {\n            if (!isSelectionDisabled) {\n              this._onToggleClick(ev, index);\n            }\n            ev.preventDefault();\n            return;\n          }\n          break;\n        }\n\n        target = getParent(target) as HTMLElement;\n      }\n    }\n  };\n\n  private _onToggleAllClick(ev: React.MouseEvent<HTMLElement>): void {\n    const { selection } = this.props;\n\n    const selectionMode = this._getSelectionMode();\n\n    if (selectionMode === SelectionMode.multiple) {\n      selection.toggleAllSelected();\n      ev.stopPropagation();\n      ev.preventDefault();\n    }\n  }\n\n  private _onToggleClick(ev: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>, index: number): void {\n    const { selection } = this.props;\n\n    const selectionMode = this._getSelectionMode();\n\n    selection.setChangeEvents(false);\n\n    if (this.props.enterModalOnTouch && this._isTouch && !selection.isIndexSelected(index) && selection.setModal) {\n      selection.setModal(true);\n      this._setIsTouch(false);\n    }\n\n    if (selectionMode === SelectionMode.multiple) {\n      selection.toggleIndexSelected(index);\n    } else if (selectionMode === SelectionMode.single) {\n      const isSelected = selection.isIndexSelected(index);\n      const isModal = selection.isModal && selection.isModal();\n      selection.setAllSelected(false);\n      selection.setIndexSelected(index, !isSelected, true);\n      if (isModal && selection.setModal) {\n        // Since the above call to setAllSelected(false) clears modal state,\n        // restore it. This occurs because the SelectionMode of the Selection\n        // may differ from the SelectionZone.\n        selection.setModal(true);\n      }\n    } else {\n      selection.setChangeEvents(true);\n      return;\n    }\n\n    selection.setChangeEvents(true);\n\n    ev.stopPropagation();\n\n    // NOTE: ev.preventDefault is not called for toggle clicks, because this will kill the browser behavior\n    // for checkboxes if you use a checkbox for the toggle.\n  }\n\n  private _onInvokeClick(ev: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>, index: number): void {\n    const { selection, onItemInvoked } = this.props;\n\n    if (onItemInvoked) {\n      onItemInvoked(selection.getItems()[index], index, ev.nativeEvent);\n      ev.preventDefault();\n      ev.stopPropagation();\n    }\n  }\n\n  private _onItemSurfaceClick(ev: React.SyntheticEvent<HTMLElement>, index: number): void {\n    const { selection } = this.props;\n    const isToggleModifierPressed = this._isCtrlPressed || this._isMetaPressed;\n\n    const selectionMode = this._getSelectionMode();\n\n    if (selectionMode === SelectionMode.multiple) {\n      if (this._isShiftPressed && !this._isTabPressed) {\n        selection.selectToIndex(index, !isToggleModifierPressed);\n      } else if (isToggleModifierPressed) {\n        selection.toggleIndexSelected(index);\n      } else {\n        this._clearAndSelectIndex(index);\n      }\n    } else if (selectionMode === SelectionMode.single) {\n      this._clearAndSelectIndex(index);\n    }\n  }\n\n  private _onInvokeMouseDown(\n    ev: React.MouseEvent<HTMLElement> | React.KeyboardEvent<HTMLElement>,\n    index: number,\n  ): void {\n    const { selection } = this.props;\n\n    // Only do work if item is not selected.\n    if (selection.isIndexSelected(index)) {\n      return;\n    }\n\n    this._clearAndSelectIndex(index);\n  }\n\n  /**\n   * To avoid high startup cost of traversing the DOM on component mount,\n   * defer finding the scrollable parent until a click interaction.\n   *\n   * The styles will probably already calculated since we're running in a click handler,\n   * so this is less likely to cause layout thrashing then doing it in mount.\n   */\n  private _findScrollParentAndTryClearOnEmptyClick(ev: MouseEvent) {\n    const scrollParent = findScrollableParent(this._root.current);\n    // unbind this handler and replace binding with a binding on the actual scrollable parent\n    this._events.off(document, 'click', this._findScrollParentAndTryClearOnEmptyClick);\n    this._events.on(scrollParent, 'click', this._tryClearOnEmptyClick);\n\n    // If we clicked inside the scrollable parent, call through to the handler on this click.\n    if ((scrollParent && ev.target instanceof Node && scrollParent.contains(ev.target)) || scrollParent === ev.target) {\n      this._tryClearOnEmptyClick(ev);\n    }\n  }\n\n  private _tryClearOnEmptyClick(ev: MouseEvent): void {\n    if (!this.props.selectionPreservedOnEmptyClick && this._isNonHandledClick(ev.target as HTMLElement)) {\n      this.props.selection.setAllSelected(false);\n    }\n  }\n\n  private _clearAndSelectIndex(index: number): void {\n    const { selection } = this.props;\n    const isAlreadySingleSelected = selection.getSelectedCount() === 1 && selection.isIndexSelected(index);\n\n    if (!isAlreadySingleSelected) {\n      const isModal = selection.isModal && selection.isModal();\n      selection.setChangeEvents(false);\n      selection.setAllSelected(false);\n      selection.setIndexSelected(index, true, true);\n      if (isModal || (this.props.enterModalOnTouch && this._isTouch)) {\n        if (selection.setModal) {\n          selection.setModal(true);\n        }\n        if (this._isTouch) {\n          this._setIsTouch(false);\n        }\n      }\n      selection.setChangeEvents(true);\n    }\n  }\n\n  /**\n   * We need to track the modifier key states so that when focus events occur, which do not contain\n   * modifier states in the Event object, we know how to behave.\n   */\n  private _updateModifiers(ev: React.KeyboardEvent<HTMLElement> | React.MouseEvent<HTMLElement>): void {\n    this._isShiftPressed = ev.shiftKey;\n    this._isCtrlPressed = ev.ctrlKey;\n    this._isMetaPressed = ev.metaKey;\n\n    const keyCode = (ev as React.KeyboardEvent<HTMLElement>).keyCode;\n    this._isTabPressed = keyCode ? keyCode === KeyCodes.tab : false;\n  }\n\n  private _findItemRoot(target: HTMLElement): HTMLElement | undefined {\n    const { selection } = this.props;\n\n    while (target !== this._root.current) {\n      const indexValue = target.getAttribute(SELECTION_INDEX_ATTRIBUTE_NAME);\n      const index = Number(indexValue);\n\n      if (indexValue !== null && index >= 0 && index < selection.getItems().length) {\n        break;\n      }\n\n      target = getParent(target) as HTMLElement;\n    }\n\n    if (target === this._root.current) {\n      return undefined;\n    }\n\n    return target;\n  }\n\n  private _getItemIndex(itemRoot: HTMLElement): number {\n    return Number(itemRoot.getAttribute(SELECTION_INDEX_ATTRIBUTE_NAME));\n  }\n\n  private _shouldAutoSelect(element: HTMLElement): boolean {\n    return this._hasAttribute(element, SELECTION_SELECT_ATTRIBUTE_NAME);\n  }\n\n  private _hasAttribute(element: HTMLElement, attributeName: string): boolean {\n    let isToggle = false;\n\n    while (!isToggle && element !== this._root.current) {\n      isToggle = element.getAttribute(attributeName) === 'true';\n      element = getParent(element) as HTMLElement;\n    }\n\n    return isToggle;\n  }\n\n  private _isInputElement(element: HTMLElement): boolean {\n    return element.tagName === 'INPUT' || element.tagName === 'TEXTAREA';\n  }\n\n  private _isNonHandledClick(element: HTMLElement): boolean {\n    const doc = getDocument();\n\n    if (doc && element) {\n      while (element && element !== doc.documentElement) {\n        if (isElementTabbable(element)) {\n          return false;\n        }\n\n        element = getParent(element) as HTMLElement;\n      }\n    }\n\n    return true;\n  }\n\n  private _handleNextFocus(handleFocus: boolean): void {\n    if (this._shouldHandleFocusTimeoutId) {\n      this._async.clearTimeout(this._shouldHandleFocusTimeoutId);\n      this._shouldHandleFocusTimeoutId = undefined;\n    }\n\n    this._shouldHandleFocus = handleFocus;\n\n    if (handleFocus) {\n      this._async.setTimeout(() => {\n        this._shouldHandleFocus = false;\n      }, 100);\n    }\n  }\n\n  private _setIsTouch(isTouch: boolean): void {\n    if (this._isTouchTimeoutId) {\n      this._async.clearTimeout(this._isTouchTimeoutId);\n      this._isTouchTimeoutId = undefined;\n    }\n\n    this._isTouch = true;\n\n    if (isTouch) {\n      this._async.setTimeout(() => {\n        this._isTouch = false;\n      }, 300);\n    }\n  }\n\n  private _getSelectionMode(): SelectionMode {\n    const { selection } = this.props;\n\n    const { selectionMode = selection ? selection.mode : SelectionMode.none } = this.props;\n\n    return selectionMode;\n  }\n}\n","import * as React from 'react';\nimport { DelayedRender, classNamesFunction, getNativeProps, divProperties } from '../../Utilities';\nimport { IAnnouncedProps, IAnnouncedStyles } from './Announced.types';\n\nconst getClassNames = classNamesFunction<{}, IAnnouncedStyles>();\n\n/**\n * {@docCategory Announced}\n */\nexport class AnnouncedBase extends React.Component<IAnnouncedProps> {\n  public static defaultProps: Partial<IAnnouncedProps> = {\n    'aria-live': 'polite',\n  };\n\n  public render(): JSX.Element {\n    const { message, styles, as: Root = 'div', className } = this.props;\n\n    const classNames = getClassNames(styles, { className });\n\n    return (\n      <Root role=\"status\" className={classNames.root} {...getNativeProps(this.props, divProperties, ['className'])}>\n        <DelayedRender>\n          <div className={classNames.screenReaderText}>{message}</div>\n        </DelayedRender>\n      </Root>\n    );\n  }\n}\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { IAnnouncedProps, IAnnouncedStyles } from './Announced.types';\nimport { AnnouncedBase } from './Announced.base';\nimport { getStyles } from './Announced.styles';\n\nexport const Announced: React.FunctionComponent<IAnnouncedProps> = styled<IAnnouncedProps, {}, IAnnouncedStyles>(\n  AnnouncedBase,\n  getStyles,\n);\n","import { hiddenContentStyle } from '../../Styling';\nimport { IStyleFunction } from '../../Utilities';\nimport { IAnnouncedStyles, IAnnouncedStyleProps } from './Announced.types';\n\nexport const getStyles: IStyleFunction<IAnnouncedStyleProps, IAnnouncedStyles> = props => {\n  return {\n    root: props.className,\n    screenReaderText: hiddenContentStyle,\n  };\n};\n","/* tslint:disable */\nimport { loadStyles } from '@microsoft/load-themed-styles';\nloadStyles([{\"rawString\":\".root_15faef9e{min-width:260px}.suggestionsItem_15faef9e{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;position:relative;overflow:hidden}.suggestionsItem_15faef9e:hover{background:\"},{\"theme\":\"neutralLighter\",\"defaultValue\":\"#f3f2f1\"},{\"rawString\":\"}.suggestionsItem_15faef9e:hover .closeButton_15faef9e{display:block}.suggestionsItem_15faef9e.suggestionsItemIsSuggested_15faef9e{background:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\"}.suggestionsItem_15faef9e.suggestionsItemIsSuggested_15faef9e:hover{background:\"},{\"theme\":\"neutralTertiaryAlt\",\"defaultValue\":\"#c8c6c4\"},{\"rawString\":\"}@media screen and (-ms-high-contrast:active){.suggestionsItem_15faef9e.suggestionsItemIsSuggested_15faef9e:hover{background:Highlight;color:HighlightText}}@media screen and (-ms-high-contrast:active){.suggestionsItem_15faef9e.suggestionsItemIsSuggested_15faef9e{background:Highlight;color:HighlightText;-ms-high-contrast-adjust:none}}.suggestionsItem_15faef9e.suggestionsItemIsSuggested_15faef9e .closeButton_15faef9e:hover{background:\"},{\"theme\":\"neutralTertiary\",\"defaultValue\":\"#a19f9d\"},{\"rawString\":\";color:\"},{\"theme\":\"neutralPrimary\",\"defaultValue\":\"#323130\"},{\"rawString\":\"}@media screen and (-ms-high-contrast:active){.suggestionsItem_15faef9e.suggestionsItemIsSuggested_15faef9e .itemButton_15faef9e{color:HighlightText}}.suggestionsItem_15faef9e .closeButton_15faef9e{display:none;color:\"},{\"theme\":\"neutralSecondary\",\"defaultValue\":\"#605e5c\"},{\"rawString\":\"}.suggestionsItem_15faef9e .closeButton_15faef9e:hover{background:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\"}.actionButton_15faef9e{background-color:transparent;border:0;cursor:pointer;margin:0;position:relative;border-top:1px solid;height:40px;width:100%;font-size:12px}[dir=ltr] .actionButton_15faef9e{padding-left:8px}[dir=rtl] .actionButton_15faef9e{padding-right:8px}html[dir=ltr] .actionButton_15faef9e{text-align:left}html[dir=rtl] .actionButton_15faef9e{text-align:right}.actionButton_15faef9e:hover{background-color:\"},{\"theme\":\"neutralLight\",\"defaultValue\":\"#edebe9\"},{\"rawString\":\";cursor:pointer}.actionButton_15faef9e:active,.actionButton_15faef9e:focus{background-color:\"},{\"theme\":\"themeLight\",\"defaultValue\":\"#c7e0f4\"},{\"rawString\":\"}.actionButton_15faef9e .ms-Button-icon{font-size:16px;width:25px}.actionButton_15faef9e .ms-Button-label{margin:0 4px 0 9px}html[dir=rtl] .actionButton_15faef9e .ms-Button-label{margin:0 9px 0 4px}.buttonSelected_15faef9e{background-color:\"},{\"theme\":\"themeLight\",\"defaultValue\":\"#c7e0f4\"},{\"rawString\":\"}.suggestionsTitle_15faef9e{padding:0 12px;color:\"},{\"theme\":\"themePrimary\",\"defaultValue\":\"#0078d4\"},{\"rawString\":\";font-size:12px;line-height:40px;border-bottom:1px solid}.suggestionsContainer_15faef9e{overflow-y:auto;overflow-x:hidden;max-height:300px;border-bottom:1px solid}.suggestionsNone_15faef9e{text-align:center;color:#797775;font-size:12px;line-height:30px}.suggestionsSpinner_15faef9e{margin:5px 0;white-space:nowrap;line-height:20px;font-size:12px}html[dir=ltr] .suggestionsSpinner_15faef9e{padding-left:14px}html[dir=rtl] .suggestionsSpinner_15faef9e{padding-right:14px}html[dir=ltr] .suggestionsSpinner_15faef9e{text-align:left}html[dir=rtl] .suggestionsSpinner_15faef9e{text-align:right}.suggestionsSpinner_15faef9e .ms-Spinner-circle{display:inline-block;vertical-align:middle}.suggestionsSpinner_15faef9e .ms-Spinner-label{display:inline-block;margin:0 10px 0 16px;vertical-align:middle}html[dir=rtl] .suggestionsSpinner_15faef9e .ms-Spinner-label{margin:0 16px 0 10px}.itemButton_15faef9e.itemButton_15faef9e{width:100%;padding:0;min-width:0;height:100%}@media screen and (-ms-high-contrast:active){.itemButton_15faef9e.itemButton_15faef9e{color:WindowText}}.itemButton_15faef9e.itemButton_15faef9e:hover{color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\"}.closeButton_15faef9e.closeButton_15faef9e{padding:0 4px;height:auto;width:32px}@media screen and (-ms-high-contrast:active){.closeButton_15faef9e.closeButton_15faef9e{color:WindowText}}.closeButton_15faef9e.closeButton_15faef9e:hover{background:\"},{\"theme\":\"neutralTertiaryAlt\",\"defaultValue\":\"#c8c6c4\"},{\"rawString\":\";color:\"},{\"theme\":\"neutralDark\",\"defaultValue\":\"#201f1e\"},{\"rawString\":\"}.suggestionsAvailable_15faef9e{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}\"}]);\nexport const root = \"root_15faef9e\";\nexport const suggestionsItem = \"suggestionsItem_15faef9e\";\nexport const closeButton = \"closeButton_15faef9e\";\nexport const suggestionsItemIsSuggested = \"suggestionsItemIsSuggested_15faef9e\";\nexport const itemButton = \"itemButton_15faef9e\";\nexport const actionButton = \"actionButton_15faef9e\";\nexport const buttonSelected = \"buttonSelected_15faef9e\";\nexport const suggestionsTitle = \"suggestionsTitle_15faef9e\";\nexport const suggestionsContainer = \"suggestionsContainer_15faef9e\";\nexport const suggestionsNone = \"suggestionsNone_15faef9e\";\nexport const suggestionsSpinner = \"suggestionsSpinner_15faef9e\";\nexport const suggestionsAvailable = \"suggestionsAvailable_15faef9e\";","import * as React from 'react';\n\nimport { classNamesFunction, css, initializeComponentRef } from '../../../Utilities';\nimport { IProcessedStyleSet } from '../../../Styling';\nimport { CommandButton, IconButton } from '../../../Button';\nimport { ISuggestionItemProps, ISuggestionsItemStyleProps, ISuggestionsItemStyles } from './SuggestionsItem.types';\n\nimport * as stylesImport from './Suggestions.scss';\nconst legacyStyles: any = stylesImport;\n\nconst getClassNames = classNamesFunction<ISuggestionsItemStyleProps, ISuggestionsItemStyles>();\n\n/**\n * {@docCategory Pickers}\n */\nexport class SuggestionsItem<T> extends React.Component<ISuggestionItemProps<T>, {}> {\n  constructor(props: ISuggestionItemProps<T>) {\n    super(props);\n\n    initializeComponentRef(this);\n  }\n\n  public render(): JSX.Element {\n    const {\n      suggestionModel,\n      RenderSuggestion,\n      onClick,\n      className,\n      onRemoveItem,\n      isSelectedOverride,\n      removeButtonAriaLabel,\n      styles,\n      theme,\n    } = this.props;\n\n    // TODO\n    // Clean this up by leaving only the first part after removing support for SASS.\n    // Currently we can not remove the SASS styles from SuggestionsItem class because it\n    // might be used by consumers separately from pickers extending from BasePicker\n    // and have not used the new 'styles' prop. Because it's expecting a type parameter,\n    // we can not use the 'styled' function without adding some helpers which can break\n    // downstream consumers who did not use the new helpers.\n    // We check for 'styles' prop which is going to be injected by the 'styled' HOC\n    // in Suggestions when the typed SuggestionsItem class is ready to be rendered. If the\n    // check passes we can use the CSS-in-JS styles. If the check fails (ex: custom picker),\n    // then we just use the old SASS styles instead.\n    const classNames: Partial<IProcessedStyleSet<ISuggestionsItemStyles>> = styles\n      ? getClassNames(styles, {\n          theme: theme!,\n          className,\n          suggested: suggestionModel.selected || isSelectedOverride,\n        })\n      : {\n          root: css(\n            'ms-Suggestions-item',\n            legacyStyles.suggestionsItem,\n            {\n              ['is-suggested ' + legacyStyles.suggestionsItemIsSuggested]:\n                suggestionModel.selected || isSelectedOverride,\n            },\n            className,\n          ),\n          itemButton: css('ms-Suggestions-itemButton', legacyStyles.itemButton),\n          closeButton: css('ms-Suggestions-closeButton', legacyStyles.closeButton),\n        };\n\n    return (\n      <div className={classNames.root}>\n        <CommandButton onClick={onClick} className={classNames.itemButton}>\n          {RenderSuggestion(suggestionModel.item, this.props)}\n        </CommandButton>\n        {this.props.showRemoveButton ? (\n          <IconButton\n            iconProps={{ iconName: 'Cancel', styles: { root: { fontSize: '12px' } } }}\n            title={removeButtonAriaLabel}\n            ariaLabel={removeButtonAriaLabel}\n            onClick={onRemoveItem}\n            className={classNames.closeButton}\n          />\n        ) : null}\n      </div>\n    );\n  }\n}\n","import { getGlobalClassNames, HighContrastSelector } from '../../../Styling';\nimport { ISuggestionsItemStyleProps, ISuggestionsItemStyles } from './SuggestionsItem.types';\n\nexport const SuggestionsItemGlobalClassNames = {\n  root: 'ms-Suggestions-item',\n  itemButton: 'ms-Suggestions-itemButton',\n  closeButton: 'ms-Suggestions-closeButton',\n  isSuggested: 'is-suggested',\n};\n\nexport function getStyles(props: ISuggestionsItemStyleProps): ISuggestionsItemStyles {\n  const { className, theme, suggested } = props;\n\n  const { palette, semanticColors } = theme;\n\n  const classNames = getGlobalClassNames(SuggestionsItemGlobalClassNames, theme);\n\n  return {\n    root: [\n      classNames.root,\n      {\n        display: 'flex',\n        alignItems: 'stretch',\n        boxSizing: 'border-box',\n        width: '100%',\n        position: 'relative',\n        selectors: {\n          '&:hover': {\n            background: semanticColors.menuItemBackgroundHovered,\n          },\n          '&:hover .ms-Suggestions-closeButton': {\n            display: 'block',\n          },\n        },\n      },\n\n      className,\n    ],\n    itemButton: [\n      classNames.itemButton,\n      {\n        width: '100%',\n        padding: 0,\n        border: 'none',\n        height: '100%',\n        // Force the item button to be collapsible so it can always shrink\n        // to accommodate the close button as a peer in its flex container.\n        minWidth: 0,\n        // Require for IE11 to truncate the component.\n        overflow: 'hidden',\n        selectors: {\n          [HighContrastSelector]: {\n            color: 'WindowText',\n            selectors: {\n              ':hover': {\n                background: 'Highlight',\n                color: 'HighlightText',\n                MsHighContrastAdjust: 'none',\n              },\n            },\n          },\n          ':hover': {\n            color: semanticColors.menuItemTextHovered,\n          },\n        },\n      },\n      suggested && [\n        classNames.isSuggested,\n        {\n          background: semanticColors.menuItemBackgroundPressed,\n          selectors: {\n            ':hover': {\n              background: semanticColors.menuDivider,\n            },\n            [HighContrastSelector]: {\n              background: 'Highlight',\n              color: 'HighlightText',\n              MsHighContrastAdjust: 'none',\n            },\n          },\n        },\n      ],\n    ],\n    closeButton: [\n      classNames.closeButton,\n      {\n        display: 'none',\n        color: palette.neutralSecondary,\n        padding: '0 4px',\n        height: 'auto',\n        width: 32,\n        selectors: {\n          ':hover, :active': {\n            background: palette.neutralTertiaryAlt,\n            color: palette.neutralDark,\n          },\n          [HighContrastSelector]: {\n            color: 'WindowText',\n          },\n        },\n      },\n      suggested && {\n        selectors: {\n          ':hover, :active': {\n            background: palette.neutralTertiary,\n            color: palette.neutralPrimary,\n          },\n        },\n      },\n    ],\n  };\n}\n","import * as React from 'react';\n\nimport {\n  initializeComponentRef,\n  KeyCodes,\n  classNamesFunction,\n  IStyleFunctionOrObject,\n  css,\n  styled,\n} from '../../../Utilities';\nimport { IProcessedStyleSet } from '../../../Styling';\nimport { CommandButton, IButton } from '../../../Button';\nimport { Spinner, ISpinnerStyleProps, ISpinnerStyles } from '../../../Spinner';\nimport { Announced } from '../../../Announced';\nimport {\n  ISuggestionsProps,\n  SuggestionActionType,\n  ISuggestionsStyleProps,\n  ISuggestionsStyles,\n} from './Suggestions.types';\nimport { SuggestionsItem } from './SuggestionsItem';\nimport { getStyles as suggestionsItemStyles } from './SuggestionsItem.styles';\nimport { ISuggestionItemProps, ISuggestionsItemStyleProps, ISuggestionsItemStyles } from './SuggestionsItem.types';\n\nimport * as stylesImport from './Suggestions.scss';\nconst legacyStyles: any = stylesImport;\n\nconst getClassNames = classNamesFunction<ISuggestionsStyleProps, ISuggestionsStyles>();\n\nexport interface ISuggestionsState {\n  selectedActionType: SuggestionActionType;\n}\n\nconst StyledSuggestionsItem = styled<ISuggestionItemProps<any>, ISuggestionsItemStyleProps, ISuggestionsItemStyles>(\n  SuggestionsItem,\n  suggestionsItemStyles,\n  undefined,\n  { scope: 'SuggestionItem' },\n);\n\n/**\n * {@docCategory Pickers}\n */\nexport class Suggestions<T> extends React.Component<ISuggestionsProps<T>, ISuggestionsState> {\n  protected _forceResolveButton = React.createRef<IButton>();\n  protected _searchForMoreButton = React.createRef<IButton>();\n  protected _selectedElement = React.createRef<HTMLDivElement>();\n  private activeSelectedElement: HTMLDivElement | null;\n  private _classNames: Partial<IProcessedStyleSet<ISuggestionsStyles>>;\n\n  constructor(suggestionsProps: ISuggestionsProps<T>) {\n    super(suggestionsProps);\n\n    initializeComponentRef(this);\n\n    this.state = {\n      selectedActionType: SuggestionActionType.none,\n    };\n  }\n\n  public componentDidMount(): void {\n    this.scrollSelected();\n    this.activeSelectedElement = this._selectedElement ? this._selectedElement.current : null;\n  }\n\n  public componentDidUpdate(): void {\n    // Only scroll to selected element if the selected element has changed. Otherwise do nothing.\n    // This prevents some odd behavior where scrolling the active element out of view and clicking on a selected element\n    // will trigger a focus event and not give the clicked element the click.\n    if (this._selectedElement.current && this.activeSelectedElement !== this._selectedElement.current) {\n      this.scrollSelected();\n      this.activeSelectedElement = this._selectedElement.current;\n    }\n  }\n\n  public render(): JSX.Element {\n    const {\n      forceResolveText,\n      mostRecentlyUsedHeaderText,\n      searchForMoreText,\n      className,\n      moreSuggestionsAvailable,\n      noResultsFoundText,\n      suggestions,\n      isLoading,\n      isSearching,\n      loadingText,\n      onRenderNoResultFound,\n      searchingText,\n      isMostRecentlyUsedVisible,\n      resultsMaximumNumber,\n      resultsFooterFull,\n      resultsFooter,\n      isResultsFooterVisible = true,\n      suggestionsHeaderText,\n      suggestionsClassName,\n      theme,\n      styles,\n      suggestionsListId,\n    } = this.props;\n\n    // TODO\n    // Clean this up by leaving only the first part after removing support for SASS.\n    // Currently we can not remove the SASS styles from Suggestions class because it\n    // might be used by consumers separately from pickers extending from BasePicker\n    // and have not used the new 'styles' prop. Because it's expecting a type parameter,\n    // we can not use the 'styled' function without adding some helpers which can break\n    // downstream consumers who did not use the new helpers.\n    // We check for 'styles' prop which is going to be injected by the 'styled' HOC\n    // in BasePicker when the typed Suggestions class is ready to be rendered. If the check\n    // passes we can use the CSS-in-JS styles. If the check fails (ex: custom picker),\n    // then we just use the old SASS styles instead.\n    this._classNames = styles\n      ? getClassNames(styles, {\n          theme: theme!,\n          className,\n          suggestionsClassName,\n          forceResolveButtonSelected: this.state.selectedActionType === SuggestionActionType.forceResolve,\n          searchForMoreButtonSelected: this.state.selectedActionType === SuggestionActionType.searchMore,\n        })\n      : {\n          root: css('ms-Suggestions', className, legacyStyles.root),\n          title: css('ms-Suggestions-title', legacyStyles.suggestionsTitle),\n          searchForMoreButton: css('ms-SearchMore-button', legacyStyles.actionButton, {\n            ['is-selected ' + legacyStyles.buttonSelected]:\n              this.state.selectedActionType === SuggestionActionType.searchMore,\n          }),\n          forceResolveButton: css('ms-forceResolve-button', legacyStyles.actionButton, {\n            ['is-selected ' + legacyStyles.buttonSelected]:\n              this.state.selectedActionType === SuggestionActionType.forceResolve,\n          }),\n          suggestionsAvailable: css('ms-Suggestions-suggestionsAvailable', legacyStyles.suggestionsAvailable),\n          suggestionsContainer: css(\n            'ms-Suggestions-container',\n            legacyStyles.suggestionsContainer,\n            suggestionsClassName,\n          ),\n          noSuggestions: css('ms-Suggestions-none', legacyStyles.suggestionsNone),\n        };\n\n    const spinnerStyles = this._classNames.subComponentStyles\n      ? (this._classNames.subComponentStyles.spinner as IStyleFunctionOrObject<ISpinnerStyleProps, ISpinnerStyles>)\n      : undefined;\n\n    // TODO: cleanup after refactor of pickers to composition pattern and remove SASS support.\n    const spinnerClassNameOrStyles = styles\n      ? { styles: spinnerStyles }\n      : { className: css('ms-Suggestions-spinner', legacyStyles.suggestionsSpinner) };\n\n    const noResults = () => {\n      return noResultsFoundText ? <div className={this._classNames.noSuggestions}>{noResultsFoundText}</div> : null;\n    };\n\n    // MostRecently Used text should supercede the header text if it's there and available.\n    let headerText: string | undefined = suggestionsHeaderText;\n    if (isMostRecentlyUsedVisible && mostRecentlyUsedHeaderText) {\n      headerText = mostRecentlyUsedHeaderText;\n    }\n\n    let footerTitle: ((props: ISuggestionsProps<T>) => JSX.Element) | undefined = undefined;\n    if (isResultsFooterVisible) {\n      footerTitle = suggestions.length >= (resultsMaximumNumber as number) ? resultsFooterFull : resultsFooter;\n    }\n\n    const hasNoSuggestions = (!suggestions || !suggestions.length) && !isLoading;\n    const divProps: React.HtmlHTMLAttributes<HTMLDivElement> =\n      hasNoSuggestions || isLoading ? { role: 'dialog', id: suggestionsListId } : {};\n\n    return (\n      <div className={this._classNames.root} {...divProps}>\n        <Announced message={this._getAlertText()} aria-live=\"polite\" />\n\n        {headerText ? <div className={this._classNames.title}>{headerText}</div> : null}\n        {forceResolveText && this._shouldShowForceResolve() && (\n          <CommandButton\n            componentRef={this._forceResolveButton}\n            className={this._classNames.forceResolveButton}\n            onClick={this._forceResolve}\n            data-automationid={'sug-forceResolve'}\n          >\n            {forceResolveText}\n          </CommandButton>\n        )}\n        {isLoading && <Spinner {...spinnerClassNameOrStyles} label={loadingText} />}\n        {hasNoSuggestions\n          ? onRenderNoResultFound\n            ? onRenderNoResultFound(undefined, noResults)\n            : noResults()\n          : this._renderSuggestions()}\n        {searchForMoreText && moreSuggestionsAvailable && (\n          <CommandButton\n            componentRef={this._searchForMoreButton}\n            className={this._classNames.searchForMoreButton}\n            iconProps={{ iconName: 'Search' }}\n            onClick={this._getMoreResults}\n          >\n            {searchForMoreText}\n          </CommandButton>\n        )}\n        {isSearching ? <Spinner {...spinnerClassNameOrStyles} label={searchingText} /> : null}\n        {footerTitle && !moreSuggestionsAvailable && !isMostRecentlyUsedVisible && !isSearching ? (\n          <div className={this._classNames.title}>{footerTitle(this.props)}</div>\n        ) : null}\n      </div>\n    );\n  }\n\n  /**\n   * Returns true if the event was handled, false otherwise\n   */\n  public tryHandleKeyDown = (keyCode: number, currentSuggestionIndex: number): boolean => {\n    let isEventHandled = false;\n    let newSelectedActionType = null;\n    const currentSelectedAction = this.state.selectedActionType;\n    const suggestionLength = this.props.suggestions.length;\n    if (keyCode === KeyCodes.down) {\n      switch (currentSelectedAction) {\n        case SuggestionActionType.forceResolve:\n          if (suggestionLength > 0) {\n            this._refocusOnSuggestions(keyCode);\n            newSelectedActionType = SuggestionActionType.none;\n          } else if (this._searchForMoreButton.current) {\n            newSelectedActionType = SuggestionActionType.searchMore;\n          } else {\n            newSelectedActionType = SuggestionActionType.forceResolve;\n          }\n          break;\n        case SuggestionActionType.searchMore:\n          if (this._forceResolveButton.current) {\n            newSelectedActionType = SuggestionActionType.forceResolve;\n          } else if (suggestionLength > 0) {\n            this._refocusOnSuggestions(keyCode);\n            newSelectedActionType = SuggestionActionType.none;\n          } else {\n            newSelectedActionType = SuggestionActionType.searchMore;\n          }\n          break;\n        case SuggestionActionType.none:\n          if (currentSuggestionIndex === -1 && this._forceResolveButton.current) {\n            newSelectedActionType = SuggestionActionType.forceResolve;\n          }\n          break;\n      }\n    } else if (keyCode === KeyCodes.up) {\n      switch (currentSelectedAction) {\n        case SuggestionActionType.forceResolve:\n          if (this._searchForMoreButton.current) {\n            newSelectedActionType = SuggestionActionType.searchMore;\n          } else if (suggestionLength > 0) {\n            this._refocusOnSuggestions(keyCode);\n            newSelectedActionType = SuggestionActionType.none;\n          }\n          break;\n        case SuggestionActionType.searchMore:\n          if (suggestionLength > 0) {\n            this._refocusOnSuggestions(keyCode);\n            newSelectedActionType = SuggestionActionType.none;\n          } else if (this._forceResolveButton.current) {\n            newSelectedActionType = SuggestionActionType.forceResolve;\n          }\n          break;\n        case SuggestionActionType.none:\n          if (currentSuggestionIndex === -1 && this._searchForMoreButton.current) {\n            newSelectedActionType = SuggestionActionType.searchMore;\n          }\n          break;\n      }\n    }\n\n    if (newSelectedActionType !== null) {\n      this.setState({ selectedActionType: newSelectedActionType });\n      isEventHandled = true;\n    }\n\n    return isEventHandled;\n  };\n\n  public hasSuggestedAction(): boolean {\n    return !!this._searchForMoreButton.current || !!this._forceResolveButton.current;\n  }\n\n  public hasSuggestedActionSelected(): boolean {\n    return this.state.selectedActionType !== SuggestionActionType.none;\n  }\n\n  public executeSelectedAction(): void {\n    switch (this.state.selectedActionType) {\n      case SuggestionActionType.forceResolve:\n        this._forceResolve();\n        break;\n      case SuggestionActionType.searchMore:\n        this._getMoreResults();\n        break;\n    }\n  }\n\n  public focusAboveSuggestions(): void {\n    if (this._forceResolveButton.current) {\n      this.setState({ selectedActionType: SuggestionActionType.forceResolve });\n    } else if (this._searchForMoreButton.current) {\n      this.setState({ selectedActionType: SuggestionActionType.searchMore });\n    }\n  }\n\n  public focusBelowSuggestions(): void {\n    if (this._searchForMoreButton.current) {\n      this.setState({ selectedActionType: SuggestionActionType.searchMore });\n    } else if (this._forceResolveButton.current) {\n      this.setState({ selectedActionType: SuggestionActionType.forceResolve });\n    }\n  }\n\n  public focusSearchForMoreButton(): void {\n    if (this._searchForMoreButton.current) {\n      this._searchForMoreButton.current.focus();\n    }\n  }\n\n  // TODO get the element to scroll into view properly regardless of direction.\n  public scrollSelected(): void {\n    if (this._selectedElement.current && this._selectedElement.current.scrollIntoView !== undefined) {\n      this._selectedElement.current.scrollIntoView(false);\n    }\n  }\n\n  private _getAlertText = () => {\n    const { isLoading, isSearching, suggestions, suggestionsAvailableAlertText, noResultsFoundText } = this.props;\n    if (!isLoading && !isSearching) {\n      if (suggestions.length > 0) {\n        return suggestionsAvailableAlertText || '';\n      }\n      if (noResultsFoundText) {\n        return noResultsFoundText;\n      }\n    }\n    return '';\n  };\n\n  private _renderSuggestions(): JSX.Element | null {\n    const {\n      onRenderSuggestion,\n      removeSuggestionAriaLabel,\n      suggestionsItemClassName,\n      resultsMaximumNumber,\n      showRemoveButtons,\n      suggestionsContainerAriaLabel,\n      suggestionsListId,\n    } = this.props;\n\n    let { suggestions } = this.props;\n\n    const StyledTypedSuggestionsItem: React.FunctionComponent<ISuggestionItemProps<T>> = StyledSuggestionsItem;\n\n    let selectedIndex = -1;\n    suggestions.some((element, index) => {\n      if (element.selected) {\n        selectedIndex = index;\n        return true;\n      }\n      return false;\n    });\n\n    if (resultsMaximumNumber) {\n      suggestions =\n        selectedIndex >= resultsMaximumNumber\n          ? suggestions.slice(selectedIndex - resultsMaximumNumber + 1, selectedIndex + 1)\n          : suggestions.slice(0, resultsMaximumNumber);\n    }\n\n    if (suggestions.length === 0) {\n      return null;\n    }\n\n    return (\n      <div\n        className={this._classNames.suggestionsContainer}\n        id={suggestionsListId}\n        role=\"listbox\"\n        aria-label={suggestionsContainerAriaLabel}\n      >\n        {suggestions.map((suggestion, index) => (\n          <div\n            ref={suggestion.selected ? this._selectedElement : undefined}\n            // tslint:disable-next-line:no-string-literal\n            key={(suggestion.item as any)['key'] ? (suggestion.item as any)['key'] : index}\n            id={'sug-' + index}\n            aria-selected={suggestion.selected}\n            role=\"option\"\n            aria-label={suggestion.ariaLabel}\n          >\n            <StyledTypedSuggestionsItem\n              suggestionModel={suggestion}\n              RenderSuggestion={onRenderSuggestion}\n              onClick={this._onClickTypedSuggestionsItem(suggestion.item, index)}\n              className={suggestionsItemClassName}\n              showRemoveButton={showRemoveButtons}\n              removeButtonAriaLabel={removeSuggestionAriaLabel}\n              onRemoveItem={this._onRemoveTypedSuggestionsItem(suggestion.item, index)}\n            />\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  private _getMoreResults = (): void => {\n    if (this.props.onGetMoreResults) {\n      this.props.onGetMoreResults();\n    }\n  };\n\n  private _forceResolve = (): void => {\n    if (this.props.createGenericItem) {\n      this.props.createGenericItem();\n    }\n  };\n\n  private _shouldShowForceResolve = (): boolean => {\n    return this.props.showForceResolve ? this.props.showForceResolve() : false;\n  };\n\n  private _onClickTypedSuggestionsItem = (item: T, index: number): ((ev: React.MouseEvent<HTMLElement>) => void) => {\n    return (ev: React.MouseEvent<HTMLElement>): void => {\n      this.props.onSuggestionClick(ev, item, index);\n    };\n  };\n\n  private _refocusOnSuggestions = (keyCode: number): void => {\n    if (typeof this.props.refocusSuggestions === 'function') {\n      this.props.refocusSuggestions(keyCode);\n    }\n  };\n\n  private _onRemoveTypedSuggestionsItem = (item: T, index: number): ((ev: React.MouseEvent<HTMLElement>) => void) => {\n    return (ev: React.MouseEvent<HTMLElement>): void => {\n      const onSuggestionRemove = this.props.onSuggestionRemove!;\n      onSuggestionRemove(ev, item, index);\n      ev.stopPropagation();\n    };\n  };\n}\n","import { getGlobalClassNames, IStyle, hiddenContentStyle } from '../../../Styling';\nimport { ISuggestionsStyleProps, ISuggestionsStyles } from './Suggestions.types';\n\nconst GlobalClassNames = {\n  root: 'ms-Suggestions',\n  suggestionsContainer: 'ms-Suggestions-container',\n  title: 'ms-Suggestions-title',\n  forceResolveButton: 'ms-forceResolve-button',\n  searchForMoreButton: 'ms-SearchMore-button',\n  spinner: 'ms-Suggestions-spinner',\n  noSuggestions: 'ms-Suggestions-none',\n  suggestionsAvailable: 'ms-Suggestions-suggestionsAvailable',\n  isSelected: 'is-selected',\n};\n\nexport function getStyles(props: ISuggestionsStyleProps): ISuggestionsStyles {\n  const { className, suggestionsClassName, theme, forceResolveButtonSelected, searchForMoreButtonSelected } = props;\n\n  const { palette, semanticColors, fonts } = theme;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  const actionButtonStyles: IStyle = {\n    backgroundColor: 'transparent',\n    border: 0,\n    cursor: 'pointer',\n    margin: 0,\n    paddingLeft: 8,\n    position: 'relative',\n    borderTop: `1px solid ${palette.neutralLight}`,\n    height: 40,\n    textAlign: 'left',\n    width: '100%',\n    fontSize: fonts.small.fontSize,\n    selectors: {\n      ':hover': {\n        backgroundColor: semanticColors.menuItemBackgroundPressed,\n        cursor: 'pointer',\n      },\n      ':focus, :active': {\n        backgroundColor: palette.themeLight,\n      },\n      '.ms-Button-icon': {\n        fontSize: fonts.mediumPlus.fontSize,\n        width: 25,\n      },\n      '.ms-Button-label': {\n        margin: '0 4px 0 9px',\n      },\n    },\n  };\n\n  const actionButtonSelectedStyles: IStyle = {\n    backgroundColor: palette.themeLight,\n  };\n\n  return {\n    root: [\n      classNames.root,\n      {\n        minWidth: 260,\n      },\n      className,\n    ],\n    suggestionsContainer: [\n      classNames.suggestionsContainer,\n      {\n        overflowY: 'auto',\n        overflowX: 'hidden',\n        maxHeight: 300,\n      },\n      suggestionsClassName,\n    ],\n    title: [\n      classNames.title,\n      {\n        padding: '0 12px',\n        fontSize: fonts.small.fontSize,\n        color: palette.themePrimary,\n        lineHeight: 40,\n        borderBottom: `1px solid ${semanticColors.menuItemBackgroundPressed}`,\n      },\n    ],\n    forceResolveButton: [\n      classNames.forceResolveButton,\n      actionButtonStyles,\n      forceResolveButtonSelected && [classNames.isSelected, actionButtonSelectedStyles],\n    ],\n    searchForMoreButton: [\n      classNames.searchForMoreButton,\n      actionButtonStyles,\n      searchForMoreButtonSelected && [classNames.isSelected, actionButtonSelectedStyles],\n    ],\n    noSuggestions: [\n      classNames.noSuggestions,\n      {\n        textAlign: 'center',\n        color: palette.neutralSecondary,\n        fontSize: fonts.small.fontSize,\n        lineHeight: 30,\n      },\n    ],\n    suggestionsAvailable: [classNames.suggestionsAvailable, hiddenContentStyle],\n    subComponentStyles: {\n      spinner: {\n        root: [\n          classNames.spinner,\n          {\n            margin: '5px 0',\n            paddingLeft: 14,\n            textAlign: 'left',\n            whiteSpace: 'nowrap',\n            lineHeight: 20,\n            fontSize: fonts.small.fontSize,\n          },\n        ],\n        circle: {\n          display: 'inline-block',\n          verticalAlign: 'middle',\n        },\n        label: {\n          display: 'inline-block',\n          verticalAlign: 'middle',\n          margin: '0 10px 0 16px',\n        },\n      },\n    },\n  };\n}\n","import { ISuggestionModel } from './Suggestions.types';\n\n/**\n * {@docCategory Pickers}\n */\nexport class SuggestionsController<T> {\n  public currentIndex: number;\n  public currentSuggestion: ISuggestionModel<T> | undefined;\n  public suggestions: ISuggestionModel<T>[];\n\n  constructor() {\n    this.suggestions = [];\n    this.currentIndex = -1;\n  }\n\n  public updateSuggestions(newSuggestions: T[], selectedIndex?: number): void {\n    if (newSuggestions && newSuggestions.length > 0) {\n      this.suggestions = this.convertSuggestionsToSuggestionItems(newSuggestions);\n      this.currentIndex = selectedIndex ? selectedIndex : 0;\n      if (selectedIndex! === -1) {\n        this.currentSuggestion = undefined;\n      } else if (selectedIndex !== undefined) {\n        this.suggestions[selectedIndex].selected = true;\n        this.currentSuggestion = this.suggestions[selectedIndex];\n      }\n    } else {\n      this.suggestions = [];\n      this.currentIndex = -1;\n      this.currentSuggestion = undefined;\n    }\n  }\n\n  /**\n   * Increments the suggestion index and gets the next suggestion in the list.\n   */\n  public nextSuggestion(): boolean {\n    if (this.suggestions && this.suggestions.length) {\n      if (this.currentIndex < this.suggestions.length - 1) {\n        this.setSelectedSuggestion(this.currentIndex + 1);\n        return true;\n      } else if (this.currentIndex === this.suggestions.length - 1) {\n        this.setSelectedSuggestion(0);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Decrements the suggestion index and gets the previous suggestion in the list.\n   */\n  public previousSuggestion(): boolean {\n    if (this.suggestions && this.suggestions.length) {\n      if (this.currentIndex > 0) {\n        this.setSelectedSuggestion(this.currentIndex - 1);\n        return true;\n      } else if (this.currentIndex === 0) {\n        this.setSelectedSuggestion(this.suggestions.length - 1);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  public getSuggestions(): ISuggestionModel<T>[] {\n    return this.suggestions;\n  }\n\n  public getCurrentItem(): ISuggestionModel<T> {\n    return this.currentSuggestion!;\n  }\n\n  public getSuggestionAtIndex(index: number): ISuggestionModel<T> {\n    return this.suggestions[index];\n  }\n\n  public hasSelectedSuggestion(): boolean {\n    return this.currentSuggestion ? true : false;\n  }\n\n  public removeSuggestion(index: number): void {\n    this.suggestions.splice(index, 1);\n  }\n\n  public createGenericSuggestion(itemToConvert: ISuggestionModel<T> | T) {\n    const itemToAdd = this.convertSuggestionsToSuggestionItems([itemToConvert])[0];\n    this.currentSuggestion = itemToAdd;\n  }\n\n  public convertSuggestionsToSuggestionItems(suggestions: Array<ISuggestionModel<T> | T>): ISuggestionModel<T>[] {\n    return Array.isArray(suggestions) ? suggestions.map(this._ensureSuggestionModel) : [];\n  }\n\n  public deselectAllSuggestions(): void {\n    if (this.currentIndex > -1) {\n      this.suggestions[this.currentIndex].selected = false;\n      this.currentIndex = -1;\n    }\n  }\n\n  public setSelectedSuggestion(index: number): void {\n    if (index > this.suggestions.length - 1 || index < 0) {\n      this.currentIndex = 0;\n      this.currentSuggestion!.selected = false;\n      this.currentSuggestion = this.suggestions[0];\n      this.currentSuggestion.selected = true;\n    } else {\n      if (this.currentIndex > -1) {\n        this.suggestions[this.currentIndex].selected = false;\n      }\n      this.suggestions[index].selected = true;\n      this.currentIndex = index;\n      this.currentSuggestion = this.suggestions[index];\n    }\n  }\n\n  private _isSuggestionModel = (value: ISuggestionModel<T> | T): value is ISuggestionModel<T> => {\n    return (<ISuggestionModel<T>>value).item !== undefined;\n  };\n\n  private _ensureSuggestionModel = (suggestion: ISuggestionModel<T> | T): ISuggestionModel<T> => {\n    if (this._isSuggestionModel(suggestion)) {\n      return suggestion as ISuggestionModel<T>;\n    } else {\n      return {\n        item: suggestion,\n        selected: false,\n        ariaLabel: (<any>suggestion).name || (<any>suggestion).primaryText,\n      } as ISuggestionModel<T>;\n    }\n  };\n}\n","import * as React from 'react';\nimport { IPickerItemProps } from './PickerItem.types';\nimport { IRefObject, IStyleFunctionOrObject } from '../../Utilities';\nimport { ISuggestionModel, ISuggestionsProps } from './Suggestions/Suggestions.types';\nimport { Autofill } from '../../Autofill';\nimport { ICalloutProps } from '../../Callout';\nimport { ITheme, IStyle } from '../../Styling';\nimport { ISuggestionItemProps } from '../pickers/Suggestions/SuggestionsItem.types';\n\n/**\n * BasePicker component.\n * {@docCategory Pickers}\n */\nexport interface IBasePicker<T> {\n  /** Gets the current value of the input. */\n  items: T[] | undefined;\n\n  /** Sets focus to the focus zone. */\n  focus: () => void;\n\n  /** Set focus to the input */\n  focusInput: () => void;\n\n  /**\n   * When called, will take the currently selected suggestion and complete it.\n   * If called with forceComplete true, it will attempt to force the current suggestion\n   * to complete, must provide both createGenericSuggestion, so the text can be turned into\n   * an object in the right shape, and onValidateInput, so the object knows if it's correct or not.\n   */\n  completeSuggestion: (forceComplete?: boolean) => void;\n}\n\n/**\n * Type T is the type of the item that is displayed\n * and searched for by the picker. For example, if the picker is\n * displaying persona's then type T could either be of Persona or IPersona props\n * {@docCategory Pickers}\n */\n// tslint:disable-next-line:deprecation\nexport interface IBasePickerProps<T> extends React.Props<any> {\n  /**\n   * Optional callback to access the IBasePicker interface. Use this instead of ref for accessing\n   * the public methods and properties of the component.\n   */\n  componentRef?: IRefObject<IBasePicker<T>>;\n\n  /**\n   * Function that specifies how the selected item will appear.\n   */\n  onRenderItem?: (props: IPickerItemProps<T>) => JSX.Element;\n\n  /**\n   * Function that specifies how an individual suggestion item will appear.\n   */\n  onRenderSuggestionsItem?: (props: T, itemProps: ISuggestionItemProps<T>) => JSX.Element;\n\n  /**\n   * A callback for what should happen when a person types text into the input.\n   * Returns the already selected items so the resolver can filter them out.\n   * If used in conjunction with resolveDelay this will only kick off after the delay throttle.\n   */\n  onResolveSuggestions: (filter: string, selectedItems?: T[]) => T[] | PromiseLike<T[]>;\n\n  /**\n   * The delay time in ms before resolving suggestions, which is kicked off when input has been changed.\n   * e.g. If a second input change happens within the resolveDelay time, the timer will start over.\n   * Only until after the timer completes will onResolveSuggestions be called.\n   */\n  resolveDelay?: number;\n\n  /**\n   * A callback for what should happen when a user clicks within the input area.\n   * @deprecated Please use onEmptyResolveSuggestions instead, as the suggestions aren't about\n   * setting focus as they are about resolving suggestions when there is no input.\n   */\n  onEmptyInputFocus?: (selectedItems?: T[]) => T[] | PromiseLike<T[]>;\n\n  /**\n   * A callback for what should happen when suggestions are shown without\n   * input provided.\n   * Returns the already selected items so the resolver can filter them out.\n   * If used in conjunction with resolveDelay this will only kick off after the delay throttle.\n   */\n  onEmptyResolveSuggestions?: (selectedItems?: T[]) => T[] | PromiseLike<T[]>;\n\n  /**\n   * Initial items that have already been selected and should appear in the people picker.\n   */\n  defaultSelectedItems?: T[];\n\n  /**\n   * A callback for when the selected list of items changes.\n   */\n  onChange?: (items?: T[]) => void;\n\n  /**\n   * A callback for when the user put focus on the picker\n   * @deprecated Use `inputProps.onFocus` instead\n   */\n  onFocus?: React.FocusEventHandler<HTMLInputElement | Autofill>;\n\n  /**\n   * A callback for when the user moves the focus away from the picker\n   */\n  onBlur?: React.FocusEventHandler<HTMLInputElement | Autofill>;\n\n  /**\n   * A callback to get text from an item. Used to autofill text in the pickers.\n   */\n  getTextFromItem?: (item: T, currentValue?: string) => string;\n\n  /**\n   * A callback that gets the rest of the results when a user clicks get more results.\n   */\n  onGetMoreResults?: (filter: string, selectedItems?: T[]) => T[] | PromiseLike<T[]>;\n\n  /**\n   * ClassName for the picker.\n   */\n  className?: string;\n\n  /**\n   * The properties that will get passed to the Suggestions component.\n   */\n  pickerSuggestionsProps?: IBasePickerSuggestionsProps;\n\n  /**\n   * The properties that will get passed to the Callout component.\n   */\n  pickerCalloutProps?: ICalloutProps;\n\n  /**\n   * AutoFill input native props\n   * @defaultvalue undefined\n   */\n  inputProps?: IInputProps;\n\n  /**\n   * A callback for when an item is removed from the suggestion list\n   */\n  onRemoveSuggestion?: (item: T) => void;\n\n  /**\n   * A function used to validate if raw text entered into the well can be added into the selected items list\n   */\n  onValidateInput?: (input: string) => ValidationState;\n\n  /**\n   * The text to display while searching for more results in a limited suggestions list\n   */\n  searchingText?: ((props: { input: string }) => string) | string;\n\n  /**\n   * Flag for disabling the picker.\n   * @defaultvalue false\n   */\n  disabled?: boolean;\n\n  /**\n   * Restrict the amount of selectable items.\n   * @defaultvalue undefined\n   */\n  itemLimit?: number;\n\n  /**\n   * Function that specifies how arbitrary text entered into the well is handled.\n   */\n  createGenericItem?: (input: string, ValidationState: ValidationState) => ISuggestionModel<T> | T;\n\n  /**\n   * Aria label for the \"X\" button in the selected item component.\n   * @defaultvalue ''\n   */\n  removeButtonAriaLabel?: string;\n\n  /**\n   * A callback to process a selection after the user selects something from the picker. If the callback returns null,\n   * the item will not be added to the picker.\n   */\n  onItemSelected?: (selectedItem?: T) => T | PromiseLike<T> | null;\n\n  /**\n   * The items that the base picker should currently display as selected.\n   * If this is provided then the picker will act as a controlled component.\n   */\n  selectedItems?: T[];\n\n  /**\n   * A callback used to modify the input string.\n   */\n  onInputChange?: (input: string) => string;\n\n  /**\n   * A callback to override the default behavior of adding the selected suggestion on dismiss.\n   */\n  onDismiss?: (ev?: any, selectedItem?: T) => void;\n\n  /**\n   * Adds an additional alert for the currently selected suggestion. This prop should be set to true for IE11 and below,\n   * as it enables proper screen reader behavior for each suggestion (since aria-activedescendant does not work\n   * with IE11). It should not be set for modern browsers (Edge, Chrome).\n   * @defaultvalue false\n   */\n  enableSelectedSuggestionAlert?: boolean;\n\n  /**\n   * Call to provide customized styling that will layer on top of the variant rules.\n   */\n  styles?: IStyleFunctionOrObject<IBasePickerStyleProps, IBasePickerStyles>;\n\n  /**\n   * Theme provided by styled() function.\n   */\n  theme?: ITheme;\n}\n\n/**\n * Subset of picker options that may be legally passed through a picker to its\n * internal Suggestions component.\n * {@docCategory Pickers}\n */\nexport interface IBasePickerSuggestionsProps<T = any>\n  extends Pick<\n    ISuggestionsProps<T>,\n    | 'onRenderNoResultFound'\n    | 'suggestionsHeaderText'\n    | 'mostRecentlyUsedHeaderText'\n    | 'noResultsFoundText'\n    | 'className'\n    | 'suggestionsClassName'\n    | 'suggestionsItemClassName'\n    | 'searchForMoreText'\n    | 'forceResolveText'\n    | 'loadingText'\n    | 'searchingText'\n    | 'resultsFooterFull'\n    | 'resultsFooter'\n    | 'resultsMaximumNumber'\n    | 'showRemoveButtons'\n    | 'suggestionsAvailableAlertText'\n    | 'suggestionsContainerAriaLabel'\n    | 'showForceResolve'\n  > {}\n\n/**\n * Validation state of the user's input.\n * {@docCategory Pickers}\n */\nexport enum ValidationState {\n  /** User input is valid. */\n  valid,\n\n  /** User input could be valid or invalid, its state is not known yet. */\n  warning,\n\n  /** User input is invalid. */\n  invalid,\n}\n\n/**\n * Pickers' input props interface\n * {@docCategory Pickers}\n */\nexport interface IInputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  /**\n   * Screen reader label to apply to an input element.\n   */\n  'aria-label'?: string;\n\n  /**\n   * The default value to be visible when the autofill first created.\n   * This is different than placeholder text because the placeholder text will disappear and re-appear. This\n   * text persists until deleted or changed.\n   */\n  defaultVisibleValue?: string;\n}\n\n/**\n * The props needed to construct styles.\n * {@docCategory Pickers}\n */\nexport type IBasePickerStyleProps = Pick<IBasePickerProps<any>, 'theme' | 'className' | 'disabled'> & {\n  /** Whether text style area is focused */\n  isFocused?: boolean;\n\n  /** Optional pickerInput className */\n  inputClassName?: string;\n};\n\n/**\n * Represents the stylable areas of the control.\n * {@docCategory Pickers}\n */\nexport interface IBasePickerStyles {\n  /** Root element of any picker extending from BasePicker (wraps all the elements). */\n  root: IStyle;\n\n  /**\n   * Refers to the elements already selected (picked) wrapped by `itemsWrapper` along with the input to type\n   * a new selection.\n   */\n  text: IStyle;\n\n  /** Refers to the items already selected (picked). */\n  itemsWrapper: IStyle;\n\n  /** Refers to the input were to type new selections (picks). */\n  input: IStyle;\n\n  /** Refers to helper element used for accessibility tools (hidden from view on screen). */\n  screenReaderText: IStyle;\n}\n","export const isIE11 = (): boolean => {\n  if (typeof window === 'undefined' || !window.navigator || !window.navigator.userAgent) {\n    return false;\n  }\n\n  return window.navigator.userAgent.indexOf('rv:11.0') > -1;\n};\n","import * as React from 'react';\nimport { IAutofillProps, IAutofill } from './Autofill.types';\nimport { KeyCodes, getNativeProps, inputProperties, isIE11, Async, initializeComponentRef } from '../../Utilities';\n\nexport interface IAutofillState {\n  displayValue?: string;\n}\n\nconst SELECTION_FORWARD = 'forward';\nconst SELECTION_BACKWARD = 'backward';\n\n/**\n * {@docCategory Autofill}\n */\nexport class Autofill extends React.Component<IAutofillProps, IAutofillState> implements IAutofill {\n  public static defaultProps = {\n    enableAutofillOnKeyPress: [KeyCodes.down, KeyCodes.up] as KeyCodes[],\n  };\n\n  private _inputElement = React.createRef<HTMLInputElement>();\n  private _autoFillEnabled = true;\n  private _value: string;\n  private _isComposing: boolean = false;\n  private _async: Async;\n\n  constructor(props: IAutofillProps) {\n    super(props);\n\n    initializeComponentRef(this);\n    this._async = new Async(this);\n\n    this._value = props.defaultVisibleValue || '';\n    this.state = {\n      displayValue: props.defaultVisibleValue || '',\n    };\n  }\n\n  public get cursorLocation(): number | null {\n    if (this._inputElement.current) {\n      const inputElement = this._inputElement.current;\n      if (inputElement.selectionDirection !== SELECTION_FORWARD) {\n        return inputElement.selectionEnd;\n      } else {\n        return inputElement.selectionStart;\n      }\n    } else {\n      return -1;\n    }\n  }\n\n  public get isValueSelected(): boolean {\n    return Boolean(this.inputElement && this.inputElement.selectionStart !== this.inputElement.selectionEnd);\n  }\n\n  public get value(): string {\n    return this._value;\n  }\n\n  public get selectionStart(): number | null {\n    return this._inputElement.current ? this._inputElement.current.selectionStart : -1;\n  }\n\n  public get selectionEnd(): number | null {\n    return this._inputElement.current ? this._inputElement.current.selectionEnd : -1;\n  }\n\n  public get inputElement(): HTMLInputElement | null {\n    return this._inputElement.current;\n  }\n\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillReceiveProps(nextProps: IAutofillProps): void {\n    if (this.props.updateValueInWillReceiveProps) {\n      const updatedInputValue = this.props.updateValueInWillReceiveProps();\n      // Don't update if we have a null value or the value isn't changing\n      // the value should still update if an empty string is passed in\n      if (updatedInputValue !== null && updatedInputValue !== this._value) {\n        this._value = updatedInputValue;\n      }\n    }\n\n    const newDisplayValue = this._getDisplayValue(this._value, nextProps.suggestedDisplayValue);\n\n    if (typeof newDisplayValue === 'string') {\n      this.setState({ displayValue: newDisplayValue });\n    }\n  }\n\n  public componentDidUpdate() {\n    const value = this._value;\n    const { suggestedDisplayValue, shouldSelectFullInputValueInComponentDidUpdate, preventValueSelection } = this.props;\n    let differenceIndex = 0;\n\n    if (preventValueSelection) {\n      return;\n    }\n\n    if (\n      this._autoFillEnabled &&\n      value &&\n      suggestedDisplayValue &&\n      this._doesTextStartWith(suggestedDisplayValue, value)\n    ) {\n      let shouldSelectFullRange = false;\n\n      if (shouldSelectFullInputValueInComponentDidUpdate) {\n        shouldSelectFullRange = shouldSelectFullInputValueInComponentDidUpdate();\n      }\n\n      if (shouldSelectFullRange && this._inputElement.current) {\n        this._inputElement.current.setSelectionRange(0, suggestedDisplayValue.length, SELECTION_BACKWARD);\n      } else {\n        while (\n          differenceIndex < value.length &&\n          value[differenceIndex].toLocaleLowerCase() === suggestedDisplayValue[differenceIndex].toLocaleLowerCase()\n        ) {\n          differenceIndex++;\n        }\n        if (differenceIndex > 0 && this._inputElement.current) {\n          this._inputElement.current.setSelectionRange(\n            differenceIndex,\n            suggestedDisplayValue.length,\n            SELECTION_BACKWARD,\n          );\n        }\n      }\n    }\n  }\n\n  public componentWillUnmount(): void {\n    this._async.dispose();\n  }\n\n  public render(): JSX.Element {\n    const { displayValue } = this.state;\n\n    const nativeProps = getNativeProps<React.InputHTMLAttributes<HTMLInputElement>>(this.props, inputProperties);\n    return (\n      <input\n        autoCapitalize=\"off\"\n        autoComplete=\"off\"\n        aria-autocomplete={'both'}\n        {...nativeProps}\n        ref={this._inputElement}\n        value={displayValue}\n        onCompositionStart={this._onCompositionStart}\n        onCompositionUpdate={this._onCompositionUpdate}\n        onCompositionEnd={this._onCompositionEnd}\n        // TODO (Fabric 8?) - switch to calling only onChange. See notes in TextField._onInputChange.\n        onChange={this._onChanged}\n        onInput={this._onInputChanged}\n        onKeyDown={this._onKeyDown}\n        onClick={this.props.onClick ? this.props.onClick : this._onClick}\n        data-lpignore={true}\n      />\n    );\n  }\n\n  public focus() {\n    this._inputElement.current && this._inputElement.current.focus();\n  }\n\n  public clear() {\n    this._autoFillEnabled = true;\n    this._updateValue('', false);\n    this._inputElement.current && this._inputElement.current.setSelectionRange(0, 0);\n  }\n\n  // Composition events are used when the character/text requires several keystrokes to be completed.\n  // Some examples of this are mobile text input and langauges like Japanese or Arabic.\n  // Find out more at https://developer.mozilla.org/en-US/docs/Web/Events/compositionstart\n  private _onCompositionStart = (ev: React.CompositionEvent<HTMLInputElement>) => {\n    this._isComposing = true;\n    this._autoFillEnabled = false;\n  };\n\n  // Composition events are used when the character/text requires several keystrokes to be completed.\n  // Some examples of this are mobile text input and languages like Japanese or Arabic.\n  // Find out more at https://developer.mozilla.org/en-US/docs/Web/Events/compositionstart\n  private _onCompositionUpdate = () => {\n    if (isIE11()) {\n      this._updateValue(this._getCurrentInputValue(), true);\n    }\n  };\n\n  // Composition events are used when the character/text requires several keystrokes to be completed.\n  // Some examples of this are mobile text input and langauges like Japanese or Arabic.\n  // Find out more at https://developer.mozilla.org/en-US/docs/Web/Events/compositionstart\n  private _onCompositionEnd = (ev: React.CompositionEvent<HTMLInputElement>) => {\n    const inputValue = this._getCurrentInputValue();\n    this._tryEnableAutofill(inputValue, this.value, false, true);\n    this._isComposing = false;\n    // Due to timing, this needs to be async, otherwise no text will be selected.\n    this._async.setTimeout(() => {\n      // it's technically possible that the value of _isComposing is reset during this timeout,\n      // so explicitly trigger this with composing=true here, since it is supposed to be the\n      // update for composition end\n      this._updateValue(this._getCurrentInputValue(), false);\n    }, 0);\n  };\n\n  private _onClick = () => {\n    if (this._value && this._value !== '' && this._autoFillEnabled) {\n      this._autoFillEnabled = false;\n    }\n  };\n\n  private _onKeyDown = (ev: React.KeyboardEvent<HTMLInputElement>) => {\n    if (this.props.onKeyDown) {\n      this.props.onKeyDown(ev);\n    }\n\n    // If the event is actively being composed, then don't alert autofill.\n    // Right now typing does not have isComposing, once that has been fixed any should be removed.\n    if (!(ev.nativeEvent as any).isComposing) {\n      switch (ev.which) {\n        case KeyCodes.backspace:\n          this._autoFillEnabled = false;\n          break;\n        case KeyCodes.left:\n        case KeyCodes.right:\n          if (this._autoFillEnabled) {\n            this._value = this.state.displayValue!;\n            this._autoFillEnabled = false;\n          }\n          break;\n        default:\n          if (!this._autoFillEnabled) {\n            if (this.props.enableAutofillOnKeyPress!.indexOf(ev.which) !== -1) {\n              this._autoFillEnabled = true;\n            }\n          }\n          break;\n      }\n    }\n  };\n\n  private _onInputChanged = (ev: React.FormEvent<HTMLElement>) => {\n    const value: string = this._getCurrentInputValue(ev);\n\n    if (!this._isComposing) {\n      this._tryEnableAutofill(value, this._value, (ev.nativeEvent as any).isComposing);\n    }\n\n    // If it is not IE11 and currently composing, update the value\n    if (!(isIE11() && this._isComposing)) {\n      const nativeEventComposing = (ev.nativeEvent as any).isComposing;\n      const isComposing = nativeEventComposing === undefined ? this._isComposing : nativeEventComposing;\n      this._updateValue(value, isComposing);\n    }\n  };\n\n  private _onChanged = (): void => {\n    // Swallow this event, we don't care about it\n    // We must provide it because React PropTypes marks it as required, but onInput serves the correct purpose\n    return;\n  };\n\n  private _getCurrentInputValue(ev?: React.FormEvent<HTMLElement>): string {\n    if (ev && ev.target && (ev.target as any).value) {\n      return (ev.target as any).value;\n    } else if (this.inputElement && this.inputElement.value) {\n      return this.inputElement.value;\n    } else {\n      return '';\n    }\n  }\n\n  /**\n   * Attempts to enable autofill. Whether or not autofill is enabled depends on the input value,\n   * whether or not any text is selected, and only if the new input value is longer than the old input value.\n   * Autofill should never be set to true if the value is composing. Once compositionEnd is called, then\n   * it should be completed.\n   * See https://developer.mozilla.org/en-US/docs/Web/API/CompositionEvent for more information on composition.\n   * @param newValue - new input value\n   * @param oldValue - old input value\n   * @param isComposing - if true then the text is actively being composed and it has not completed.\n   * @param isComposed - if the text is a composed text value.\n   */\n  private _tryEnableAutofill(newValue: string, oldValue: string, isComposing?: boolean, isComposed?: boolean): void {\n    if (\n      !isComposing &&\n      newValue &&\n      this._inputElement.current &&\n      this._inputElement.current.selectionStart === newValue.length &&\n      !this._autoFillEnabled &&\n      (newValue.length > oldValue.length || isComposed)\n    ) {\n      this._autoFillEnabled = true;\n    }\n  }\n\n  private _notifyInputChange(newValue: string, composing: boolean): void {\n    if (this.props.onInputValueChange) {\n      this.props.onInputValueChange(newValue, composing);\n    }\n  }\n\n  /**\n   * Updates the current input value as well as getting a new display value.\n   * @param newValue - The new value from the input\n   */\n  private _updateValue = (newValue: string, composing: boolean) => {\n    // Only proceed if the value is nonempty and is different from the old value\n    // This is to work around the fact that, in IE 11, inputs with a placeholder fire an onInput event on focus\n    if (!newValue && newValue === this._value) {\n      return;\n    }\n    this._value = this.props.onInputChange ? this.props.onInputChange(newValue, composing) : newValue;\n    this.setState(\n      {\n        displayValue: this._getDisplayValue(this._value, this.props.suggestedDisplayValue),\n      },\n      () => this._notifyInputChange(this._value, composing),\n    );\n  };\n\n  /**\n   * Returns a string that should be used as the display value.\n   * It evaluates this based on whether or not the suggested value starts with the input value\n   * and whether or not autofill is enabled.\n   * @param inputValue - the value that the input currently has.\n   * @param suggestedDisplayValue - the possible full value\n   */\n  private _getDisplayValue(inputValue: string, suggestedDisplayValue?: string): string {\n    let displayValue = inputValue;\n    if (\n      suggestedDisplayValue &&\n      inputValue &&\n      this._doesTextStartWith(suggestedDisplayValue, displayValue) &&\n      this._autoFillEnabled\n    ) {\n      displayValue = suggestedDisplayValue;\n    }\n    return displayValue;\n  }\n\n  private _doesTextStartWith(text: string, startWith: string): boolean {\n    if (!text || !startWith) {\n      return false;\n    }\n    return text.toLocaleLowerCase().indexOf(startWith.toLocaleLowerCase()) === 0;\n  }\n}\n\n/**\n *  @deprecated do not use.\n * {@docCategory Autofill}\n */\nexport class BaseAutoFill extends Autofill {}\n","/* tslint:disable */\nimport { loadStyles } from '@microsoft/load-themed-styles';\nloadStyles([{\"rawString\":\".pickerText_f111a418{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid;min-width:180px;min-height:30px}.pickerText_f111a418:hover{border-color:\"},{\"theme\":\"inputBorderHovered\",\"defaultValue\":\"#323130\"},{\"rawString\":\"}.pickerText_f111a418.inputFocused_f111a418{position:relative;border-color:\"},{\"theme\":\"inputFocusBorderAlt\",\"defaultValue\":\"#0078d4\"},{\"rawString\":\"}.pickerText_f111a418.inputFocused_f111a418:after{pointer-events:none;content:\\\"\\\";position:absolute;left:-1px;top:-1px;bottom:-1px;right:-1px;border:2px solid}.pickerInput_f111a418{height:34px;border:none;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;outline:none;padding:0 6px;-ms-flex-item-align:end;align-self:flex-end}.pickerItems_f111a418{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:100%}.screenReaderOnly_f111a418{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}\"}]);\nexport const pickerText = \"pickerText_f111a418\";\nexport const inputFocused = \"inputFocused_f111a418\";\nexport const pickerInput = \"pickerInput_f111a418\";\nexport const pickerItems = \"pickerItems_f111a418\";\nexport const screenReaderOnly = \"screenReaderOnly_f111a418\";","import * as React from 'react';\nimport {\n  Async,\n  KeyCodes,\n  css,\n  elementContains,\n  getId,\n  classNamesFunction,\n  styled,\n  initializeComponentRef,\n} from '../../Utilities';\nimport { IProcessedStyleSet } from '../../Styling';\nimport { IFocusZone, FocusZone, FocusZoneDirection } from '../../FocusZone';\nimport { Callout, DirectionalHint } from '../../Callout';\nimport { Selection, SelectionZone, SelectionMode } from '../../utilities/selection/index';\nimport { Suggestions } from './Suggestions/Suggestions';\nimport {\n  ISuggestions,\n  ISuggestionsProps,\n  ISuggestionsStyleProps,\n  ISuggestionsStyles,\n} from './Suggestions/Suggestions.types';\nimport { getStyles as suggestionsStyles } from './Suggestions/Suggestions.styles';\nimport { SuggestionsController } from './Suggestions/SuggestionsController';\nimport {\n  IBasePicker,\n  IBasePickerProps,\n  ValidationState,\n  IBasePickerStyleProps,\n  IBasePickerStyles,\n} from './BasePicker.types';\nimport { IAutofill, Autofill } from '../Autofill/index';\nimport { IPickerItemProps } from './PickerItem.types';\nimport * as stylesImport from './BasePicker.scss';\nconst legacyStyles: any = stylesImport;\n\nexport interface IBasePickerState {\n  items?: any;\n  suggestedDisplayValue?: string;\n  moreSuggestionsAvailable?: boolean;\n  isFocused?: boolean;\n  isSearching?: boolean;\n  isMostRecentlyUsedVisible?: boolean;\n  suggestionsVisible?: boolean;\n  suggestionsLoading?: boolean;\n  isResultsFooterVisible?: boolean;\n  selectedIndices?: number[];\n}\n\n/**\n * Aria id's for internal picker components\n * {@docCategory Pickers}\n */\nexport type IPickerAriaIds = {\n  /**\n   * Aria id for selected suggestion alert component\n   */\n  selectedSuggestionAlert: string;\n  /**\n   * Aria id for selected items container component\n   */\n  selectedItems: string;\n  /**\n   * Aria id for suggestions list component\n   */\n  suggestionList: string;\n};\n\nconst getClassNames = classNamesFunction<IBasePickerStyleProps, IBasePickerStyles>();\n\n/**\n * Should be removed once new picker without inheritance is created\n */\nfunction getStyledSuggestions<T>(suggestionsType: new (props: ISuggestionsProps<T>) => Suggestions<T>) {\n  return styled<ISuggestionsProps<any>, ISuggestionsStyleProps, ISuggestionsStyles>(\n    suggestionsType,\n    suggestionsStyles,\n    undefined,\n    {\n      scope: 'Suggestions',\n    },\n  );\n}\n\n/**\n * {@docCategory Pickers}\n */\nexport class BasePicker<T, P extends IBasePickerProps<T>> extends React.Component<P, IBasePickerState>\n  implements IBasePicker<T> {\n  // Refs\n  protected root = React.createRef<HTMLDivElement>();\n  protected input = React.createRef<IAutofill>();\n  protected focusZone = React.createRef<IFocusZone>();\n  protected suggestionElement = React.createRef<ISuggestions<T>>();\n\n  protected selection: Selection;\n  protected suggestionStore: SuggestionsController<T>;\n  /**\n   * @deprecated this is no longer necessary as typescript now supports generic elements\n   */\n  protected SuggestionOfProperType = Suggestions as new (props: ISuggestionsProps<T>) => Suggestions<T>;\n  protected currentPromise: PromiseLike<any> | undefined;\n  protected _ariaMap: IPickerAriaIds;\n  // tslint:disable-next-line:deprecation\n  private _styledSuggestions = getStyledSuggestions(this.SuggestionOfProperType);\n  private _id: string;\n  private _requestSuggestionsOnClick = false;\n  private _async: Async;\n\n  constructor(basePickerProps: P) {\n    super(basePickerProps);\n\n    initializeComponentRef(this);\n    this._async = new Async(this);\n\n    const items: T[] = basePickerProps.selectedItems || basePickerProps.defaultSelectedItems || [];\n\n    this._id = getId();\n    this._ariaMap = {\n      selectedItems: `selected-items-${this._id}`,\n      selectedSuggestionAlert: `selected-suggestion-alert-${this._id}`,\n      suggestionList: `suggestion-list-${this._id}`,\n    };\n    this.suggestionStore = new SuggestionsController<T>();\n    this.selection = new Selection({ onSelectionChanged: () => this.onSelectionChange() });\n    this.selection.setItems(items);\n    this.state = {\n      items: items,\n      suggestedDisplayValue: '',\n      isMostRecentlyUsedVisible: false,\n      moreSuggestionsAvailable: false,\n      isFocused: false,\n      isSearching: false,\n      selectedIndices: [],\n    };\n  }\n\n  public get items(): T[] {\n    return this.state.items;\n  }\n\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillUpdate(newProps: P, newState: IBasePickerState): void {\n    if (newState.items && newState.items !== this.state.items) {\n      this.selection.setItems(newState.items);\n    }\n  }\n\n  public componentDidMount(): void {\n    this.selection.setItems(this.state.items);\n    this._onResolveSuggestions = this._async.debounce(this._onResolveSuggestions, this.props.resolveDelay);\n  }\n\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillReceiveProps(newProps: P): void {\n    const newItems = newProps.selectedItems;\n\n    if (newItems) {\n      let focusIndex: number;\n\n      // If there are less new items than old items then something was removed and we\n      // should try to keep focus consistent\n      if (newItems.length < this.state.items.length) {\n        focusIndex = this.state.items.indexOf(this.selection.getSelection()[0]);\n      }\n\n      this.setState(\n        {\n          items: newProps.selectedItems,\n        },\n        () => {\n          // Only update the focus if this component is currently focused to ensure that the basepicker\n          // doesn't steal focus from something else.\n          if (this.state.isFocused) {\n            // Need to reset focus in the same that way that we do if an item is selected by a non-controlled component\n            // See _onSelectedItemsUpdated.\n            this.resetFocus(focusIndex);\n          }\n        },\n      );\n    }\n  }\n\n  public componentWillUnmount(): void {\n    if (this.currentPromise) {\n      this.currentPromise = undefined;\n    }\n    this._async.dispose();\n  }\n\n  public focus() {\n    if (this.focusZone.current) {\n      this.focusZone.current.focus();\n    }\n  }\n\n  public focusInput() {\n    if (this.input.current) {\n      this.input.current.focus();\n    }\n  }\n\n  public dismissSuggestions = (ev?: any): void => {\n    const selectItemFunction = () => {\n      if (this.props.onDismiss) {\n        this.props.onDismiss(\n          ev,\n          this.suggestionStore.currentSuggestion ? this.suggestionStore.currentSuggestion.item : undefined,\n        );\n      }\n\n      if (!ev || (ev && !ev.defaultPrevented)) {\n        // Select the first suggestion if one is available when user leaves.\n        if (this.canAddItems() && this.suggestionStore.hasSelectedSuggestion() && this.state.suggestedDisplayValue) {\n          this.addItemByIndex(0);\n        }\n      }\n    };\n\n    if (this.currentPromise) {\n      this.currentPromise.then(() => selectItemFunction());\n    } else {\n      selectItemFunction();\n    }\n\n    this._requestSuggestionsOnClick = false;\n    this.setState({ suggestionsVisible: false });\n  };\n\n  public completeSuggestion(forceComplete?: boolean) {\n    if (this.suggestionStore.hasSelectedSuggestion() && this.input.current) {\n      this.completeSelection(this.suggestionStore.currentSuggestion!.item);\n    } else if (forceComplete) {\n      this._completeGenericSuggestion();\n    }\n  }\n\n  public refocusSuggestions = (keyCode: KeyCodes): void => {\n    this.resetFocus();\n    if (this.suggestionStore.suggestions && this.suggestionStore.suggestions.length > 0) {\n      if (keyCode === KeyCodes.up) {\n        this.suggestionStore.setSelectedSuggestion(this.suggestionStore.suggestions.length - 1);\n      } else if (keyCode === KeyCodes.down) {\n        this.suggestionStore.setSelectedSuggestion(0);\n      }\n    }\n  };\n\n  public render(): JSX.Element {\n    const { suggestedDisplayValue, isFocused, items } = this.state;\n    const { className, inputProps, disabled, theme, styles } = this.props;\n\n    const selectedSuggestionAlertId = this.props.enableSelectedSuggestionAlert\n      ? this._ariaMap.selectedSuggestionAlert\n      : '';\n    const suggestionsAvailable = this.state.suggestionsVisible ? this._ariaMap.suggestionList : '';\n\n    // TODO\n    // Clean this up by leaving only the first part after removing support for SASS.\n    // Currently we can not remove the SASS styles from BasePicker class because it\n    // might be used by consumers who created custom pickers from extending from\n    // this base class and have not used the new 'styles' prop.\n    // We check for 'styles' prop which is going to be injected by the 'styled' HOC\n    // for every other already existing picker variant (PeoplePicker, TagPicker)\n    // so that we can use the CSS-in-JS styles. If the check fails (ex: custom picker),\n    // then we just use the old SASS styles instead.\n    const classNames: Partial<IProcessedStyleSet<IBasePickerStyles>> = styles\n      ? getClassNames(styles, {\n          theme,\n          className,\n          isFocused,\n          disabled,\n          inputClassName: inputProps && inputProps.className,\n        })\n      : {\n          root: css('ms-BasePicker', className ? className : ''),\n          text: css('ms-BasePicker-text', legacyStyles.pickerText, this.state.isFocused && legacyStyles.inputFocused),\n          itemsWrapper: legacyStyles.pickerItems,\n          input: css('ms-BasePicker-input', legacyStyles.pickerInput, inputProps && inputProps.className),\n          screenReaderText: legacyStyles.screenReaderOnly,\n        };\n\n    return (\n      <div ref={this.root} className={classNames.root} onKeyDown={this.onKeyDown} onBlur={this.onBlur}>\n        <FocusZone\n          componentRef={this.focusZone}\n          direction={FocusZoneDirection.bidirectional}\n          shouldEnterInnerZone={this._shouldFocusZoneEnterInnerZone}\n          role={'combobox'}\n          aria-expanded={!!this.state.suggestionsVisible}\n          aria-owns={suggestionsAvailable || undefined}\n          // Dialog is an acceptable child of a combobox according to the aria specs: https://www.w3.org/TR/wai-aria-practices/#combobox\n          // Currently accessibility insights will flag this as not a valid child because the AXE rules are\n          // out of date. Tracking issue: https://github.com/dequelabs/axe-core/issues/1009\n          aria-haspopup={suggestionsAvailable && this.suggestionStore.suggestions.length > 0 ? 'listbox' : 'dialog'}\n        >\n          {this.getSuggestionsAlert(classNames.screenReaderText)}\n          <SelectionZone selection={this.selection} selectionMode={SelectionMode.multiple}>\n            <div className={classNames.text}>\n              {items.length > 0 && (\n                <span id={this._ariaMap.selectedItems} className={classNames.itemsWrapper} role={'list'}>\n                  {this.renderItems()}\n                </span>\n              )}\n              {this.canAddItems() && (\n                <Autofill\n                  spellCheck={false}\n                  {...(inputProps as any)}\n                  className={classNames.input}\n                  componentRef={this.input}\n                  onClick={this.onClick}\n                  onFocus={this.onInputFocus}\n                  onBlur={this.onInputBlur}\n                  onInputValueChange={this.onInputChange}\n                  suggestedDisplayValue={suggestedDisplayValue}\n                  aria-describedby={items.length > 0 ? this._ariaMap.selectedItems : undefined}\n                  aria-controls={`${suggestionsAvailable} ${selectedSuggestionAlertId}` || undefined}\n                  aria-activedescendant={this.getActiveDescendant()}\n                  role={'textbox'}\n                  disabled={disabled}\n                  onInputChange={this.props.onInputChange}\n                />\n              )}\n            </div>\n          </SelectionZone>\n        </FocusZone>\n        {this.renderSuggestions()}\n      </div>\n    );\n  }\n\n  protected canAddItems(): boolean {\n    const { items } = this.state;\n    const { itemLimit } = this.props;\n    return itemLimit === undefined || items.length < itemLimit;\n  }\n\n  protected renderSuggestions(): JSX.Element | null {\n    const StyledTypedSuggestions: React.FunctionComponent<ISuggestionsProps<T>> = this._styledSuggestions;\n\n    return this.state.suggestionsVisible && this.input ? (\n      <Callout\n        isBeakVisible={false}\n        gapSpace={5}\n        target={this.input.current ? this.input.current.inputElement : undefined}\n        onDismiss={this.dismissSuggestions}\n        directionalHint={DirectionalHint.bottomLeftEdge}\n        directionalHintForRTL={DirectionalHint.bottomRightEdge}\n        {...this.props.pickerCalloutProps}\n      >\n        <StyledTypedSuggestions\n          // Assumed to set in derived component's defaultProps\n          onRenderSuggestion={this.props.onRenderSuggestionsItem!}\n          onSuggestionClick={this.onSuggestionClick}\n          onSuggestionRemove={this.onSuggestionRemove}\n          suggestions={this.suggestionStore.getSuggestions()}\n          componentRef={this.suggestionElement}\n          onGetMoreResults={this.onGetMoreResults}\n          moreSuggestionsAvailable={this.state.moreSuggestionsAvailable}\n          isLoading={this.state.suggestionsLoading}\n          isSearching={this.state.isSearching}\n          isMostRecentlyUsedVisible={this.state.isMostRecentlyUsedVisible}\n          isResultsFooterVisible={this.state.isResultsFooterVisible}\n          refocusSuggestions={this.refocusSuggestions}\n          removeSuggestionAriaLabel={this.props.removeButtonAriaLabel}\n          suggestionsListId={this._ariaMap.suggestionList}\n          createGenericItem={this._completeGenericSuggestion}\n          {...this.props.pickerSuggestionsProps}\n        />\n      </Callout>\n    ) : null;\n  }\n\n  protected renderItems(): JSX.Element[] {\n    const { disabled, removeButtonAriaLabel } = this.props;\n    const onRenderItem = this.props.onRenderItem as (props: IPickerItemProps<T>) => JSX.Element;\n\n    const { items, selectedIndices } = this.state;\n    return items.map((item: any, index: number) =>\n      onRenderItem({\n        item,\n        index,\n        key: item.key ? item.key : index,\n        selected: selectedIndices!.indexOf(index) !== -1,\n        onRemoveItem: () => this.removeItem(item, true),\n        disabled: disabled,\n        onItemChange: this.onItemChange,\n        removeButtonAriaLabel: removeButtonAriaLabel,\n      }),\n    );\n  }\n\n  protected resetFocus(index?: number) {\n    const { items } = this.state;\n\n    if (items.length && index! >= 0) {\n      const newEl: HTMLElement | null =\n        this.root.current &&\n        (this.root.current.querySelectorAll('[data-selection-index]')[\n          Math.min(index!, items.length - 1)\n        ] as HTMLElement | null);\n      if (newEl && this.focusZone.current) {\n        this.focusZone.current.focusElement(newEl);\n      }\n    } else if (!this.canAddItems()) {\n      this.resetFocus(items.length - 1);\n    } else {\n      if (this.input.current) {\n        this.input.current.focus();\n      }\n    }\n  }\n\n  protected onSuggestionSelect() {\n    if (this.suggestionStore.currentSuggestion) {\n      const currentValue: string = this.input.current ? this.input.current.value : '';\n      const itemValue: string = this._getTextFromItem(this.suggestionStore.currentSuggestion.item, currentValue);\n      this.setState({ suggestedDisplayValue: itemValue });\n    }\n  }\n\n  protected onSelectionChange() {\n    this.setState({\n      selectedIndices: this.selection.getSelectedIndices(),\n    });\n  }\n\n  protected updateSuggestions(suggestions: any[]) {\n    this.suggestionStore.updateSuggestions(suggestions, 0);\n    this.forceUpdate();\n  }\n\n  protected onEmptyInputFocus() {\n    const emptyResolveSuggestions = this.props.onEmptyResolveSuggestions\n      ? this.props.onEmptyResolveSuggestions\n      : // tslint:disable-next-line:deprecation\n        this.props.onEmptyInputFocus;\n\n    const suggestions = emptyResolveSuggestions!(this.state.items);\n    this.updateSuggestionsList(suggestions);\n  }\n\n  protected updateValue(updatedValue: string) {\n    this._onResolveSuggestions(updatedValue);\n  }\n\n  protected updateSuggestionsList(suggestions: T[] | PromiseLike<T[]>, updatedValue?: string) {\n    const suggestionsArray: T[] = suggestions as T[];\n    const suggestionsPromiseLike: PromiseLike<T[]> = suggestions as PromiseLike<T[]>;\n\n    // Check to see if the returned value is an array, if it is then just pass it into the next function .\n    // If the returned value is not an array then check to see if it's a promise or PromiseLike.\n    // If it is then resolve it asynchronously.\n    if (Array.isArray(suggestionsArray)) {\n      this._updateAndResolveValue(updatedValue, suggestionsArray);\n    } else if (suggestionsPromiseLike && suggestionsPromiseLike.then) {\n      this.setState({\n        suggestionsLoading: true,\n      });\n\n      // Clear suggestions\n      this.suggestionStore.updateSuggestions([]);\n\n      if (updatedValue !== undefined) {\n        this.setState({\n          suggestionsVisible: this._getShowSuggestions(),\n        });\n      } else {\n        this.setState({\n          suggestionsVisible: this.input.current! && this.input.current!.inputElement === document.activeElement,\n        });\n      }\n\n      // Ensure that the promise will only use the callback if it was the most recent one.\n      const promise: PromiseLike<T[]> = (this.currentPromise = suggestionsPromiseLike);\n      promise.then((newSuggestions: T[]) => {\n        if (promise === this.currentPromise) {\n          this._updateAndResolveValue(updatedValue, newSuggestions);\n        }\n      });\n    }\n  }\n\n  protected resolveNewValue(updatedValue: string, suggestions: T[]) {\n    this.updateSuggestions(suggestions);\n    let itemValue: string | undefined = undefined;\n\n    if (this.suggestionStore.currentSuggestion) {\n      itemValue = this._getTextFromItem(this.suggestionStore.currentSuggestion.item, updatedValue);\n    }\n\n    // Only set suggestionloading to false after there has been time for the new suggestions to flow\n    // to the suggestions list. This is to ensure that the suggestions are available before aria-activedescendant\n    // is set so that screen readers will read out the first selected option.\n    this.setState(\n      {\n        suggestedDisplayValue: itemValue,\n        suggestionsVisible: this._getShowSuggestions(),\n      },\n      () => this.setState({ suggestionsLoading: false }),\n    );\n  }\n\n  protected onChange(items?: T[]) {\n    if (this.props.onChange) {\n      (this.props.onChange as any)(items);\n    }\n  }\n\n  protected onInputChange = (value: string): void => {\n    this.updateValue(value);\n    this.setState({\n      moreSuggestionsAvailable: true,\n      isMostRecentlyUsedVisible: false,\n    });\n  };\n\n  protected onSuggestionClick = (ev: React.MouseEvent<HTMLElement>, item: any, index: number): void => {\n    this.addItemByIndex(index);\n    this._requestSuggestionsOnClick = false;\n  };\n\n  protected onSuggestionRemove = (ev: React.MouseEvent<HTMLElement>, item: T, index: number): void => {\n    if (this.props.onRemoveSuggestion) {\n      this.props.onRemoveSuggestion(item);\n    }\n    this.suggestionStore.removeSuggestion(index);\n  };\n\n  protected onInputFocus = (ev: React.FocusEvent<HTMLInputElement | Autofill>): void => {\n    // Only trigger all of the focus if this component isn't already focused.\n    // For example when an item is selected or removed from the selected list it should be treated\n    // as though the input is still focused.\n    if (!this.state.isFocused) {\n      this.setState({ isFocused: true });\n      this.selection.setAllSelected(false);\n\n      if (\n        this.input.current &&\n        this.input.current.value === '' &&\n        // tslint:disable-next-line:deprecation\n        (this.props.onEmptyResolveSuggestions || this.props.onEmptyInputFocus) &&\n        !this._requestSuggestionsOnClick\n      ) {\n        this.onEmptyInputFocus();\n        this.setState({\n          isMostRecentlyUsedVisible: true,\n          moreSuggestionsAvailable: false,\n          suggestionsVisible: true,\n        });\n      } else if (this.input.current && this.input.current.value && !this._requestSuggestionsOnClick) {\n        this.setState({\n          isMostRecentlyUsedVisible: false,\n          suggestionsVisible: true,\n        });\n      }\n      if (this.props.inputProps && this.props.inputProps.onFocus) {\n        this.props.inputProps.onFocus(ev as React.FocusEvent<HTMLInputElement>);\n      }\n    }\n  };\n\n  protected onInputBlur = (ev: React.FocusEvent<HTMLInputElement | Autofill>): void => {\n    if (this.props.inputProps && this.props.inputProps.onBlur) {\n      this.props.inputProps.onBlur(ev as React.FocusEvent<HTMLInputElement>);\n    }\n  };\n\n  protected onBlur = (ev: React.FocusEvent<HTMLElement | Autofill>): void => {\n    if (this.state.isFocused) {\n      // Only blur the entire component if an unrelated element gets focus.\n      // Otherwise treat it as though it still has focus.\n      // Do nothing if the blur is coming from something\n      // inside the comboBox root or the comboBox menu since\n      // it we are not really bluring from the whole comboBox\n      let relatedTarget: EventTarget | null = ev.relatedTarget;\n\n      if (ev.relatedTarget === null) {\n        // In IE11, due to lack of support, event.relatedTarget is always\n        // null making every onBlur call to be \"outside\" of the ComboBox\n        // even when it's not. Using document.activeElement is another way\n        // for us to be able to get what the relatedTarget without relying\n        // on the event\n        relatedTarget = document.activeElement;\n      }\n      if (relatedTarget && !elementContains(this.root.current!, relatedTarget as HTMLElement)) {\n        this.setState({ isFocused: false });\n        if (this.props.onBlur) {\n          this.props.onBlur(ev as React.FocusEvent<HTMLInputElement>);\n        }\n      }\n    }\n  };\n\n  /**\n   * Reveals suggestions any time the user clicks on the input element\n   * without shifting focus.\n   */\n  protected onClick = (ev: React.MouseEvent<HTMLInputElement>): void => {\n    const input = this.input.current ? this.input.current.value : '';\n\n    if (this.props.inputProps !== undefined && this.props.inputProps.onClick !== undefined) {\n      this.props.inputProps.onClick(ev);\n    }\n\n    // Only primary (left) clicks show suggestions.\n    if (ev.button === 0 && !this.state.suggestionsVisible) {\n      const emptyResolveSuggestions = this.props.onEmptyResolveSuggestions\n        ? this.props.onEmptyResolveSuggestions\n        : // tslint:disable-next-line:deprecation\n          this.props.onEmptyInputFocus;\n\n      if (input === '') {\n        if (emptyResolveSuggestions) {\n          this.setState({ suggestionsVisible: true });\n          const suggestions = emptyResolveSuggestions!(this.state.items);\n          this.updateSuggestionsList(suggestions);\n        }\n      } else {\n        this._requestSuggestionsOnClick = true;\n        this._onResolveSuggestions(input);\n      }\n    }\n  };\n\n  protected onKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    const keyCode = ev.which;\n    switch (keyCode) {\n      case KeyCodes.escape:\n        if (this.state.suggestionsVisible) {\n          this._requestSuggestionsOnClick = false;\n          this.setState({ suggestionsVisible: false });\n          ev.preventDefault();\n          ev.stopPropagation();\n        }\n        break;\n\n      case KeyCodes.tab:\n      case KeyCodes.enter:\n        if (this.suggestionElement.current && this.suggestionElement.current.hasSuggestedActionSelected()) {\n          this.suggestionElement.current.executeSelectedAction();\n        } else if (!ev.shiftKey && this.suggestionStore.hasSelectedSuggestion() && this.state.suggestionsVisible) {\n          this.completeSuggestion();\n          ev.preventDefault();\n          ev.stopPropagation();\n        } else {\n          this._completeGenericSuggestion();\n        }\n\n        break;\n\n      case KeyCodes.backspace:\n        if (!this.props.disabled) {\n          this.onBackspace(ev);\n        }\n        ev.stopPropagation();\n        break;\n\n      case KeyCodes.del:\n        if (!this.props.disabled) {\n          if (\n            this.input.current &&\n            ev.target === this.input.current.inputElement &&\n            this.state.suggestionsVisible &&\n            this.suggestionStore.currentIndex !== -1\n          ) {\n            if (this.props.onRemoveSuggestion) {\n              this.props.onRemoveSuggestion(this.suggestionStore.currentSuggestion!.item);\n            }\n            this.suggestionStore.removeSuggestion(this.suggestionStore.currentIndex);\n            this.forceUpdate();\n          } else {\n            this.onBackspace(ev);\n          }\n        }\n        ev.stopPropagation();\n        break;\n\n      case KeyCodes.up:\n        if (this.input.current && ev.target === this.input.current.inputElement && this.state.suggestionsVisible) {\n          if (\n            this.suggestionElement.current &&\n            this.suggestionElement.current.tryHandleKeyDown(keyCode, this.suggestionStore.currentIndex)\n          ) {\n            ev.preventDefault();\n            ev.stopPropagation();\n          } else {\n            if (\n              this.suggestionElement.current &&\n              this.suggestionElement.current.hasSuggestedAction() &&\n              this.suggestionStore.currentIndex === 0\n            ) {\n              ev.preventDefault();\n              ev.stopPropagation();\n              this.suggestionElement.current.focusAboveSuggestions();\n              this.suggestionStore.deselectAllSuggestions();\n              this.forceUpdate();\n            } else {\n              if (this.suggestionStore.previousSuggestion()) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                this.onSuggestionSelect();\n              }\n            }\n          }\n        }\n        break;\n\n      case KeyCodes.down:\n        if (this.input.current && ev.target === this.input.current.inputElement && this.state.suggestionsVisible) {\n          if (\n            this.suggestionElement.current &&\n            this.suggestionElement.current.tryHandleKeyDown(keyCode, this.suggestionStore.currentIndex)\n          ) {\n            ev.preventDefault();\n            ev.stopPropagation();\n          } else {\n            if (\n              this.suggestionElement.current &&\n              this.suggestionElement.current.hasSuggestedAction() &&\n              this.suggestionStore.currentIndex + 1 === this.suggestionStore.suggestions.length\n            ) {\n              ev.preventDefault();\n              ev.stopPropagation();\n              this.suggestionElement.current.focusBelowSuggestions();\n              this.suggestionStore.deselectAllSuggestions();\n              this.forceUpdate();\n            } else {\n              if (this.suggestionStore.nextSuggestion()) {\n                ev.preventDefault();\n                ev.stopPropagation();\n                this.onSuggestionSelect();\n              }\n            }\n          }\n        }\n        break;\n    }\n  };\n\n  protected onItemChange = (changedItem: T, index: number): void => {\n    const { items } = this.state;\n\n    if (index >= 0) {\n      const newItems: T[] = items;\n      newItems[index] = changedItem;\n\n      this._updateSelectedItems(newItems);\n    }\n  };\n\n  protected onGetMoreResults = (): void => {\n    this.setState(\n      {\n        isSearching: true,\n      },\n      () => {\n        if (this.props.onGetMoreResults && this.input.current) {\n          const suggestions: T[] | PromiseLike<T[]> = (this.props.onGetMoreResults as any)(\n            this.input.current.value,\n            this.state.items,\n          );\n          const suggestionsArray: T[] = suggestions as T[];\n          const suggestionsPromiseLike: PromiseLike<T[]> = suggestions as PromiseLike<T[]>;\n\n          if (Array.isArray(suggestionsArray)) {\n            this.updateSuggestions(suggestionsArray);\n            this.setState({ isSearching: false });\n          } else if (suggestionsPromiseLike.then) {\n            suggestionsPromiseLike.then((newSuggestions: T[]) => {\n              this.updateSuggestions(newSuggestions);\n              this.setState({ isSearching: false });\n            });\n          }\n        } else {\n          this.setState({ isSearching: false });\n        }\n\n        if (this.input.current) {\n          this.input.current.focus();\n        }\n\n        this.setState({\n          moreSuggestionsAvailable: false,\n          isResultsFooterVisible: true,\n        });\n      },\n    );\n  };\n\n  protected completeSelection = (item: T) => {\n    this.addItem(item);\n    this.updateValue('');\n    if (this.input.current) {\n      this.input.current.clear();\n    }\n    this.setState({ suggestionsVisible: false });\n  };\n\n  protected addItemByIndex = (index: number): void => {\n    this.completeSelection(this.suggestionStore.getSuggestionAtIndex(index).item);\n  };\n\n  protected addItem = (item: T): void => {\n    const processedItem: T | PromiseLike<T> | null = this.props.onItemSelected\n      ? (this.props.onItemSelected as any)(item)\n      : item;\n\n    if (processedItem === null) {\n      return;\n    }\n\n    const processedItemObject: T = processedItem as T;\n    const processedItemPromiseLike: PromiseLike<T> = processedItem as PromiseLike<T>;\n\n    if (processedItemPromiseLike && processedItemPromiseLike.then) {\n      processedItemPromiseLike.then((resolvedProcessedItem: T) => {\n        const newItems: T[] = this.state.items.concat([resolvedProcessedItem]);\n        this._updateSelectedItems(newItems);\n      });\n    } else {\n      const newItems: T[] = this.state.items.concat([processedItemObject]);\n      this._updateSelectedItems(newItems);\n    }\n    this.setState({ suggestedDisplayValue: '' });\n  };\n\n  protected removeItem = (item: IPickerItemProps<T>, focusNextItem?: boolean): void => {\n    const { items } = this.state;\n    const index: number = items.indexOf(item);\n\n    if (index >= 0) {\n      const newItems: T[] = items.slice(0, index).concat(items.slice(index + 1));\n      this._updateSelectedItems(newItems, focusNextItem ? index : undefined);\n    }\n  };\n\n  protected removeItems = (itemsToRemove: any[]): void => {\n    const { items } = this.state;\n    const newItems: T[] = items.filter((item: any) => itemsToRemove.indexOf(item) === -1);\n    const firstItemToRemove = itemsToRemove[0];\n    const index: number = items.indexOf(firstItemToRemove);\n\n    this._updateSelectedItems(newItems, index);\n  };\n\n  // This is protected because we may expect the backspace key to work differently in a different kind of picker.\n  // This lets the subclass override it and provide it's own onBackspace. For an example see the BasePickerListBelow\n  protected onBackspace(ev: React.KeyboardEvent<HTMLElement>) {\n    if (\n      (this.state.items.length && !this.input.current) ||\n      (this.input.current && !this.input.current.isValueSelected && this.input.current.cursorLocation === 0)\n    ) {\n      if (this.selection.getSelectedCount() > 0) {\n        this.removeItems(this.selection.getSelection());\n      } else {\n        this.removeItem(this.state.items[this.state.items.length - 1]);\n      }\n    }\n  }\n\n  protected _shouldFocusZoneEnterInnerZone = (ev: React.KeyboardEvent<HTMLElement>): boolean => {\n    // If suggestions are shown const up/down keys control them, otherwise allow them through to control the focusZone.\n    if (this.state.suggestionsVisible) {\n      switch (ev.which) {\n        case KeyCodes.up:\n        case KeyCodes.down:\n          return true;\n      }\n    }\n\n    if (ev.which === KeyCodes.enter) {\n      return true;\n    }\n\n    return false;\n  };\n\n  protected getActiveDescendant() {\n    const currentIndex = this.suggestionStore.currentIndex;\n    return currentIndex > -1 && !this.state.suggestionsLoading ? 'sug-' + currentIndex : undefined;\n  }\n\n  protected getSuggestionsAlert(suggestionAlertClassName: string = legacyStyles.screenReaderOnly) {\n    const currentIndex = this.suggestionStore.currentIndex;\n    if (this.props.enableSelectedSuggestionAlert) {\n      const selectedSuggestion =\n        currentIndex > -1 ? this.suggestionStore.getSuggestionAtIndex(this.suggestionStore.currentIndex) : undefined;\n      const selectedSuggestionAlertText = selectedSuggestion ? selectedSuggestion.ariaLabel : undefined;\n      return (\n        <div\n          className={suggestionAlertClassName}\n          role=\"alert\"\n          id={this._ariaMap.selectedSuggestionAlert}\n          aria-live=\"assertive\"\n        >\n          {selectedSuggestionAlertText}{' '}\n        </div>\n      );\n    }\n  }\n\n  /**\n   * Takes in the current updated value and either resolves it with the new suggestions\n   * or if updated value is undefined then it clears out currently suggested items\n   */\n  private _updateAndResolveValue(updatedValue: string | undefined, newSuggestions: T[]) {\n    if (updatedValue !== undefined) {\n      this.resolveNewValue(updatedValue, newSuggestions);\n    } else {\n      this.suggestionStore.updateSuggestions(newSuggestions, -1);\n      if (this.state.suggestionsLoading) {\n        this.setState({\n          suggestionsLoading: false,\n        });\n      }\n    }\n  }\n\n  /**\n   * Controls what happens whenever there is an action that impacts the selected items.\n   * If `selectedItems` is provided, this will act as a controlled component and it will not update its own state.\n   */\n  private _updateSelectedItems(items: T[], focusIndex?: number): void {\n    if (this.props.selectedItems) {\n      // If the component is a controlled component then the controlling component will need to add or remove the items.\n      this.onChange(items);\n    } else {\n      this.setState({ items: items }, () => {\n        this._onSelectedItemsUpdated(items, focusIndex);\n      });\n    }\n  }\n\n  private _onSelectedItemsUpdated(items?: T[], focusIndex?: number): void {\n    this.resetFocus(focusIndex);\n    this.onChange(items);\n  }\n\n  /**\n   * Suggestions are normally shown after the user updates text and the text\n   * is non-empty, but also when the user clicks on the input element.\n   * @returns True if suggestions should be shown.\n   */\n  private _getShowSuggestions(): boolean {\n    const areSuggestionsVisible =\n      this.input.current !== undefined &&\n      this.input.current !== null &&\n      this.input.current.inputElement === document.activeElement &&\n      (this.input.current.value !== '' || this._requestSuggestionsOnClick);\n\n    return areSuggestionsVisible;\n  }\n\n  private _onResolveSuggestions = (updatedValue: string): void => {\n    const suggestions: T[] | PromiseLike<T[]> | null = this.props.onResolveSuggestions(updatedValue, this.state.items);\n\n    if (suggestions !== null) {\n      this.updateSuggestionsList(suggestions, updatedValue);\n    }\n  };\n\n  private _completeGenericSuggestion = (): void => {\n    if (\n      this.props.onValidateInput &&\n      this.input.current &&\n      (this.props.onValidateInput as any)(this.input.current.value) !== ValidationState.invalid &&\n      this.props.createGenericItem\n    ) {\n      const itemToConvert = this.props.createGenericItem(\n        this.input.current.value,\n        this.props.onValidateInput(this.input.current.value),\n      );\n      this.suggestionStore.createGenericSuggestion(itemToConvert);\n      this.completeSuggestion();\n    }\n  };\n\n  private _getTextFromItem(item: T, currentValue?: string): string {\n    if (this.props.getTextFromItem) {\n      return (this.props.getTextFromItem as any)(item, currentValue);\n    } else {\n      return '';\n    }\n  }\n}\n\nexport class BasePickerListBelow<T, P extends IBasePickerProps<T>> extends BasePicker<T, P> {\n  public render(): JSX.Element {\n    const { suggestedDisplayValue, isFocused } = this.state;\n    const { className, inputProps, disabled, theme, styles } = this.props;\n\n    const selectedSuggestionAlertId: string | undefined = this.props.enableSelectedSuggestionAlert\n      ? this._ariaMap.selectedSuggestionAlert\n      : '';\n    const suggestionsAvailable: string | undefined = this.state.suggestionsVisible ? this._ariaMap.suggestionList : '';\n\n    // TODO\n    // Clean this up by leaving only the first part after removing support for SASS.\n    // Currently we can not remove the SASS styles from BasePicker class because it\n    // might be used by consumers who created custom pickers from extending from\n    // this base class and have not used the new 'styles' prop.\n    // We check for 'styles' prop which is going to be injected by the 'styled' HOC\n    // for every other already existing picker variant (PeoplePicker, TagPicker)\n    // so that we can use the CSS-in-JS styles. If the check fails (ex: custom picker),\n    // then we just use the old SASS styles instead.\n    const classNames: Partial<IProcessedStyleSet<IBasePickerStyles>> = styles\n      ? getClassNames(styles, {\n          theme,\n          className,\n          isFocused,\n          inputClassName: inputProps && inputProps.className,\n        })\n      : {\n          root: css('ms-BasePicker', className ? className : ''),\n          text: css('ms-BasePicker-text', legacyStyles.pickerText, this.state.isFocused && legacyStyles.inputFocused),\n          input: css('ms-BasePicker-input', legacyStyles.pickerInput, inputProps && inputProps.className),\n          screenReaderText: legacyStyles.screenReaderOnly,\n        };\n\n    return (\n      <div ref={this.root} onBlur={this.onBlur}>\n        <div className={classNames.root} onKeyDown={this.onKeyDown}>\n          {this.getSuggestionsAlert(classNames.screenReaderText)}\n          <div\n            className={classNames.text}\n            aria-owns={suggestionsAvailable || undefined}\n            aria-expanded={!!this.state.suggestionsVisible}\n            // Dialog is an acceptable child of a combobox according to the aria specs: https://www.w3.org/TR/wai-aria-practices/#combobox\n            // Currently accessibility insights will flag this as not a valid child because the AXE rules are\n            // out of date. Tracking issue: https://github.com/dequelabs/axe-core/issues/1009\n            aria-haspopup={suggestionsAvailable && this.suggestionStore.suggestions.length > 0 ? 'listbox' : 'dialog'}\n            role=\"combobox\"\n          >\n            <Autofill\n              {...(inputProps as any)}\n              className={classNames.input}\n              componentRef={this.input}\n              onFocus={this.onInputFocus}\n              onBlur={this.onInputBlur}\n              onClick={this.onClick}\n              onInputValueChange={this.onInputChange}\n              suggestedDisplayValue={suggestedDisplayValue}\n              aria-activedescendant={this.getActiveDescendant()}\n              role=\"textbox\"\n              disabled={disabled}\n              aria-controls={`${suggestionsAvailable} ${selectedSuggestionAlertId}` || undefined}\n              onInputChange={this.props.onInputChange}\n            />\n          </div>\n        </div>\n        {this.renderSuggestions()}\n        <SelectionZone selection={this.selection} selectionMode={SelectionMode.single}>\n          <FocusZone\n            componentRef={this.focusZone}\n            className=\"ms-BasePicker-selectedItems\" // just a className hook without any styles applied to it.\n            isCircularNavigation={true}\n            direction={FocusZoneDirection.bidirectional}\n            shouldEnterInnerZone={this._shouldFocusZoneEnterInnerZone}\n            id={this._ariaMap.selectedItems}\n            role={'list'}\n          >\n            {this.renderItems()}\n          </FocusZone>\n        </SelectionZone>\n      </div>\n    );\n  }\n\n  protected onBackspace(ev: React.KeyboardEvent<HTMLElement>) {\n    // override the existing backspace method to not do anything because the list items appear below.\n  }\n}\n","import * as React from 'react';\nimport { IRefObject, IRenderFunction } from '../../Utilities';\nimport { PersonaBase } from './Persona.base';\nimport { ImageLoadState } from '../../Image';\nimport { IStyle, ITheme } from '../../Styling';\nimport { IStyleFunctionOrObject } from '../../Utilities';\nimport { PersonaCoinBase } from './PersonaCoin/PersonaCoin.base';\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersona {}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaSharedProps extends React.HTMLAttributes<PersonaBase | PersonaCoinBase | HTMLDivElement> {\n  /**\n   * Primary text to display, usually the name of the person.\n   */\n  text?: string;\n\n  /**\n   * Decides the size of the control.\n   * @defaultvalue PersonaSize.size48\n   */\n  size?: PersonaSize;\n\n  /**\n   * Optional custom renderer for the coin\n   * @deprecated Use `onRenderPersonaCoin` for custom rendering instead\n   */\n  onRenderCoin?: IRenderFunction<IPersonaSharedProps>;\n\n  /**\n   * Optional custom renderer for the coin\n   */\n  onRenderPersonaCoin?: IRenderFunction<IPersonaSharedProps>;\n\n  /**\n   * If true, adds the css class 'is-fadeIn' to the image.\n   */\n  imageShouldFadeIn?: boolean;\n\n  /**\n   * If true, the image starts as visible and is hidden on error. Otherwise, the image is hidden until\n   * it is successfully loaded. This disables imageShouldFadeIn.\n   * @defaultvalue false\n   */\n  imageShouldStartVisible?: boolean;\n\n  /**\n   * Url to the image to use, should be a square aspect ratio and big enough to fit in the image area.\n   */\n  imageUrl?: string;\n\n  /**\n   * Alt text for the image to use. Defaults to an empty string.\n   */\n  imageAlt?: string;\n\n  /**\n   * The user's initials to display in the image area when there is no image.\n   * @defaultvalue [Derived from text]\n   */\n  imageInitials?: string;\n\n  /**\n   * Whether initials are calculated for phone numbers and number sequences.\n   * Example: Set property to true to get initials for project names consisting of numbers only.\n   * @defaultvalue false\n   */\n  allowPhoneInitials?: boolean;\n\n  /**\n   * Optional custom renderer for the initials\n   */\n  onRenderInitials?: IRenderFunction<IPersonaSharedProps>;\n\n  /**\n   * Optional callback for when loading state of the photo changes\n   */\n  onPhotoLoadingStateChange?: (newImageLoadState: ImageLoadState) => void;\n\n  /**\n   * The background color when the user's initials are displayed.\n   * @defaultvalue [Derived from text]\n   */\n  initialsColor?: PersonaInitialsColor | string;\n\n  /** The colors to be used for the presence-icon and it's background */\n  presenceColors?: {\n    available: string;\n    away: string;\n    busy: string;\n    dnd: string;\n    offline: string;\n    oof: string;\n    background: string;\n  };\n\n  /**\n   * Presence of the person to display - will not display presence if undefined.\n   * @defaultvalue PersonaPresence.none\n   */\n  presence?: PersonaPresence;\n\n  /**\n   * Presence title to be shown as a tooltip on hover over the presence icon.\n   */\n  presenceTitle?: string;\n\n  /**\n   * This flag can be used to signal the persona is out of office.\n   * This will change the way the presence icon looks for statuses that support dual-presence.\n   */\n  isOutOfOffice?: boolean;\n\n  /**\n   * Secondary text to display, usually the role of the user.\n   */\n  secondaryText?: string;\n\n  /**\n   * Tertiary text to display, usually the status of the user.\n   * The tertiary text will only be shown when using size72 or size100.\n   */\n  tertiaryText?: string;\n\n  /**\n   * Optional text to display, usually a custom message set. The optional text will only be shown when using size100.\n   */\n  optionalText?: string;\n\n  /**\n   * Whether to not render persona details, and just render the persona image/initials.\n   */\n  hidePersonaDetails?: boolean;\n\n  /*\n   * If true, show the secondary text line regardless of the size of the persona\n   */\n  showSecondaryText?: boolean;\n\n  /**\n   * If true, show the special coin for unknown persona.\n   * It has '?' in place of initials, with static font and background colors\n   */\n  showUnknownPersonaCoin?: boolean;\n\n  /**\n   * If true renders the initials while the image is loading.\n   * This only applies when an imageUrl is provided.\n   * @defaultvalue false\n   */\n  showInitialsUntilImageLoads?: boolean;\n\n  /**\n   * Optional custom persona coin size in pixel.\n   */\n  coinSize?: number;\n\n  /**\n   * Optional HTML element props for Persona coin.\n   */\n  coinProps?: IPersonaCoinProps;\n\n  /**\n   * Theme provided by High-Order Component.\n   */\n  theme?: ITheme;\n\n  /**\n   * Primary text to display, usually the name of the person.\n   * @deprecated Use `text` instead.\n   */\n  primaryText?: string;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaProps extends IPersonaSharedProps {\n  /**\n   * Optional callback to access the IPersona interface. Use this instead of ref for accessing\n   * the public methods and properties of the component.\n   */\n  componentRef?: IRefObject<IPersona>;\n\n  /**\n   * Additional CSS class(es) to apply to the Persona\n   */\n  className?: string;\n\n  /**\n   * Call to provide customized styling that will layer on top of variant rules\n   */\n  styles?: IStyleFunctionOrObject<IPersonaStyleProps, IPersonaStyles>;\n\n  /**\n   * Optional custom renderer for the primary text.\n   */\n  onRenderPrimaryText?: IRenderFunction<IPersonaProps>;\n\n  /**\n   * Optional custom renderer for the secondary text.\n   */\n  onRenderSecondaryText?: IRenderFunction<IPersonaProps>;\n\n  /**\n   * Optional custom renderer for the tertiary text.\n   */\n  onRenderTertiaryText?: IRenderFunction<IPersonaProps>;\n\n  /**\n   * Optional custom renderer for the optional text.\n   */\n  onRenderOptionalText?: IRenderFunction<IPersonaProps>;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaStyleProps {\n  /**\n   * Theme provided by High-Order Component.\n   */\n  theme: ITheme;\n\n  /**\n   * Custom class name.\n   */\n  className?: string;\n\n  /**\n   * Optional custom persona coin size in pixel.\n   */\n  coinSize?: number;\n\n  /**\n   * Decides the size of the control.\n   * @defaultvalue PersonaSize.size48\n   */\n  size?: PersonaSize;\n\n  /**\n   * Presence of the person to display - will not display presence if undefined.\n   * @defaultvalue PersonaPresence.none\n   */\n  presence?: PersonaPresence;\n\n  /*\n   * If true, show the secondary text line regardless of the size of the persona\n   */\n  showSecondaryText?: boolean;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaStyles {\n  root: IStyle;\n  details: IStyle;\n  primaryText: IStyle;\n  secondaryText: IStyle;\n  tertiaryText: IStyle;\n  optionalText: IStyle;\n  textContent: IStyle;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaCoinProps extends IPersonaSharedProps {\n  /**\n   * Gets the component ref.\n   */\n  componentRef?: IRefObject<{}>;\n\n  /**\n   * Call to provide customized styling that will layer on top of the variant rules\n   */\n  styles?: IStyleFunctionOrObject<IPersonaCoinStyleProps, IPersonaCoinStyles>;\n\n  /**\n   * Additional css class to apply to the PersonaCoin\n   * @defaultvalue undefined\n   */\n  className?: string;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaCoinStyleProps {\n  /**\n   * Theme provided by High-Order Component.\n   */\n  theme: ITheme;\n\n  /**\n   * Custom class name.\n   */\n  className?: string;\n\n  /**\n   * Decides the size of the control.\n   * @defaultvalue PersonaSize.size48\n   */\n  size?: PersonaSize;\n\n  /**\n   * Optional custom persona coin size in pixel.\n   */\n  coinSize?: number;\n\n  /**\n   * Decides whether to display coin for unknown persona\n   */\n  showUnknownPersonaCoin?: boolean;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaCoinStyles {\n  coin: IStyle;\n  imageArea: IStyle;\n  image: IStyle;\n  initials: IStyle;\n  size10WithoutPresenceIcon: IStyle;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaPresenceProps extends IPersonaSharedProps {\n  /**\n   * Gets the component ref.\n   */\n  componentRef?: IRefObject<{}>;\n\n  /**\n   * Call to provide customized styling that will layer on top of the variant rules\n   */\n  styles?: IStyleFunctionOrObject<IPersonaPresenceStyleProps, IPersonaPresenceStyles>;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport type IPersonaPresenceStyleProps = Required<Pick<IPersonaSharedProps, 'theme'>> &\n  Pick<IPersonaSharedProps, 'presence' | 'isOutOfOffice' | 'size' | 'presenceColors'> &\n  Pick<IPersonaProps, 'className'>;\n\n/**\n * {@docCategory Persona}\n */\nexport interface IPersonaPresenceStyles {\n  presence: IStyle;\n  presenceIcon: IStyle;\n}\n\n/**\n * {@docCategory Persona}\n */\nexport enum PersonaSize {\n  /**\n   * `tiny` size has been deprecated in favor of standardized numeric sizing. Use `size8` instead.\n   * @deprecated Use `size8` instead.\n   */\n  tiny = 0,\n\n  /**\n   *\n   * `extraExtraSmall` size has been deprecated in favor of standardized numeric sizing. Use `size24` instead.\n   * @deprecated Use `size24` instead.\n   */\n  extraExtraSmall = 1,\n\n  /**\n   * `extraSmall` size has been deprecated in favor of standardized numeric sizing. Use `size32` instead.\n   * @deprecated Use `size32` instead.\n   */\n  extraSmall = 2,\n\n  /**\n   * `small` size has been deprecated in favor of standardized numeric sizing. Use `size40` instead.\n   * @deprecated Use `size40` instead.\n   */\n  small = 3,\n\n  /**\n   * `regular` size has been deprecated in favor of standardized numeric sizing. Use `size48` instead.\n   * @deprecated Use `size48` instead.\n   */\n  regular = 4,\n\n  /**\n   * `large` size has been deprecated in favor of standardized numeric sizing. Use `size72` instead.\n   * @deprecated Use `size72` instead.\n   */\n  large = 5,\n\n  /**\n   * `extraLarge` size has been deprecated in favor of standardized numeric sizing. Use `size100` instead.\n   * @deprecated Use `size100` instead.\n   */\n  extraLarge = 6,\n\n  /**\n   * No `PersonaCoin` is rendered.\n   */\n  size8 = 17,\n\n  /**\n   * No `PersonaCoin` is rendered. Deprecated in favor of `size8` to align with design specifications.\n   * @deprecated Use `size8` instead. Will be removed in a future major release.\n   */\n  size10 = 9,\n\n  /**\n   * Renders a 16px `PersonaCoin`. Deprecated due to not being in the design specification.\n   * @deprecated Will be removed in a future major release.\n   */\n  size16 = 8,\n\n  /**\n   * Renders a 24px `PersonaCoin`.\n   */\n  size24 = 10,\n\n  /**\n   * Renders a 28px `PersonaCoin`. Deprecated due to not being in the design specification.\n   * @deprecated Will be removed in a future major release.\n   */\n  size28 = 7,\n\n  /**\n   * Renders a 32px `PersonaCoin`.\n   */\n  size32 = 11,\n\n  /**\n   * Renders a 40px `PersonaCoin`.\n   */\n  size40 = 12,\n\n  /**\n   * Renders a 48px `PersonaCoin`.\n   */\n  size48 = 13,\n\n  /**\n   * Renders a 56px `PersonaCoin`.\n   */\n  size56 = 16,\n\n  /**\n   * Renders a 72px `PersonaCoin`.\n   */\n  size72 = 14,\n\n  /**\n   * Renders a 100px `PersonaCoin`.\n   */\n  size100 = 15,\n\n  /**\n   * Renders a 120px `PersonaCoin`.\n   */\n  size120 = 18,\n}\n\n/**\n * {@docCategory Persona}\n */\nexport enum PersonaPresence {\n  none = 0,\n  offline = 1,\n  online = 2,\n  away = 3,\n  dnd = 4,\n  blocked = 5,\n  busy = 6,\n}\n\n/**\n * {@docCategory Persona}\n */\nexport enum PersonaInitialsColor {\n  lightBlue = 0,\n  blue = 1,\n  darkBlue = 2,\n  teal = 3,\n  lightGreen = 4,\n  green = 5,\n  darkGreen = 6,\n  lightPink = 7,\n  pink = 8,\n  magenta = 9,\n  purple = 10,\n  /**\n   * Black can result in offensive persona coins with some initials combinations, so it can only be set with overrides.\n   * @deprecated will be removed in a future major release.\n   */\n  black = 11,\n  orange = 12,\n  /**\n   * Red often has a special meaning, so it is considered a reserved color and can only be set with overrides.\n   * @deprecated will be removed in a future major release.\n   */\n  red = 13,\n  darkRed = 14,\n  /**\n   * Transparent is not intended to be used with typical initials due to accessibility issues.\n   * Its primary use is for overflow buttons, so it is considered a reserved color and can only be set with overrides.\n   */\n  transparent = 15,\n  violet = 16,\n  lightRed = 17,\n  gold = 18,\n  burgundy = 19,\n  warmGray = 20,\n  coolGray = 21,\n  /**\n   * Gray can result in offensive persona coins with some initials combinations, so it can only be set with overrides.\n   */\n  gray = 22,\n  cyan = 23,\n  rust = 24,\n}\n","import { PersonaPresence, PersonaSize } from './Persona.types';\n\n// Persona Sizes\nexport namespace personaSize {\n  export const size8 = '20px';\n  // TODO: remove in a future major release as it's deprecated.\n  export const size10 = '20px';\n  // TODO: remove in a future major release as it's deprecated.\n  export const size16 = '16px';\n  export const size24 = '24px';\n  // TODO: remove in a future major release as it's deprecated.\n  export const size28 = '28px';\n  export const size32 = '32px';\n  export const size40 = '40px';\n  export const size48 = '48px';\n  export const size56 = '56px';\n  export const size72 = '72px';\n  export const size100 = '100px';\n  export const size120 = '120px';\n}\n\n// Persona Presence Sizes\nexport namespace personaPresenceSize {\n  export const size6 = '6px';\n  export const size8 = '8px';\n  export const size12 = '12px';\n  export const size16 = '16px';\n  export const size20 = '20px';\n  export const size28 = '28px';\n  export const size32 = '32px';\n\n  /**\n   * @deprecated This is now unused\n   */\n  export const border = '2px';\n}\n\n// TODO: remove the deprecated parts in a future major release.\nexport const sizeBoolean = (size: PersonaSize) => ({\n  isSize8: size === PersonaSize.size8,\n  // tslint:disable:deprecation\n  isSize10: size === PersonaSize.size10 || size === PersonaSize.tiny,\n  isSize16: size === PersonaSize.size16,\n  isSize24: size === PersonaSize.size24 || size === PersonaSize.extraExtraSmall,\n  isSize28: size === PersonaSize.size28 || size === PersonaSize.extraSmall,\n  isSize32: size === PersonaSize.size32,\n  isSize40: size === PersonaSize.size40 || size === PersonaSize.small,\n  isSize48: size === PersonaSize.size48 || size === PersonaSize.regular,\n  isSize56: size === PersonaSize.size56,\n  isSize72: size === PersonaSize.size72 || size === PersonaSize.large,\n  isSize100: size === PersonaSize.size100 || size === PersonaSize.extraLarge,\n  isSize120: size === PersonaSize.size120,\n});\n\nexport const sizeToPixels: { [key: number]: number } = {\n  // Old deprecated sizes\n  [PersonaSize.tiny]: 10,\n  [PersonaSize.extraExtraSmall]: 24,\n  [PersonaSize.extraSmall]: 28,\n  [PersonaSize.small]: 40,\n  [PersonaSize.regular]: 48,\n  [PersonaSize.large]: 72,\n  [PersonaSize.extraLarge]: 100,\n  // New sizes\n  [PersonaSize.size8]: 8,\n  [PersonaSize.size10]: 10, // TODO: deprecated (not in the design specs)\n  [PersonaSize.size16]: 16, // TODO: deprecated (not in the design specs)\n  [PersonaSize.size24]: 24,\n  [PersonaSize.size28]: 28, // TODO: deprecated (not in the design specs)\n  // tslint:enable:deprecation\n  [PersonaSize.size32]: 32,\n  [PersonaSize.size40]: 40,\n  [PersonaSize.size48]: 48,\n  [PersonaSize.size56]: 56,\n  [PersonaSize.size72]: 72,\n  [PersonaSize.size100]: 100,\n  [PersonaSize.size120]: 120,\n};\n\nexport const presenceBoolean = (presence: PersonaPresence) => ({\n  isAvailable: presence === PersonaPresence.online,\n  isAway: presence === PersonaPresence.away,\n  isBlocked: presence === PersonaPresence.blocked,\n  isBusy: presence === PersonaPresence.busy,\n  isDoNotDisturb: presence === PersonaPresence.dnd,\n  isOffline: presence === PersonaPresence.offline,\n});\n","import * as React from 'react';\nimport { classNamesFunction } from '../../../Utilities';\nimport { Icon } from '../../../Icon';\nimport {\n  IPersonaPresenceProps,\n  IPersonaPresenceStyleProps,\n  IPersonaPresenceStyles,\n  PersonaPresence as PersonaPresenceEnum,\n  PersonaSize,\n} from '../Persona.types';\nimport { sizeBoolean } from '../PersonaConsts';\n\nconst coinSizeFontScaleFactor = 6;\nconst coinSizePresenceScaleFactor = 3;\nconst presenceMaxSize = 40;\nconst presenceFontMaxSize = 20;\n\nconst getClassNames = classNamesFunction<IPersonaPresenceStyleProps, IPersonaPresenceStyles>({\n  // There can be many PersonaPresence rendered with different sizes.\n  // Therefore setting a larger cache size.\n  cacheSize: 100,\n});\n\n/**\n * PersonaPresence with no default styles.\n * [Use the `getStyles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\nexport class PersonaPresenceBase extends React.Component<IPersonaPresenceProps, {}> {\n  constructor(props: IPersonaPresenceProps) {\n    super(props);\n  }\n\n  public render(): JSX.Element | null {\n    const {\n      coinSize,\n      isOutOfOffice,\n      styles, // Use getStyles from props.\n      presence,\n      theme,\n      presenceTitle,\n      presenceColors,\n    } = this.props;\n    const size = sizeBoolean(this.props.size as PersonaSize);\n\n    // Render Presence Icon if Persona is above size 32.\n    const renderIcon =\n      !(size.isSize8 || size.isSize10 || size.isSize16 || size.isSize24 || size.isSize28 || size.isSize32) &&\n      (coinSize ? coinSize > 32 : true);\n\n    const presenceHeightWidth: string = coinSize\n      ? coinSize / coinSizePresenceScaleFactor < presenceMaxSize\n        ? coinSize / coinSizePresenceScaleFactor + 'px'\n        : presenceMaxSize + 'px'\n      : '';\n    const presenceFontSize: string = coinSize\n      ? coinSize / coinSizeFontScaleFactor < presenceFontMaxSize\n        ? coinSize / coinSizeFontScaleFactor + 'px'\n        : presenceFontMaxSize + 'px'\n      : '';\n    const coinSizeWithPresenceIconStyle = coinSize\n      ? { fontSize: presenceFontSize, lineHeight: presenceHeightWidth }\n      : undefined;\n    const coinSizeWithPresenceStyle = coinSize\n      ? { width: presenceHeightWidth, height: presenceHeightWidth }\n      : undefined;\n\n    // Use getStyles from props, or fall back to getStyles from styles file.\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      presence,\n      size: this.props.size,\n      isOutOfOffice,\n      presenceColors,\n    });\n\n    if (presence === PersonaPresenceEnum.none) {\n      return null;\n    }\n\n    return (\n      <div role=\"presentation\" className={classNames.presence} style={coinSizeWithPresenceStyle} title={presenceTitle}>\n        {renderIcon && this._onRenderIcon(classNames.presenceIcon, coinSizeWithPresenceIconStyle)}\n      </div>\n    );\n  }\n\n  private _onRenderIcon = (className?: string, style?: React.CSSProperties): JSX.Element => (\n    <Icon className={className} iconName={determineIcon(this.props.presence, this.props.isOutOfOffice)} style={style} />\n  );\n}\n\nfunction determineIcon(\n  presence: PersonaPresenceEnum | undefined,\n  isOutOfOffice: boolean | undefined,\n): string | undefined {\n  if (!presence) {\n    return undefined;\n  }\n\n  const oofIcon = 'SkypeArrow';\n\n  switch (PersonaPresenceEnum[presence]) {\n    case 'online':\n      return 'SkypeCheck';\n    case 'away':\n      return isOutOfOffice ? oofIcon : 'SkypeClock';\n    case 'dnd':\n      return 'SkypeMinus';\n    case 'offline':\n      return isOutOfOffice ? oofIcon : '';\n  }\n\n  return '';\n}\n","import { IPersonaPresenceStyleProps, IPersonaPresenceStyles, PersonaPresence, PersonaSize } from '../Persona.types';\nimport { HighContrastSelector, getGlobalClassNames, IRawStyle } from '../../../Styling';\nimport { personaPresenceSize, presenceBoolean, sizeBoolean } from '../PersonaConsts';\n\nconst GlobalClassNames = {\n  presence: 'ms-Persona-presence',\n  presenceIcon: 'ms-Persona-presenceIcon',\n};\n\nexport const getStyles = (props: IPersonaPresenceStyleProps): IPersonaPresenceStyles => {\n  const { theme, presenceColors } = props;\n  const { semanticColors, fonts } = theme;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  const size = sizeBoolean(props.size as PersonaSize);\n  const presence = presenceBoolean(props.presence as PersonaPresence);\n\n  // Presence colors\n  const presenceColorAvailable = (presenceColors && presenceColors.available) || '#6BB700';\n  const presenceColorAway = (presenceColors && presenceColors.away) || '#FFAA44';\n  const presenceColorBusy = (presenceColors && presenceColors.busy) || '#C43148';\n  const presenceColorDnd = (presenceColors && presenceColors.dnd) || '#C50F1F';\n  const presenceColorOffline = (presenceColors && presenceColors.offline) || '#8A8886';\n  const presenceColorOof = (presenceColors && presenceColors.oof) || '#B4009E';\n  const presenceColorBackground = (presenceColors && presenceColors.background) || semanticColors.bodyBackground;\n\n  const isOpenCirclePresence =\n    presence.isOffline ||\n    (props.isOutOfOffice && (presence.isAvailable || presence.isBusy || presence.isAway || presence.isDoNotDisturb));\n\n  const borderSizeForSmallPersonas = '1px';\n  const borderSizeForLargePersonas = '2px';\n\n  const borderSize = size.isSize72 || size.isSize100 ? borderSizeForLargePersonas : borderSizeForSmallPersonas;\n\n  return {\n    presence: [\n      classNames.presence,\n      {\n        position: 'absolute',\n        height: personaPresenceSize.size12,\n        width: personaPresenceSize.size12,\n        borderRadius: '50%',\n        top: 'auto',\n        right: '-2px',\n        bottom: '-2px',\n        border: `2px solid ${presenceColorBackground}`,\n        textAlign: 'center',\n        boxSizing: 'content-box',\n        backgroundClip: 'content-box',\n        MsHighContrastAdjust: 'none',\n\n        selectors: {\n          [HighContrastSelector]: {\n            borderColor: 'Window',\n            backgroundColor: 'WindowText',\n          },\n        },\n      },\n\n      (size.isSize8 || size.isSize10) && {\n        right: 'auto',\n        top: '7px',\n        left: 0,\n        border: 0,\n\n        selectors: {\n          [HighContrastSelector]: {\n            top: '9px',\n            border: '1px solid WindowText',\n          },\n        },\n      },\n\n      (size.isSize8 || size.isSize10 || size.isSize24 || size.isSize28 || size.isSize32) &&\n        makeSizeStyle(personaPresenceSize.size8),\n\n      (size.isSize40 || size.isSize48) && makeSizeStyle(personaPresenceSize.size12),\n\n      size.isSize16 && {\n        height: personaPresenceSize.size6,\n        width: personaPresenceSize.size6,\n        borderWidth: '1.5px',\n      },\n\n      size.isSize56 && makeSizeStyle(personaPresenceSize.size16),\n\n      size.isSize72 && makeSizeStyle(personaPresenceSize.size20),\n\n      size.isSize100 && makeSizeStyle(personaPresenceSize.size28),\n\n      size.isSize120 && makeSizeStyle(personaPresenceSize.size32),\n\n      presence.isAvailable && {\n        backgroundColor: presenceColorAvailable,\n\n        selectors: {\n          [HighContrastSelector]: backgroundColor('Highlight'),\n        },\n      },\n\n      presence.isAway && backgroundColor(presenceColorAway),\n\n      presence.isBlocked && [\n        {\n          selectors: {\n            // Only show :after at larger sizes\n            ':after':\n              size.isSize40 || size.isSize48 || size.isSize72 || size.isSize100\n                ? {\n                    content: '\"\"',\n                    width: '100%',\n                    height: borderSize,\n                    backgroundColor: presenceColorBusy,\n                    transform: 'translateY(-50%) rotate(-45deg)',\n                    position: 'absolute',\n                    top: '50%',\n                    left: 0,\n                  }\n                : undefined,\n\n            [HighContrastSelector]: {\n              selectors: {\n                ':after': {\n                  width: `calc(100% - 4px)`,\n                  left: '2px',\n                  backgroundColor: 'Window',\n                },\n              },\n            },\n          },\n        },\n      ],\n\n      presence.isBusy && backgroundColor(presenceColorBusy),\n\n      presence.isDoNotDisturb && backgroundColor(presenceColorDnd),\n\n      presence.isOffline && backgroundColor(presenceColorOffline),\n\n      (isOpenCirclePresence || presence.isBlocked) && [\n        {\n          backgroundColor: presenceColorBackground,\n\n          selectors: {\n            ':before': {\n              content: '\"\"',\n              width: '100%',\n              height: '100%',\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              border: `${borderSize} solid ${presenceColorBusy}`,\n              borderRadius: '50%',\n              boxSizing: 'border-box',\n            },\n            [HighContrastSelector]: {\n              backgroundColor: 'WindowText',\n\n              selectors: {\n                ':before': {\n                  width: `calc(100% - 2px)`,\n                  height: `calc(100% - 2px)`,\n                  top: '1px',\n                  left: '1px',\n                  borderColor: 'Window',\n                },\n              },\n            },\n          },\n        },\n      ],\n\n      isOpenCirclePresence && presence.isAvailable && makeBeforeBorderStyle(borderSize, presenceColorAvailable),\n\n      isOpenCirclePresence && presence.isBusy && makeBeforeBorderStyle(borderSize, presenceColorBusy),\n\n      isOpenCirclePresence && presence.isAway && makeBeforeBorderStyle(borderSize, presenceColorOof),\n\n      isOpenCirclePresence && presence.isDoNotDisturb && makeBeforeBorderStyle(borderSize, presenceColorDnd),\n\n      isOpenCirclePresence && presence.isOffline && makeBeforeBorderStyle(borderSize, presenceColorOffline),\n\n      isOpenCirclePresence &&\n        presence.isOffline &&\n        props.isOutOfOffice &&\n        makeBeforeBorderStyle(borderSize, presenceColorOof),\n    ],\n\n    presenceIcon: [\n      classNames.presenceIcon,\n      {\n        color: presenceColorBackground,\n        fontSize: '6px', // exception case where we don't have an available theme.fonts variable to match it.\n        lineHeight: personaPresenceSize.size12,\n        verticalAlign: 'top',\n\n        selectors: {\n          [HighContrastSelector]: {\n            color: 'Window',\n          },\n        },\n      },\n\n      size.isSize56 && {\n        fontSize: '8px', // exception case where we don't have an available theme.fonts variable to match it.\n        lineHeight: personaPresenceSize.size16,\n      },\n\n      size.isSize72 && {\n        fontSize: fonts.small.fontSize,\n        lineHeight: personaPresenceSize.size20,\n      },\n\n      size.isSize100 && {\n        fontSize: fonts.medium.fontSize,\n        lineHeight: personaPresenceSize.size28,\n      },\n\n      size.isSize120 && {\n        fontSize: fonts.medium.fontSize,\n        lineHeight: personaPresenceSize.size32,\n      },\n\n      presence.isAway && {\n        position: 'relative',\n        left: isOpenCirclePresence ? undefined : '1px',\n      },\n\n      isOpenCirclePresence && presence.isAvailable && makeOpenCircleIconStyle(presenceColorAvailable),\n\n      isOpenCirclePresence && presence.isBusy && makeOpenCircleIconStyle(presenceColorBusy),\n\n      isOpenCirclePresence && presence.isAway && makeOpenCircleIconStyle(presenceColorOof),\n\n      isOpenCirclePresence && presence.isDoNotDisturb && makeOpenCircleIconStyle(presenceColorDnd),\n\n      isOpenCirclePresence && presence.isOffline && makeOpenCircleIconStyle(presenceColorOffline),\n\n      isOpenCirclePresence && presence.isOffline && props.isOutOfOffice && makeOpenCircleIconStyle(presenceColorOof),\n    ],\n  };\n};\n\nfunction makeOpenCircleIconStyle(color: string): IRawStyle {\n  return {\n    color,\n    borderColor: color,\n  };\n}\n\nfunction makeBeforeBorderStyle(borderSize: string, color: string): IRawStyle {\n  return {\n    selectors: {\n      ':before': {\n        border: `${borderSize} solid ${color}`,\n      },\n    },\n  };\n}\n\nfunction makeSizeStyle(size: string): IRawStyle {\n  return {\n    height: size,\n    width: size,\n  };\n}\n\nfunction backgroundColor(color: string): IRawStyle {\n  return { backgroundColor: color };\n}\n","import * as React from 'react';\nimport { styled } from '../../../Utilities';\nimport { IPersonaPresenceProps, IPersonaPresenceStyleProps, IPersonaPresenceStyles } from '../Persona.types';\nimport { PersonaPresenceBase } from './PersonaPresence.base';\nimport { getStyles } from './PersonaPresence.styles';\n\n/**\n * PersonaPresence is used to render an individual's presence.\n */\nexport const PersonaPresence: React.FunctionComponent<IPersonaPresenceProps> = styled<\n  IPersonaPresenceProps,\n  IPersonaPresenceStyleProps,\n  IPersonaPresenceStyles\n>(PersonaPresenceBase, getStyles, undefined, { scope: 'PersonaPresence' });\n","import { PersonaInitialsColor, IPersonaProps } from './Persona.types';\n\n/**\n * Following colors are considered reserved and can only be set with overrides, so they are excluded from this set:\n * - `gray` and `black` can result in offensive persona coins with some initials combinations\n * - `red` often has a special meaning\n * - `transparent` is not intended to be used with typical initials due to accessibility issues;\n *   its primary use is for Facepile overflow buttons.\n */\nconst COLOR_SWATCHES_LOOKUP: PersonaInitialsColor[] = [\n  PersonaInitialsColor.lightBlue,\n  PersonaInitialsColor.blue,\n  PersonaInitialsColor.darkBlue,\n  PersonaInitialsColor.teal,\n  PersonaInitialsColor.green,\n  PersonaInitialsColor.darkGreen,\n  PersonaInitialsColor.lightPink,\n  PersonaInitialsColor.pink,\n  PersonaInitialsColor.magenta,\n  PersonaInitialsColor.purple,\n  PersonaInitialsColor.orange,\n  PersonaInitialsColor.lightRed,\n  PersonaInitialsColor.darkRed,\n  PersonaInitialsColor.violet,\n  PersonaInitialsColor.gold,\n  PersonaInitialsColor.burgundy,\n  PersonaInitialsColor.warmGray,\n  PersonaInitialsColor.cyan,\n  PersonaInitialsColor.rust,\n  PersonaInitialsColor.coolGray,\n];\n\nconst COLOR_SWATCHES_NUM_ENTRIES = COLOR_SWATCHES_LOOKUP.length;\n\nfunction getInitialsColorFromName(displayName: string | undefined): PersonaInitialsColor {\n  let color = PersonaInitialsColor.blue;\n  if (!displayName) {\n    return color;\n  }\n\n  let hashCode = 0;\n  for (let iLen: number = displayName.length - 1; iLen >= 0; iLen--) {\n    const ch: number = displayName.charCodeAt(iLen);\n    const shift: number = iLen % 8;\n    // tslint:disable-next-line:no-bitwise\n    hashCode ^= (ch << shift) + (ch >> (8 - shift));\n  }\n\n  color = COLOR_SWATCHES_LOOKUP[hashCode % COLOR_SWATCHES_NUM_ENTRIES];\n\n  return color;\n}\n\nfunction personaInitialsColorToHexCode(personaInitialsColor: PersonaInitialsColor): string {\n  switch (personaInitialsColor) {\n    case PersonaInitialsColor.lightBlue:\n      return '#4F6BED';\n    case PersonaInitialsColor.blue:\n      return '#0078D4';\n    case PersonaInitialsColor.darkBlue:\n      return '#004E8C';\n    case PersonaInitialsColor.teal:\n      return '#038387';\n    case PersonaInitialsColor.lightGreen:\n    case PersonaInitialsColor.green:\n      return '#498205';\n    case PersonaInitialsColor.darkGreen:\n      return '#0B6A0B';\n    case PersonaInitialsColor.lightPink:\n      return '#C239B3';\n    case PersonaInitialsColor.pink:\n      return '#E3008C';\n    case PersonaInitialsColor.magenta:\n      return '#881798';\n    case PersonaInitialsColor.purple:\n      return '#5C2E91';\n    case PersonaInitialsColor.orange:\n      return '#CA5010';\n    // tslint:disable-next-line:deprecation\n    case PersonaInitialsColor.red:\n      return '#EE1111';\n    case PersonaInitialsColor.lightRed:\n      return '#D13438';\n    case PersonaInitialsColor.darkRed:\n      return '#A4262C';\n    case PersonaInitialsColor.transparent:\n      return 'transparent';\n    case PersonaInitialsColor.violet:\n      return '#8764B8';\n    case PersonaInitialsColor.gold:\n      return '#986F0B';\n    case PersonaInitialsColor.burgundy:\n      return '#750B1C';\n    case PersonaInitialsColor.warmGray:\n      return '#7A7574';\n    case PersonaInitialsColor.cyan:\n      return '#005B70';\n    case PersonaInitialsColor.rust:\n      return '#8E562E';\n    case PersonaInitialsColor.coolGray:\n      return '#69797E';\n    // tslint:disable-next-line:deprecation\n    case PersonaInitialsColor.black:\n      return '#1D1D1D';\n    case PersonaInitialsColor.gray:\n      return '#393939';\n  }\n}\n\n/** @deprecated Use `getPersonaInitialsColor` */\nexport function initialsColorPropToColorCode(props: IPersonaProps): string {\n  return getPersonaInitialsColor(props);\n}\n\n/**\n * Gets the hex color string (prefixed with #) for the given persona props.\n * This is the logic used internally by the Persona control.\n * @param props - Current persona props\n * @returns Hex color string prefixed with #\n */\nexport function getPersonaInitialsColor(props: Pick<IPersonaProps, 'primaryText' | 'text' | 'initialsColor'>): string {\n  // tslint:disable-next-line:deprecation\n  const { primaryText, text } = props;\n  let { initialsColor } = props;\n  let initialsColorCode: string;\n  if (typeof initialsColor === 'string') {\n    initialsColorCode = initialsColor;\n  } else {\n    initialsColor = initialsColor !== undefined ? initialsColor : getInitialsColorFromName(text || primaryText);\n    initialsColorCode = personaInitialsColorToHexCode(initialsColor);\n  }\n\n  return initialsColorCode;\n}\n","import * as React from 'react';\nimport {\n  warnDeprecations,\n  classNamesFunction,\n  divProperties,\n  getInitials,\n  getNativeProps,\n  getRTL,\n} from '../../../Utilities';\nimport { mergeStyles } from '../../../Styling';\nimport { PersonaPresence } from '../PersonaPresence/index';\nimport { Icon } from '../../../Icon';\nimport { Image, ImageFit, ImageLoadState } from '../../../Image';\nimport {\n  IPersonaCoinProps,\n  IPersonaCoinStyleProps,\n  IPersonaCoinStyles,\n  IPersonaPresenceProps,\n  PersonaPresence as PersonaPresenceEnum,\n  PersonaSize,\n} from '../Persona.types';\nimport { getPersonaInitialsColor } from '../PersonaInitialsColor';\nimport { sizeToPixels } from '../PersonaConsts';\n\nconst getClassNames = classNamesFunction<IPersonaCoinStyleProps, IPersonaCoinStyles>({\n  // There can be many PersonaCoin rendered with different sizes.\n  // Therefore setting a larger cache size.\n  cacheSize: 100,\n});\n\nexport interface IPersonaState {\n  isImageLoaded?: boolean;\n  isImageError?: boolean;\n}\n\n/**\n * PersonaCoin with no default styles.\n * [Use the `getStyles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\nexport class PersonaCoinBase extends React.Component<IPersonaCoinProps, IPersonaState> {\n  public static defaultProps: IPersonaCoinProps = {\n    size: PersonaSize.size48,\n    presence: PersonaPresenceEnum.none,\n    imageAlt: '',\n  };\n\n  constructor(props: IPersonaCoinProps) {\n    super(props);\n\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecations('PersonaCoin', props, { primaryText: 'text' });\n    }\n\n    this.state = {\n      isImageLoaded: false,\n      isImageError: false,\n    };\n  }\n\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillReceiveProps(nextProps: IPersonaCoinProps): void {\n    if (nextProps.imageUrl !== this.props.imageUrl) {\n      this.setState({\n        isImageLoaded: false,\n        isImageError: false,\n      });\n    }\n  }\n\n  public render(): JSX.Element | null {\n    const {\n      className,\n      coinProps,\n      showUnknownPersonaCoin,\n      coinSize,\n      styles,\n      imageUrl,\n      isOutOfOffice,\n      // tslint:disable:deprecation\n      onRenderCoin = this._onRenderCoin,\n      onRenderPersonaCoin = onRenderCoin,\n      // tslint:enable:deprecation\n      onRenderInitials = this._onRenderInitials,\n      presence,\n      presenceTitle,\n      presenceColors,\n      showInitialsUntilImageLoads,\n      theme,\n    } = this.props;\n\n    const size = this.props.size as PersonaSize;\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n    const divCoinProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(coinProps || {}, divProperties);\n    const coinSizeStyle = coinSize ? { width: coinSize, height: coinSize } : undefined;\n    const hideImage = showUnknownPersonaCoin;\n\n    const personaPresenceProps: IPersonaPresenceProps = {\n      coinSize,\n      isOutOfOffice,\n      presence,\n      presenceTitle,\n      presenceColors,\n      size,\n      theme,\n    };\n\n    // Use getStyles from props, or fall back to getStyles from styles file.\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className: coinProps && coinProps.className ? coinProps.className : className,\n      size,\n      coinSize,\n      showUnknownPersonaCoin,\n    });\n\n    const shouldRenderInitials = Boolean(\n      !this.state.isImageLoaded &&\n        ((showInitialsUntilImageLoads && imageUrl) || !imageUrl || this.state.isImageError || hideImage),\n    );\n\n    return (\n      <div role=\"presentation\" {...divProps} className={classNames.coin}>\n        {// Render PersonaCoin if size is not size8. size10 and tiny need to removed after a deprecation cleanup.\n        // tslint:disable-next-line:deprecation\n        size !== PersonaSize.size8 && size !== PersonaSize.size10 && size !== PersonaSize.tiny ? (\n          <div role=\"presentation\" {...divCoinProps} className={classNames.imageArea} style={coinSizeStyle}>\n            {shouldRenderInitials && (\n              <div\n                className={mergeStyles(\n                  classNames.initials,\n                  !showUnknownPersonaCoin && { backgroundColor: getPersonaInitialsColor(this.props) },\n                )}\n                style={coinSizeStyle}\n                aria-hidden=\"true\"\n              >\n                {onRenderInitials(this.props, this._onRenderInitials)}\n              </div>\n            )}\n            {!hideImage && onRenderPersonaCoin(this.props, this._onRenderCoin)}\n            <PersonaPresence {...personaPresenceProps} />\n          </div>\n        ) : // Otherwise, render just PersonaPresence.\n        this.props.presence ? (\n          <PersonaPresence {...personaPresenceProps} />\n        ) : (\n          // Just render Contact Icon if there isn't a Presence prop.\n          <Icon iconName=\"Contact\" className={classNames.size10WithoutPresenceIcon} />\n        )}\n        {this.props.children}\n      </div>\n    );\n  }\n\n  private _onRenderCoin = (props: IPersonaCoinProps): JSX.Element | null => {\n    const {\n      coinSize,\n      styles,\n      imageUrl,\n      imageAlt,\n      imageShouldFadeIn,\n      imageShouldStartVisible,\n      theme,\n      showUnknownPersonaCoin,\n    } = this.props;\n\n    // Render the Image component only if an image URL is provided\n    if (!imageUrl) {\n      return null;\n    }\n\n    const size = this.props.size as PersonaSize;\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      size,\n      showUnknownPersonaCoin,\n    });\n\n    const dimension = coinSize || sizeToPixels[size];\n\n    return (\n      <Image\n        className={classNames.image}\n        imageFit={ImageFit.cover}\n        src={imageUrl}\n        width={dimension}\n        height={dimension}\n        alt={imageAlt}\n        shouldFadeIn={imageShouldFadeIn}\n        shouldStartVisible={imageShouldStartVisible}\n        onLoadingStateChange={this._onPhotoLoadingStateChange}\n      />\n    );\n  };\n\n  /**\n   * Deprecation helper for getting text.\n   */\n  private _getText(): string {\n    // tslint:disable-next-line:deprecation\n    return this.props.text || this.props.primaryText || '';\n  }\n\n  private _onRenderInitials = (props: IPersonaCoinProps): JSX.Element => {\n    let { imageInitials } = props;\n    const { allowPhoneInitials, showUnknownPersonaCoin } = props;\n\n    if (showUnknownPersonaCoin) {\n      return <Icon iconName=\"Help\" />;\n    }\n\n    const isRTL = getRTL(this.props.theme);\n\n    imageInitials = imageInitials || getInitials(this._getText(), isRTL, allowPhoneInitials);\n\n    return imageInitials !== '' ? <span>{imageInitials}</span> : <Icon iconName=\"Contact\" />;\n  };\n\n  private _onPhotoLoadingStateChange = (loadState: ImageLoadState) => {\n    this.setState({\n      isImageLoaded: loadState === ImageLoadState.loaded,\n      isImageError: loadState === ImageLoadState.error,\n    });\n\n    this.props.onPhotoLoadingStateChange && this.props.onPhotoLoadingStateChange(loadState);\n  };\n}\n","import { IPersonaCoinStyleProps, IPersonaCoinStyles, PersonaSize } from '../Persona.types';\nimport { HighContrastSelector, FontWeights, getGlobalClassNames } from '../../../Styling';\nimport { sizeBoolean, sizeToPixels } from '../PersonaConsts';\n\nconst GlobalClassNames = {\n  coin: 'ms-Persona-coin',\n  imageArea: 'ms-Persona-imageArea',\n  image: 'ms-Persona-image',\n  initials: 'ms-Persona-initials',\n  size8: 'ms-Persona--size8',\n  size10: 'ms-Persona--size10',\n  size16: 'ms-Persona--size16',\n  size24: 'ms-Persona--size24',\n  size28: 'ms-Persona--size28',\n  size32: 'ms-Persona--size32',\n  size40: 'ms-Persona--size40',\n  size48: 'ms-Persona--size48',\n  size56: 'ms-Persona--size56',\n  size72: 'ms-Persona--size72',\n  size100: 'ms-Persona--size100',\n  size120: 'ms-Persona--size120',\n};\n\nexport const getStyles = (props: IPersonaCoinStyleProps): IPersonaCoinStyles => {\n  const { className, theme, coinSize } = props;\n\n  const { palette, fonts } = theme;\n\n  const size = sizeBoolean(props.size as PersonaSize);\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  // Static colors used when displaying 'unknown persona' coin\n  const unknownPersonaBackgroundColor = 'rgb(234, 234, 234)';\n  const unknownPersonaFontColor = 'rgb(168, 0, 0)';\n\n  const dimension = coinSize || (props.size && sizeToPixels[props.size]) || 48;\n\n  return {\n    coin: [\n      classNames.coin,\n      fonts.medium,\n      size.isSize8 && classNames.size8,\n      size.isSize10 && classNames.size10,\n      size.isSize16 && classNames.size16,\n      size.isSize24 && classNames.size24,\n      size.isSize28 && classNames.size28,\n      size.isSize32 && classNames.size32,\n      size.isSize40 && classNames.size40,\n      size.isSize48 && classNames.size48,\n      size.isSize56 && classNames.size56,\n      size.isSize72 && classNames.size72,\n      size.isSize100 && classNames.size100,\n      size.isSize120 && classNames.size120,\n      className,\n    ],\n\n    size10WithoutPresenceIcon: {\n      fontSize: fonts.xSmall.fontSize,\n      position: 'absolute',\n      top: '5px',\n      right: 'auto',\n      left: 0,\n    },\n\n    imageArea: [\n      classNames.imageArea,\n      {\n        position: 'relative',\n        textAlign: 'center',\n        flex: '0 0 auto',\n        height: dimension,\n        width: dimension,\n      },\n\n      dimension <= 10 && {\n        overflow: 'visible',\n        background: 'transparent',\n        height: 0,\n        width: 0,\n      },\n    ],\n\n    image: [\n      classNames.image,\n      {\n        marginRight: '10px',\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        border: 0,\n        borderRadius: '50%',\n        perspective: '1px',\n      },\n\n      dimension <= 10 && {\n        overflow: 'visible',\n        background: 'transparent',\n        height: 0,\n        width: 0,\n      },\n\n      dimension > 10 && {\n        height: dimension,\n        width: dimension,\n      },\n    ],\n\n    initials: [\n      classNames.initials,\n      {\n        borderRadius: '50%',\n        color: props.showUnknownPersonaCoin ? unknownPersonaFontColor : palette.white,\n        fontSize: fonts.large.fontSize,\n        fontWeight: FontWeights.semibold,\n        // copying the logic for the dimensions; defaulted to 46 for size48\n        lineHeight: dimension === 48 ? 46 : dimension,\n        height: dimension,\n\n        selectors: {\n          [HighContrastSelector]: {\n            border: '1px solid WindowText',\n            MsHighContrastAdjust: 'none',\n            color: 'WindowText',\n            boxSizing: 'border-box',\n            backgroundColor: 'Window !important',\n          },\n          i: {\n            fontWeight: FontWeights.semibold,\n          },\n        },\n      },\n\n      props.showUnknownPersonaCoin && {\n        backgroundColor: unknownPersonaBackgroundColor,\n      },\n\n      dimension < 32 && {\n        fontSize: fonts.xSmall.fontSize,\n      },\n\n      dimension >= 32 &&\n        dimension < 40 && {\n          fontSize: fonts.medium.fontSize,\n        },\n\n      dimension >= 40 &&\n        dimension < 56 && {\n          fontSize: fonts.mediumPlus.fontSize,\n        },\n\n      dimension >= 56 &&\n        dimension < 72 && {\n          fontSize: fonts.xLarge.fontSize,\n        },\n\n      dimension >= 72 &&\n        dimension < 100 && {\n          fontSize: fonts.xxLarge.fontSize,\n        },\n\n      dimension >= 100 && {\n        fontSize: fonts.superLarge.fontSize,\n      },\n    ],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../../Utilities';\nimport { IPersonaCoinProps, IPersonaCoinStyleProps, IPersonaCoinStyles } from '../Persona.types';\nimport { PersonaCoinBase } from './PersonaCoin.base';\nimport { getStyles } from './PersonaCoin.styles';\n\n/**\n * PersonaCoin is used to render an individual's avatar and presence.\n */\nexport const PersonaCoin: React.FunctionComponent<IPersonaCoinProps> = styled<\n  IPersonaCoinProps,\n  IPersonaCoinStyleProps,\n  IPersonaCoinStyles\n>(PersonaCoinBase, getStyles, undefined, {\n  scope: 'PersonaCoin',\n});\n","import * as React from 'react';\nimport { warnDeprecations, classNamesFunction, divProperties, getNativeProps, IRenderFunction } from '../../Utilities';\nimport { TooltipHost, TooltipOverflowMode, DirectionalHint } from '../../Tooltip';\nimport { PersonaCoin } from './PersonaCoin/PersonaCoin';\nimport {\n  IPersonaProps,\n  IPersonaStyleProps,\n  IPersonaStyles,\n  PersonaPresence as PersonaPresenceEnum,\n  PersonaSize,\n  IPersonaCoinProps,\n} from './Persona.types';\n\nconst getClassNames = classNamesFunction<IPersonaStyleProps, IPersonaStyles>();\n\n/**\n * Persona with no default styles.\n * [Use the `styles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\nexport class PersonaBase extends React.Component<IPersonaProps, {}> {\n  public static defaultProps: IPersonaProps = {\n    size: PersonaSize.size48,\n    presence: PersonaPresenceEnum.none,\n    imageAlt: '',\n  };\n\n  constructor(props: IPersonaProps) {\n    super(props);\n\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecations('Persona', props, { primaryText: 'text' });\n    }\n  }\n\n  public render(): JSX.Element {\n    // wrapping default render behavior based on various this.props properties\n    const _onRenderPrimaryText = this._onRenderText(this._getText()),\n      _onRenderSecondaryText = this._onRenderText(this.props.secondaryText),\n      _onRenderTertiaryText = this._onRenderText(this.props.tertiaryText),\n      _onRenderOptionalText = this._onRenderText(this.props.optionalText);\n\n    const {\n      hidePersonaDetails,\n      onRenderOptionalText = _onRenderOptionalText,\n      onRenderPrimaryText = _onRenderPrimaryText,\n      onRenderSecondaryText = _onRenderSecondaryText,\n      onRenderTertiaryText = _onRenderTertiaryText,\n      onRenderPersonaCoin = this._onRenderPersonaCoin,\n    } = this.props;\n    const size = this.props.size as PersonaSize;\n\n    // These properties are to be explicitly passed into PersonaCoin because they are the only props directly used\n    const {\n      allowPhoneInitials,\n      className,\n      coinProps,\n      showUnknownPersonaCoin,\n      coinSize,\n      styles,\n      imageAlt,\n      imageInitials,\n      imageShouldFadeIn,\n      imageShouldStartVisible,\n      imageUrl,\n      initialsColor,\n      isOutOfOffice,\n      onPhotoLoadingStateChange,\n      // tslint:disable-next-line:deprecation\n      onRenderCoin,\n      onRenderInitials,\n      presence,\n      presenceTitle,\n      presenceColors,\n      showInitialsUntilImageLoads,\n      showSecondaryText,\n      theme,\n    } = this.props;\n\n    const personaCoinProps: IPersonaCoinProps = {\n      allowPhoneInitials,\n      showUnknownPersonaCoin,\n      coinSize,\n      imageAlt,\n      imageInitials,\n      imageShouldFadeIn,\n      imageShouldStartVisible,\n      imageUrl,\n      initialsColor,\n      onPhotoLoadingStateChange,\n      onRenderCoin,\n      onRenderInitials,\n      presence,\n      presenceTitle,\n      showInitialsUntilImageLoads,\n      size,\n      text: this._getText(),\n      isOutOfOffice,\n      presenceColors,\n      ...coinProps,\n    };\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className,\n      showSecondaryText,\n      presence,\n      size,\n    });\n\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n    const personaDetails = (\n      <div className={classNames.details}>\n        {this._renderElement(classNames.primaryText, onRenderPrimaryText, _onRenderPrimaryText)}\n        {this._renderElement(classNames.secondaryText, onRenderSecondaryText, _onRenderSecondaryText)}\n        {this._renderElement(classNames.tertiaryText, onRenderTertiaryText, _onRenderTertiaryText)}\n        {this._renderElement(classNames.optionalText, onRenderOptionalText, _onRenderOptionalText)}\n        {this.props.children}\n      </div>\n    );\n\n    return (\n      <div\n        {...divProps}\n        className={classNames.root}\n        style={coinSize ? { height: coinSize, minWidth: coinSize } : undefined}\n      >\n        {onRenderPersonaCoin(personaCoinProps, this._onRenderPersonaCoin)}\n        {// tslint:disable:deprecation\n        (!hidePersonaDetails ||\n          size === PersonaSize.size8 ||\n          size === PersonaSize.size10 ||\n          size === PersonaSize.tiny) &&\n          personaDetails\n        // tslint:enable:deprecation\n        }\n      </div>\n    );\n  }\n\n  /**\n   * Renders various types of Text (primaryText, secondaryText, etc)\n   * based on the classNames passed\n   * @param classNames - element className\n   * @param renderFunction - render function\n   * @param defaultRenderFunction - default render function\n   */\n  private _renderElement(\n    classNames: string,\n    renderFunction: IRenderFunction<IPersonaProps> | undefined,\n    defaultRenderFunction: IRenderFunction<IPersonaProps> | undefined,\n  ): JSX.Element {\n    return (\n      <div dir=\"auto\" className={classNames}>\n        {renderFunction && renderFunction(this.props, defaultRenderFunction)}\n      </div>\n    );\n  }\n\n  /**\n   * Deprecation helper for getting text.\n   */\n  private _getText(): string {\n    // tslint:disable-next-line:deprecation\n    return this.props.text || this.props.primaryText || '';\n  }\n\n  /**\n   * using closure to wrap the default render behavior\n   * to make it independent of the type of text passed\n   * @param text - text to render\n   */\n  private _onRenderText(text: string | undefined): IRenderFunction<IPersonaProps> | undefined {\n    // return default render behaviour for valid text or undefined\n    return text\n      ? (): JSX.Element => {\n          // default onRender behaviour\n          return (\n            <TooltipHost\n              content={text}\n              overflowMode={TooltipOverflowMode.Parent}\n              directionalHint={DirectionalHint.topLeftEdge}\n            >\n              {text}\n            </TooltipHost>\n          );\n        }\n      : undefined;\n  }\n\n  private _onRenderPersonaCoin = (props: IPersonaCoinProps): JSX.Element | null => {\n    return <PersonaCoin {...props} />;\n  };\n}\n","import { IPersonaStyleProps, IPersonaStyles, PersonaPresence, PersonaSize } from './Persona.types';\nimport { FontWeights, IStyle, normalize, noWrap, getGlobalClassNames } from '../../Styling';\nimport { personaSize, presenceBoolean, sizeBoolean } from './PersonaConsts';\n\nconst GlobalClassNames = {\n  root: 'ms-Persona',\n  size8: 'ms-Persona--size8',\n  size10: 'ms-Persona--size10',\n  size16: 'ms-Persona--size16',\n  size24: 'ms-Persona--size24',\n  size28: 'ms-Persona--size28',\n  size32: 'ms-Persona--size32',\n  size40: 'ms-Persona--size40',\n  size48: 'ms-Persona--size48',\n  size56: 'ms-Persona--size56',\n  size72: 'ms-Persona--size72',\n  size100: 'ms-Persona--size100',\n  size120: 'ms-Persona--size120',\n  available: 'ms-Persona--online',\n  away: 'ms-Persona--away',\n  blocked: 'ms-Persona--blocked',\n  busy: 'ms-Persona--busy',\n  doNotDisturb: 'ms-Persona--donotdisturb',\n  offline: 'ms-Persona--offline',\n  details: 'ms-Persona-details',\n  primaryText: 'ms-Persona-primaryText',\n  secondaryText: 'ms-Persona-secondaryText',\n  tertiaryText: 'ms-Persona-tertiaryText',\n  optionalText: 'ms-Persona-optionalText',\n  textContent: 'ms-Persona-textContent',\n};\n\nexport const getStyles = (props: IPersonaStyleProps): IPersonaStyles => {\n  const { className, showSecondaryText, theme } = props;\n\n  const { semanticColors, fonts } = theme;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  const size = sizeBoolean(props.size as PersonaSize);\n  const presence = presenceBoolean(props.presence as PersonaPresence);\n\n  const showSecondaryTextDefaultHeight = '16px';\n\n  const sharedTextStyles: IStyle = {\n    color: semanticColors.bodySubtext,\n    fontWeight: FontWeights.regular,\n    fontSize: fonts.small.fontSize,\n  };\n\n  return {\n    root: [\n      classNames.root,\n      theme.fonts.medium,\n      normalize,\n      {\n        color: semanticColors.bodyText,\n        position: 'relative',\n        height: personaSize.size48,\n        minWidth: personaSize.size48,\n        display: 'flex',\n        alignItems: 'center',\n\n        selectors: {\n          '.contextualHost': {\n            display: 'none',\n          },\n        },\n      },\n\n      size.isSize8 && [\n        classNames.size8,\n        {\n          height: personaSize.size8,\n          minWidth: personaSize.size8,\n        },\n      ],\n\n      // TODO: Deprecated size and needs to be removed in a future major release.\n      size.isSize10 && [\n        classNames.size10,\n        {\n          height: personaSize.size10,\n          minWidth: personaSize.size10,\n        },\n      ],\n\n      // TODO: Deprecated size and needs to be removed in a future major release.\n      size.isSize16 && [\n        classNames.size16,\n        {\n          height: personaSize.size16,\n          minWidth: personaSize.size16,\n        },\n      ],\n\n      size.isSize24 && [\n        classNames.size24,\n        {\n          height: personaSize.size24,\n          minWidth: personaSize.size24,\n        },\n      ],\n\n      size.isSize24 &&\n        showSecondaryText && {\n          height: '36px',\n        },\n\n      // TODO: Deprecated size and needs to be removed in a future major release.\n      size.isSize28 && [\n        classNames.size28,\n        {\n          height: personaSize.size28,\n          minWidth: personaSize.size28,\n        },\n      ],\n\n      size.isSize28 &&\n        showSecondaryText && {\n          height: '32px',\n        },\n\n      size.isSize32 && [\n        classNames.size32,\n        {\n          height: personaSize.size32,\n          minWidth: personaSize.size32,\n        },\n      ],\n\n      size.isSize40 && [\n        classNames.size40,\n        {\n          height: personaSize.size40,\n          minWidth: personaSize.size40,\n        },\n      ],\n\n      size.isSize48 && classNames.size48,\n\n      size.isSize56 && [\n        classNames.size56,\n        {\n          height: personaSize.size56,\n          minWidth: personaSize.size56,\n        },\n      ],\n\n      size.isSize72 && [\n        classNames.size72,\n        {\n          height: personaSize.size72,\n          minWidth: personaSize.size72,\n        },\n      ],\n\n      size.isSize100 && [\n        classNames.size100,\n        {\n          height: personaSize.size100,\n          minWidth: personaSize.size100,\n        },\n      ],\n\n      size.isSize120 && [\n        classNames.size120,\n        {\n          height: personaSize.size120,\n          minWidth: personaSize.size120,\n        },\n      ],\n\n      /**\n       * Modifiers: presence\n       */\n      presence.isAvailable && classNames.available,\n      presence.isAway && classNames.away,\n      presence.isBlocked && classNames.blocked,\n      presence.isBusy && classNames.busy,\n      presence.isDoNotDisturb && classNames.doNotDisturb,\n      presence.isOffline && classNames.offline,\n      className,\n    ],\n\n    details: [\n      classNames.details,\n      {\n        padding: '0 24px 0 16px',\n        minWidth: 0,\n        width: '100%',\n        textAlign: 'left',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-around',\n      },\n\n      (size.isSize8 || size.isSize10) && {\n        paddingLeft: 17, // increased padding because we don't render a coin at this size\n      },\n\n      (size.isSize24 || size.isSize28 || size.isSize32) && {\n        padding: '0 8px',\n      },\n\n      (size.isSize40 || size.isSize48) && {\n        padding: '0 12px',\n      },\n    ],\n\n    primaryText: [\n      classNames.primaryText,\n      noWrap,\n      {\n        color: semanticColors.bodyText,\n        fontWeight: FontWeights.regular,\n        fontSize: fonts.medium.fontSize,\n        selectors: {\n          ':hover': {\n            color: semanticColors.inputTextHovered,\n          },\n        },\n      },\n\n      showSecondaryText && {\n        height: showSecondaryTextDefaultHeight,\n        lineHeight: showSecondaryTextDefaultHeight,\n        overflowX: 'hidden',\n      },\n\n      (size.isSize8 || size.isSize10) && {\n        fontSize: fonts.small.fontSize,\n        lineHeight: personaSize.size8,\n      },\n\n      size.isSize16 && {\n        lineHeight: personaSize.size28,\n      },\n\n      (size.isSize24 || size.isSize28 || size.isSize32 || size.isSize40 || size.isSize48) &&\n        showSecondaryText && {\n          height: 18,\n        },\n\n      (size.isSize56 || size.isSize72 || size.isSize100 || size.isSize120) && {\n        fontSize: fonts.xLarge.fontSize,\n      },\n\n      (size.isSize56 || size.isSize72 || size.isSize100 || size.isSize120) &&\n        showSecondaryText && {\n          height: 22,\n        },\n    ],\n\n    secondaryText: [\n      classNames.secondaryText,\n      noWrap,\n      sharedTextStyles,\n\n      (size.isSize8 || size.isSize10 || size.isSize16 || size.isSize24 || size.isSize28 || size.isSize32) && {\n        display: 'none',\n      },\n\n      showSecondaryText && {\n        display: 'block',\n        height: showSecondaryTextDefaultHeight,\n        lineHeight: showSecondaryTextDefaultHeight,\n        overflowX: 'hidden',\n      },\n\n      size.isSize24 &&\n        showSecondaryText && {\n          height: 18,\n        },\n\n      (size.isSize56 || size.isSize72 || size.isSize100 || size.isSize120) && {\n        fontSize: fonts.medium.fontSize,\n      },\n\n      (size.isSize56 || size.isSize72 || size.isSize100 || size.isSize120) &&\n        showSecondaryText && {\n          height: 18,\n        },\n    ],\n\n    tertiaryText: [\n      classNames.tertiaryText,\n      noWrap,\n      sharedTextStyles,\n      {\n        display: 'none',\n        fontSize: fonts.medium.fontSize,\n      },\n\n      (size.isSize72 || size.isSize100 || size.isSize120) && {\n        display: 'block',\n      },\n    ],\n\n    optionalText: [\n      classNames.optionalText,\n      noWrap,\n      sharedTextStyles,\n      {\n        display: 'none',\n        fontSize: fonts.medium.fontSize,\n      },\n\n      (size.isSize100 || size.isSize120) && {\n        display: 'block',\n      },\n    ],\n\n    textContent: [classNames.textContent, noWrap],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { IPersonaProps, IPersonaStyleProps, IPersonaStyles } from './Persona.types';\nimport { PersonaBase } from './Persona.base';\nimport { getStyles } from './Persona.styles';\n\n/**\n * Personas are used for rendering an individual's avatar, presence and details.\n * They are used within the PeoplePicker components.\n */\nexport const Persona: React.FunctionComponent<IPersonaProps> = styled<\n  IPersonaProps,\n  IPersonaStyleProps,\n  IPersonaStyles\n>(PersonaBase, getStyles, undefined, {\n  scope: 'Persona',\n});\n","import { getGlobalClassNames, getFocusStyle, HighContrastSelector, IStyle } from '../../../../Styling';\nimport { ButtonGlobalClassNames } from '../../../Button/BaseButton.classNames';\nimport { IPeoplePickerItemSelectedStyleProps, IPeoplePickerItemSelectedStyles } from './PeoplePickerItem.types';\n\nconst GlobalClassNames = {\n  root: 'ms-PickerPersona-container',\n  itemContent: 'ms-PickerItem-content',\n  removeButton: 'ms-PickerItem-removeButton',\n  isSelected: 'is-selected',\n  isInvalid: 'is-invalid',\n};\n\nconst REMOVE_BUTTON_SIZE = 24;\n\nexport function getStyles(props: IPeoplePickerItemSelectedStyleProps): IPeoplePickerItemSelectedStyles {\n  const { className, theme, selected, invalid, disabled } = props;\n\n  const { palette, semanticColors, fonts } = theme;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  const personaPrimaryTextStyles: IStyle = [\n    selected &&\n      !invalid &&\n      !disabled && {\n        color: palette.white,\n        selectors: {\n          ':hover': {\n            color: palette.white,\n          },\n          [HighContrastSelector]: {\n            color: 'HighlightText',\n          },\n        },\n      },\n    ((invalid && !selected) || (invalid && selected && disabled)) && {\n      color: palette.redDark,\n      borderBottom: `2px dotted ${palette.redDark}`,\n      selectors: {\n        [`.${classNames.root}:hover &`]: {\n          // override Persona root:hover selector\n          color: palette.redDark,\n        },\n      },\n    },\n    invalid &&\n      selected &&\n      !disabled && {\n        color: palette.white,\n        borderBottom: `2px dotted ${palette.white}`,\n      },\n    disabled && {\n      selectors: {\n        [HighContrastSelector]: {\n          color: 'GrayText',\n        },\n      },\n    },\n  ];\n\n  const personaCoinInitialsStyles: IStyle = [\n    invalid && {\n      fontSize: fonts.xLarge.fontSize,\n    },\n  ];\n\n  return {\n    root: [\n      classNames.root,\n      getFocusStyle(theme, { inset: -2 }),\n      {\n        borderRadius: 15,\n        display: 'inline-flex',\n        alignItems: 'center',\n        background: palette.neutralLighter,\n        margin: '1px 2px',\n        cursor: 'default',\n        userSelect: 'none',\n        maxWidth: 300,\n        verticalAlign: 'middle',\n        minWidth: 0,\n        selectors: {\n          ':hover': {\n            background: !selected && !disabled ? palette.neutralLight : '',\n          },\n          [HighContrastSelector]: [{ border: '1px solid WindowText' }, disabled && { borderColor: 'GrayText' }],\n        },\n      },\n      selected &&\n        !disabled && [\n          classNames.isSelected,\n          {\n            background: palette.themePrimary,\n            selectors: {\n              [HighContrastSelector]: {\n                borderColor: 'HighLight',\n                background: 'Highlight',\n                MsHighContrastAdjust: 'none',\n              },\n            },\n          },\n        ],\n      invalid && [classNames.isInvalid],\n      invalid &&\n        selected &&\n        !disabled && {\n          background: palette.redDark,\n        },\n      className,\n    ],\n    itemContent: [\n      classNames.itemContent,\n      {\n        flex: '0 1 auto',\n        minWidth: 0,\n        // CSS below is needed for IE 11 to properly truncate long persona names in the picker\n        // and to clip the presence indicator (in all browsers)\n        maxWidth: '100%',\n        overflow: 'hidden',\n      },\n    ],\n    removeButton: [\n      classNames.removeButton,\n      {\n        borderRadius: 15,\n        color: palette.neutralPrimary,\n        flex: '0 0 auto',\n        width: REMOVE_BUTTON_SIZE,\n        height: REMOVE_BUTTON_SIZE,\n        selectors: {\n          ':hover': {\n            background: palette.neutralTertiaryAlt,\n            color: palette.neutralDark,\n          },\n        },\n      },\n      selected && [\n        {\n          color: palette.white,\n          selectors: {\n            ':hover': {\n              color: palette.white,\n              background: palette.themeDark,\n            },\n            ':active': {\n              color: palette.white,\n              background: palette.themeDarker,\n            },\n            [HighContrastSelector]: {\n              color: 'HighlightText',\n            },\n          },\n        },\n        invalid && {\n          selectors: {\n            ':hover': {\n              background: palette.red,\n            },\n            ':active': {\n              background: palette.redDark,\n            },\n          },\n        },\n      ],\n      disabled && {\n        selectors: {\n          [`.${ButtonGlobalClassNames.msButtonIcon}`]: {\n            color: semanticColors.buttonText,\n          },\n        },\n      },\n    ],\n    subComponentStyles: {\n      persona: {\n        primaryText: personaPrimaryTextStyles,\n      },\n      personaCoin: {\n        initials: personaCoinInitialsStyles,\n      },\n    },\n  };\n}\n","import * as React from 'react';\n\nimport { getId, classNamesFunction, styled, IStyleFunctionOrObject } from '../../../../Utilities';\nimport {\n  Persona,\n  PersonaSize,\n  IPersonaStyleProps,\n  IPersonaStyles,\n  IPersonaCoinStyleProps,\n  IPersonaCoinStyles,\n} from '../../../../Persona';\nimport { IconButton } from '../../../../Button';\nimport { ValidationState } from '../../BasePicker.types';\nimport {\n  IPeoplePickerItemSelectedProps,\n  IPeoplePickerItemSelectedStyleProps,\n  IPeoplePickerItemSelectedStyles,\n} from './PeoplePickerItem.types';\nimport { getStyles } from './PeoplePickerItem.styles';\n\nconst getClassNames = classNamesFunction<IPeoplePickerItemSelectedStyleProps, IPeoplePickerItemSelectedStyles>();\n\nexport const PeoplePickerItemBase = (props: IPeoplePickerItemSelectedProps) => {\n  const { item, onRemoveItem, index, selected, removeButtonAriaLabel, styles, theme, className, disabled } = props;\n\n  const itemId = getId();\n\n  const classNames = getClassNames(styles, {\n    theme: theme!,\n    className,\n    selected,\n    disabled,\n    invalid: item.ValidationState === ValidationState.warning,\n  });\n\n  const personaStyles = classNames.subComponentStyles\n    ? (classNames.subComponentStyles.persona as IStyleFunctionOrObject<IPersonaStyleProps, IPersonaStyles>)\n    : undefined;\n\n  const personaCoinStyles = classNames.subComponentStyles\n    ? (classNames.subComponentStyles.personaCoin as IStyleFunctionOrObject<IPersonaCoinStyleProps, IPersonaCoinStyles>)\n    : undefined;\n\n  return (\n    <div\n      className={classNames.root}\n      data-is-focusable={!disabled}\n      data-is-sub-focuszone={true}\n      data-selection-index={index}\n      role={'listitem'}\n      aria-labelledby={'selectedItemPersona-' + itemId}\n    >\n      <div className={classNames.itemContent} id={'selectedItemPersona-' + itemId}>\n        <Persona size={PersonaSize.size24} styles={personaStyles} coinProps={{ styles: personaCoinStyles }} {...item} />\n      </div>\n      <IconButton\n        onClick={onRemoveItem}\n        disabled={disabled}\n        iconProps={{ iconName: 'Cancel', styles: { root: { fontSize: '12px' } } }}\n        className={classNames.removeButton}\n        ariaLabel={removeButtonAriaLabel}\n      />\n    </div>\n  );\n};\n\nexport const PeoplePickerItem = styled<\n  IPeoplePickerItemSelectedProps,\n  IPeoplePickerItemSelectedStyleProps,\n  IPeoplePickerItemSelectedStyles\n>(PeoplePickerItemBase, getStyles, undefined, { scope: 'PeoplePickerItem' });\n","import { getGlobalClassNames, HighContrastSelector, IStyle } from '../../../../Styling';\nimport { IPeoplePickerItemSuggestionStyles, IPeoplePickerItemSuggestionStyleProps } from './PeoplePickerItem.types';\nimport { SuggestionsItemGlobalClassNames as suggested } from '../../Suggestions/SuggestionsItem.styles';\nconst GlobalClassNames = {\n  root: 'ms-PeoplePicker-personaContent',\n  personaWrapper: 'ms-PeoplePicker-Persona',\n};\n\nexport function getStyles(props: IPeoplePickerItemSuggestionStyleProps): IPeoplePickerItemSuggestionStyles {\n  const { className, theme } = props;\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  const textSelectorsStyles: IStyle = {\n    selectors: {\n      [`.${suggested.isSuggested} &`]: {\n        selectors: {\n          [HighContrastSelector]: {\n            color: 'HighlightText',\n          },\n        },\n      },\n      [`.${classNames.root}:hover &`]: {\n        selectors: {\n          [HighContrastSelector]: {\n            color: 'HighlightText',\n          },\n        },\n      },\n    },\n  };\n\n  return {\n    root: [\n      classNames.root,\n      {\n        width: '100%',\n        padding: '4px 12px',\n      },\n      className,\n    ],\n    personaWrapper: [\n      classNames.personaWrapper,\n      {\n        width: 180,\n      },\n    ],\n    subComponentStyles: {\n      persona: {\n        primaryText: textSelectorsStyles,\n        secondaryText: textSelectorsStyles,\n      },\n    },\n  };\n}\n","import * as React from 'react';\n\nimport { classNamesFunction, styled, IStyleFunctionOrObject } from '../../../../Utilities';\nimport { Persona, PersonaSize, IPersonaStyleProps, IPersonaStyles } from '../../../../Persona';\nimport {\n  IPeoplePickerItemSuggestionProps,\n  IPeoplePickerItemSuggestionStyleProps,\n  IPeoplePickerItemSuggestionStyles,\n} from './PeoplePickerItem.types';\nimport { getStyles } from './PeoplePickerItemSuggestion.styles';\n\nconst getClassNames = classNamesFunction<IPeoplePickerItemSuggestionStyleProps, IPeoplePickerItemSuggestionStyles>();\n\nexport const PeoplePickerItemSuggestionBase = (props: IPeoplePickerItemSuggestionProps) => {\n  const { personaProps, suggestionsProps, compact, styles, theme, className } = props;\n\n  const classNames = getClassNames(styles, {\n    theme: theme!,\n    className: (suggestionsProps && suggestionsProps.suggestionsItemClassName) || className,\n  });\n\n  const personaStyles =\n    classNames.subComponentStyles && classNames.subComponentStyles.persona\n      ? (classNames.subComponentStyles.persona as IStyleFunctionOrObject<IPersonaStyleProps, IPersonaStyles>)\n      : undefined;\n\n  return (\n    <div className={classNames.root}>\n      <Persona\n        size={PersonaSize.size24}\n        styles={personaStyles}\n        className={classNames.personaWrapper}\n        showSecondaryText={!compact}\n        {...personaProps}\n      />\n    </div>\n  );\n};\n\nexport const PeoplePickerItemSuggestion = styled<\n  IPeoplePickerItemSuggestionProps,\n  IPeoplePickerItemSuggestionStyleProps,\n  IPeoplePickerItemSuggestionStyles\n>(PeoplePickerItemSuggestionBase, getStyles, undefined, { scope: 'PeoplePickerItemSuggestion' });\n","import { getGlobalClassNames, getInputFocusStyle, hiddenContentStyle, HighContrastSelector } from '../../Styling';\nimport { IBasePickerStyleProps, IBasePickerStyles } from './BasePicker.types';\n\nconst GlobalClassNames = {\n  root: 'ms-BasePicker',\n  text: 'ms-BasePicker-text',\n  itemsWrapper: 'ms-BasePicker-itemsWrapper',\n  input: 'ms-BasePicker-input',\n};\n\nexport function getStyles(props: IBasePickerStyleProps): IBasePickerStyles {\n  const { className, theme, isFocused, inputClassName, disabled } = props;\n\n  if (!theme) {\n    throw new Error('theme is undefined or null in base BasePicker getStyles function.');\n  }\n  const { semanticColors, effects, fonts } = theme;\n  const { inputBorder, inputBorderHovered, inputFocusBorderAlt } = semanticColors;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  // The following lines are to create a semi-transparent color overlay for the disabled state with designer's approval.\n  // @todo: investigate the performance cost of the calculation below and apply if negligible.\n  //   Replacing with a static color for now.\n  // const rgbColor: IRGB | undefined = cssColor(palette.neutralQuaternaryAlt);\n  // const disabledOverlayColor = rgbColor ? `rgba(${rgbColor.r}, ${rgbColor.g}, ${rgbColor.b}, 0.29)` : 'transparent';\n  const disabledOverlayColor = 'rgba(218, 218, 218, 0.29)';\n\n  return {\n    root: [classNames.root, className],\n    text: [\n      classNames.text,\n      {\n        display: 'flex',\n        position: 'relative',\n        flexWrap: 'wrap',\n        alignItems: 'center',\n        boxSizing: 'border-box',\n        minWidth: 180,\n        minHeight: 30,\n        border: `1px solid ${inputBorder}`,\n        borderRadius: effects.roundedCorner2,\n      },\n      !isFocused &&\n        !disabled && {\n          selectors: {\n            ':hover': {\n              borderColor: inputBorderHovered,\n            },\n          },\n        },\n      isFocused && !disabled && getInputFocusStyle(inputFocusBorderAlt, effects.roundedCorner2),\n      disabled && {\n        borderColor: disabledOverlayColor,\n        selectors: {\n          ':after': {\n            content: '\"\"',\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0,\n            background: disabledOverlayColor,\n          },\n          [HighContrastSelector]: {\n            borderColor: 'GrayText',\n            selectors: {\n              ':after': {\n                background: 'none',\n              },\n            },\n          },\n        },\n      },\n    ],\n    itemsWrapper: [\n      classNames.itemsWrapper,\n      {\n        display: 'flex',\n        flexWrap: 'wrap',\n        maxWidth: '100%',\n      },\n    ],\n    input: [\n      classNames.input,\n      fonts.medium,\n      {\n        height: 30,\n        border: 'none',\n        flexGrow: 1,\n        outline: 'none',\n        padding: '0 6px 0',\n        alignSelf: 'flex-end',\n        borderRadius: effects.roundedCorner2,\n        backgroundColor: 'transparent',\n        color: semanticColors.inputText,\n        selectors: {\n          '::-ms-clear': {\n            display: 'none',\n          },\n        },\n      },\n      inputClassName,\n    ],\n    screenReaderText: hiddenContentStyle,\n  };\n}\n","import * as React from 'react';\n\nimport { getRTL, getInitials, styled } from '../../../Utilities';\nimport { BasePicker, BasePickerListBelow } from '../BasePicker';\nimport {\n  IBasePickerProps,\n  IBasePickerSuggestionsProps,\n  ValidationState,\n  IBasePickerStyleProps,\n  IBasePickerStyles,\n} from '../BasePicker.types';\nimport { PeoplePickerItem } from './PeoplePickerItems/PeoplePickerItem';\nimport { IPersonaProps } from '../../../Persona';\nimport { PeoplePickerItemSuggestion } from './PeoplePickerItems/PeoplePickerItemSuggestion';\nimport { IPeoplePickerItemSelectedProps } from './PeoplePickerItems/PeoplePickerItem.types';\nimport { getStyles } from '../BasePicker.styles';\n\n/**\n * PeoplePicker props interface which renders Personas as items.\n * {@docCategory PeoplePicker}\n * */\nexport interface IPeoplePickerProps extends IBasePickerProps<IPersonaProps> {}\n\n/**\n * {@docCategory PeoplePicker}\n */\nexport class BasePeoplePicker extends BasePicker<IPersonaProps, IPeoplePickerProps> {}\n\n/**\n * {@docCategory PeoplePicker}\n */\nexport class MemberListPeoplePicker extends BasePickerListBelow<IPersonaProps, IPeoplePickerProps> {}\n\n/**\n * Standard People Picker.\n * {@docCategory PeoplePicker}\n */\nexport class NormalPeoplePickerBase extends BasePeoplePicker {\n  /** Default props for NormalPeoplePicker. */\n  public static defaultProps = {\n    onRenderItem: (props: IPeoplePickerItemSelectedProps) => <PeoplePickerItem {...props} />,\n    onRenderSuggestionsItem: (personaProps: IPersonaProps, suggestionsProps?: IBasePickerSuggestionsProps) => (\n      <PeoplePickerItemSuggestion personaProps={personaProps} suggestionsProps={suggestionsProps} />\n    ),\n    createGenericItem: createGenericItem,\n  };\n}\n\n/**\n * Compact layout. It uses personas without secondary text when displaying search results.\n * {@docCategory PeoplePicker}\n */\nexport class CompactPeoplePickerBase extends BasePeoplePicker {\n  /** Default props for CompactPeoplePicker. */\n  public static defaultProps = {\n    onRenderItem: (props: IPeoplePickerItemSelectedProps) => <PeoplePickerItem {...props} />,\n    onRenderSuggestionsItem: (personaProps: IPersonaProps, suggestionsProps?: IBasePickerSuggestionsProps) => (\n      <PeoplePickerItemSuggestion personaProps={personaProps} suggestionsProps={suggestionsProps} compact={true} />\n    ),\n    createGenericItem: createGenericItem,\n  };\n}\n\n/**\n * MemberList layout. The selected people show up below the search box.\n * {@docCategory PeoplePicker}\n */\nexport class ListPeoplePickerBase extends MemberListPeoplePicker {\n  /** Default props for ListPeoplePicker. */\n  public static defaultProps = {\n    onRenderItem: (props: IPeoplePickerItemSelectedProps) => <PeoplePickerItem {...props} />,\n    onRenderSuggestionsItem: (personaProps: IPersonaProps, suggestionsProps?: IBasePickerSuggestionsProps) => (\n      <PeoplePickerItemSuggestion personaProps={personaProps} suggestionsProps={suggestionsProps} />\n    ),\n    createGenericItem: createGenericItem,\n  };\n}\n\n/**\n * {@docCategory PeoplePicker}\n */\nexport interface IGenericItem {\n  primaryText: string;\n  imageInitials: string;\n  ValidationState: ValidationState;\n}\n\n/**\n * {@docCategory PeoplePicker}\n */\nexport function createGenericItem(\n  name: string,\n  currentValidationState: ValidationState,\n): IGenericItem & { key: React.Key } {\n  const personaToConvert = {\n    key: name,\n    primaryText: name,\n    imageInitials: '!',\n    ValidationState: currentValidationState,\n  };\n\n  if (currentValidationState !== ValidationState.warning) {\n    personaToConvert.imageInitials = getInitials(name, getRTL());\n  }\n\n  return personaToConvert;\n}\n\nexport const NormalPeoplePicker = styled<IPeoplePickerProps, IBasePickerStyleProps, IBasePickerStyles>(\n  NormalPeoplePickerBase,\n  getStyles,\n  undefined,\n  {\n    scope: 'NormalPeoplePicker',\n  },\n);\n\nexport const CompactPeoplePicker = styled<IPeoplePickerProps, IBasePickerStyleProps, IBasePickerStyles>(\n  CompactPeoplePickerBase,\n  getStyles,\n  undefined,\n  {\n    scope: 'CompactPeoplePicker',\n  },\n);\n\nexport const ListPeoplePicker = styled<IPeoplePickerProps, IBasePickerStyleProps, IBasePickerStyles>(\n  ListPeoplePickerBase,\n  getStyles,\n  undefined,\n  {\n    scope: 'ListPeoplePickerBase',\n  },\n);\n","import * as React from 'react';\nimport { IStyle, ITheme } from '../../Styling';\nimport { IRefObject, IStyleFunctionOrObject } from '../../Utilities';\n\n/**\n * {@docCategory Rating}\n */\nexport interface IRating {}\n\n/**\n * Rating component props.\n * {@docCategory Rating}\n */\nexport interface IRatingProps extends React.AllHTMLAttributes<HTMLElement> {\n  /**\n   * Optional callback to access the IRating interface. Use this instead of ref for accessing\n   * the public methods and properties of the component.\n   */\n  componentRef?: IRefObject<IRating>;\n\n  /**\n   * Selected rating, has to be an integer between min and max\n   */\n  rating?: number;\n\n  /**\n   * Minimum rating, defaults to 1, has to be \\>= 0\n   * @deprecated No longer used.\n   */\n  min?: number;\n\n  /**\n   * Maximum rating, defaults to 5, has to be \\>= min\n   */\n  max?: number;\n\n  /**\n   * Allow the rating value to be set to 0 instead of a minimum of 1.\n   */\n  allowZeroStars?: boolean;\n\n  /**\n   * Custom icon\n   * @defaultvalue FavoriteStarFill\n   */\n  icon?: string;\n\n  /**\n   * Custom icon for unselected rating elements.\n   * @defaultvalue FavoriteStar\n   */\n  unselectedIcon?: string;\n\n  /**\n   * Size of rating, defaults to small\n   */\n  size?: RatingSize;\n\n  /**\n   * Callback issued when the rating changes.\n   */\n  onChange?: (event: React.FocusEvent<HTMLElement>, rating?: number) => void;\n\n  /**\n   * @deprecated Use `onChange` instead.\n   */\n  onChanged?: (rating: number) => void;\n\n  /**\n   * Optional label format for a rating star that will be read by screen readers.\n   * Can be used like \"\\{0\\} of \\{1\\} stars selected\",\n   * where \\{0\\} will be substituted by the current rating and \\{1\\} will be substituted by the max rating.\n   * @defaultvalue empty string.\n   */\n  ariaLabelFormat?: string;\n\n  /**\n   * Deprecated: Optional id of label describing this instance of Rating.\n   * @deprecated Use `getAriaLabel` instead.\n   */\n  ariaLabelId?: string;\n\n  /**\n   * Optional flag to mark rating control as readOnly\n   */\n  readOnly?: boolean;\n\n  /*\n   * Optional callback to set the aria-label for rating control.\n   */\n  getAriaLabel?: (rating: number, max: number) => string;\n\n  /**\n   * Call to provide customized styling that will layer on top of the variant rules.\n   */\n  styles?: IStyleFunctionOrObject<IRatingStyleProps, IRatingStyles>;\n\n  /**\n   * Theme (provided through customization.)\n   */\n  theme?: ITheme;\n}\n\n/**\n * {@docCategory Rating}\n */\nexport enum RatingSize {\n  Small = 0,\n  Large = 1,\n}\n\n/**\n * {@docCategory Rating}\n */\nexport interface IRatingStyleProps {\n  disabled?: boolean;\n  readOnly?: boolean;\n  theme: ITheme;\n}\n\n/**\n * {@docCategory Rating}\n */\nexport interface IRatingStyles {\n  root: IStyle;\n  ratingStar: IStyle;\n  ratingStarBack: IStyle;\n  ratingStarFront: IStyle;\n  ratingButton: IStyle;\n  ratingStarIsSmall: IStyle;\n  ratingStarIsLarge: IStyle;\n  rootIsSmall: IStyle;\n  rootIsLarge: IStyle;\n  labelText: IStyle;\n  ratingFocusZone: IStyle;\n}\n","import { getFocusStyle, hiddenContentStyle, HighContrastSelector, getGlobalClassNames } from '../../Styling';\nimport { IRatingStyleProps, IRatingStyles } from './Rating.types';\n\nconst GlobalClassNames = {\n  root: 'ms-RatingStar-root',\n  rootIsSmall: 'ms-RatingStar-root--small',\n  rootIsLarge: 'ms-RatingStar-root--large',\n  ratingStar: 'ms-RatingStar-container',\n  ratingStarBack: 'ms-RatingStar-back',\n  ratingStarFront: 'ms-RatingStar-front',\n  ratingButton: 'ms-Rating-button',\n  ratingStarIsSmall: 'ms-Rating--small',\n  ratingStartIsLarge: 'ms-Rating--large',\n  labelText: 'ms-Rating-labelText',\n  ratingFocusZone: 'ms-Rating-focuszone',\n};\n\nfunction _getColorWithHighContrast(color: string, highContrastColor: string) {\n  return {\n    color: color,\n    selectors: {\n      [HighContrastSelector]: {\n        color: highContrastColor,\n      },\n    },\n  };\n}\n\nexport function getStyles(props: IRatingStyleProps): IRatingStyles {\n  const { disabled, readOnly, theme } = props;\n\n  const { semanticColors, palette } = theme;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  const ratingSmallIconSize = 16;\n  const ratingLargeIconSize = 20;\n  const ratingVerticalPadding = 8;\n  const ratingHorizontalPadding = 2;\n\n  const ratingStarUncheckedColor = palette.neutralSecondary;\n  const ratingStarUncheckedHoverColor = palette.themePrimary;\n  const ratingStarUncheckedHoverSelectedColor = palette.themeDark;\n  const ratingStarCheckedColor = palette.neutralPrimary;\n  const ratingStarDisabledColor = semanticColors.disabledBodySubtext;\n\n  return {\n    root: [\n      classNames.root,\n      theme.fonts.medium,\n      !disabled &&\n        !readOnly && {\n          selectors: {\n            // This is part 1 of highlighting all stars up to the one the user is hovering over\n            '&:hover': {\n              selectors: {\n                '.ms-RatingStar-back': _getColorWithHighContrast(ratingStarCheckedColor, 'Highlight'),\n              },\n            },\n          },\n        },\n    ],\n    rootIsSmall: [\n      classNames.rootIsSmall,\n      {\n        height: ratingSmallIconSize + ratingVerticalPadding * 2 + 'px',\n      },\n    ],\n    rootIsLarge: [\n      classNames.rootIsLarge,\n      {\n        height: ratingLargeIconSize + ratingVerticalPadding * 2 + 'px',\n      },\n    ],\n    ratingStar: [\n      classNames.ratingStar,\n      {\n        display: 'inline-block',\n        position: 'relative',\n        height: 'inherit',\n      },\n    ],\n    ratingStarBack: [\n      classNames.ratingStarBack,\n      {\n        // TODO: Use a proper semantic color for this\n        color: ratingStarUncheckedColor,\n        width: '100%',\n      },\n      disabled && _getColorWithHighContrast(ratingStarDisabledColor, 'GrayText'),\n    ],\n    ratingStarFront: [\n      classNames.ratingStarFront,\n      {\n        position: 'absolute',\n        height: '100 %',\n        left: '0',\n        top: '0',\n        textAlign: 'center',\n        verticalAlign: 'middle',\n        overflow: 'hidden',\n      },\n      _getColorWithHighContrast(ratingStarCheckedColor, 'Highlight'),\n    ],\n    ratingButton: [\n      getFocusStyle(theme),\n      classNames.ratingButton,\n      {\n        backgroundColor: 'transparent',\n        padding: `${ratingVerticalPadding}px ${ratingHorizontalPadding}px`,\n        boxSizing: 'content-box',\n        margin: '0px',\n        border: 'none',\n        cursor: 'pointer',\n        selectors: {\n          '&:disabled': {\n            cursor: 'default',\n          },\n          '&[disabled]': {\n            cursor: 'default',\n          },\n        },\n      },\n      !disabled &&\n        !readOnly && {\n          selectors: {\n            // This is part 2 of highlighting all stars up to the one the user is hovering over\n            '&:hover ~ .ms-Rating-button': {\n              selectors: {\n                '.ms-RatingStar-back': _getColorWithHighContrast(ratingStarUncheckedColor, 'WindowText'),\n                '.ms-RatingStar-front': _getColorWithHighContrast(ratingStarUncheckedColor, 'WindowText'),\n              },\n            },\n            '&:hover': {\n              selectors: {\n                '.ms-RatingStar-back': {\n                  color: ratingStarUncheckedHoverColor,\n                },\n                '.ms-RatingStar-front': {\n                  color: ratingStarUncheckedHoverSelectedColor,\n                },\n              },\n            },\n          },\n        },\n      disabled && {\n        cursor: 'default',\n      },\n    ],\n    ratingStarIsSmall: [\n      classNames.ratingStarIsSmall,\n      {\n        fontSize: ratingSmallIconSize + 'px',\n        lineHeight: ratingSmallIconSize + 'px',\n        height: ratingSmallIconSize + 'px',\n      },\n    ],\n    ratingStarIsLarge: [\n      classNames.ratingStartIsLarge,\n      {\n        fontSize: ratingLargeIconSize + 'px',\n        lineHeight: ratingLargeIconSize + 'px',\n        height: ratingLargeIconSize + 'px',\n      },\n    ],\n    labelText: [classNames.labelText, hiddenContentStyle],\n    ratingFocusZone: [\n      getFocusStyle(theme),\n      classNames.ratingFocusZone,\n      {\n        display: 'inline-block',\n      },\n    ],\n  };\n}\n","import * as React from 'react';\nimport {\n  warnDeprecations,\n  initializeComponentRef,\n  classNamesFunction,\n  css,\n  format,\n  getId,\n  divProperties,\n  getNativeProps,\n} from '../../Utilities';\nimport { IProcessedStyleSet } from '../../Styling';\nimport { Icon } from '../../Icon';\nimport { FocusZone, FocusZoneDirection, IFocusZoneProps } from '../../FocusZone';\nimport { IRatingProps, RatingSize, IRatingStyleProps, IRatingStyles } from './Rating.types';\n\nconst getClassNames = classNamesFunction<IRatingStyleProps, IRatingStyles>();\n\ninterface IRatingStarProps extends React.AllHTMLAttributes<HTMLElement> {\n  fillPercentage: number;\n  disabled?: boolean;\n  readOnly?: boolean;\n  classNames: IProcessedStyleSet<IRatingStyles>;\n  icon?: string;\n}\n\nexport interface IRatingState {\n  rating: number | null | undefined;\n}\n\nconst RatingStar = (props: IRatingStarProps) => {\n  const icon = props.icon || 'FavoriteStarFill';\n  return (\n    <div className={props.classNames.ratingStar} key={props.id}>\n      <Icon className={props.classNames.ratingStarBack} iconName={icon} />\n      {!props.disabled && (\n        <Icon\n          className={props.classNames.ratingStarFront}\n          iconName={icon}\n          style={{ width: props.fillPercentage + '%' }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport class RatingBase extends React.Component<IRatingProps, IRatingState> {\n  public static defaultProps: IRatingProps = {\n    min: 1,\n    max: 5,\n  };\n  private _id: string;\n  private _min: number;\n  private _labelId: string;\n  private _classNames: IProcessedStyleSet<IRatingStyles>;\n\n  constructor(props: IRatingProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    warnDeprecations('Rating', props, { onChanged: 'onChange' });\n\n    this._id = getId('Rating');\n    this._min = this.props.allowZeroStars ? 0 : 1;\n    // tslint:disable:deprecation\n    if (this.props.min !== undefined && this.props.min !== 1) {\n      this._min = this.props.min;\n    }\n    // tslint:enable:deprecation\n    this._labelId = getId('RatingLabel');\n\n    this.state = {\n      rating: this._getInitialValue(props),\n    };\n  }\n\n  public render(): JSX.Element {\n    const {\n      disabled,\n      getAriaLabel,\n      styles,\n      max,\n      readOnly,\n      size,\n      theme,\n      icon = 'FavoriteStarFill',\n      unselectedIcon = 'FavoriteStar',\n    } = this.props;\n\n    const id = this._id;\n    const stars = [];\n    const starIds = [];\n    const rating = this._getRating();\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n\n    this._classNames = getClassNames(styles!, {\n      disabled,\n      readOnly,\n      theme: theme!,\n    });\n\n    for (let i = this._min as number; i <= (max as number); i++) {\n      if (i !== 0) {\n        const fillPercentage = this._getFillingPercentage(i);\n        const ratingStarProps: IRatingStarProps = {\n          fillPercentage,\n          disabled,\n          classNames: this._classNames,\n          icon: fillPercentage > 0 ? icon : unselectedIcon,\n        };\n\n        starIds.push(this._getStarId(i - 1));\n\n        stars.push(\n          <button\n            className={css(this._classNames.ratingButton, {\n              [this._classNames.ratingStarIsLarge]: size === RatingSize.Large,\n              [this._classNames.ratingStarIsSmall]: size !== RatingSize.Large,\n            })}\n            id={starIds[i - 1]}\n            key={i}\n            {...(i === Math.ceil(rating) ? { 'data-is-current': true } : {})}\n            onFocus={this._onFocus.bind(this, i)}\n            onClick={this._onFocus.bind(this, i)} // For Safari & Firefox on OSX\n            disabled={disabled || readOnly ? true : false}\n            role=\"presentation\"\n            type=\"button\"\n          >\n            {this._getLabel(i)}\n            <RatingStar key={i + 'rating'} {...ratingStarProps} />\n          </button>,\n        );\n      }\n    }\n\n    const ariaLabel = getAriaLabel ? getAriaLabel(rating ? rating : 0, max as number) : undefined;\n\n    // When in read-only mode, we allow focus (per ARIA standards) and set up ARIA attributes to indicate element\n    // is read-only. https://www.w3.org/TR/wai-aria-1.1/#aria-readonly\n    const readOnlyProps: IFocusZoneProps | undefined = readOnly\n      ? ({\n          allowFocusRoot: true,\n          disabled: true,\n          'aria-label': ariaLabel,\n          'aria-readonly': true,\n          'data-is-focusable': true,\n          tabIndex: 0,\n        } as IFocusZoneProps)\n      : undefined;\n\n    return (\n      <div\n        className={css('ms-Rating-star', this._classNames.root, {\n          [this._classNames.rootIsLarge]: size === RatingSize.Large,\n          [this._classNames.rootIsSmall]: size !== RatingSize.Large,\n        })}\n        aria-label={!readOnly ? ariaLabel : ''}\n        id={id}\n        {...divProps}\n      >\n        <FocusZone\n          direction={FocusZoneDirection.horizontal}\n          className={css(this._classNames.ratingFocusZone, {\n            [this._classNames.rootIsLarge]: size === RatingSize.Large,\n            [this._classNames.rootIsSmall]: size !== RatingSize.Large,\n          })}\n          defaultActiveElement={\n            rating ? starIds[Math.ceil(rating) - 1] && '#' + starIds[Math.ceil(rating) - 1] : undefined\n          }\n          {...readOnlyProps}\n        >\n          {stars}\n        </FocusZone>\n      </div>\n    );\n  }\n\n  private _getStarId(index: number): string {\n    return this._id + '-star-' + index;\n  }\n\n  private _onFocus(value: number, ev: React.FocusEvent<HTMLElement>): void {\n    if (Math.ceil(this.state.rating!) !== value) {\n      this.setState({\n        rating: value,\n      } as IRatingState);\n\n      // tslint:disable-next-line:deprecation\n      const { onChange, onChanged } = this.props;\n\n      if (onChange) {\n        onChange(ev, value);\n      }\n\n      if (onChanged) {\n        onChanged(value);\n      }\n    }\n  }\n\n  private _getLabel(rating: number): JSX.Element {\n    const text = this.props.ariaLabelFormat || '';\n\n    return (\n      <span id={`${this._labelId}-${rating}`} className={this._classNames.labelText}>\n        {format(text, rating, this.props.max)}\n      </span>\n    );\n  }\n\n  private _getInitialValue(props: IRatingProps): number | undefined {\n    if (typeof props.rating === 'undefined') {\n      return this._min;\n    }\n\n    if (props.rating === null) {\n      return undefined;\n    }\n\n    return this._getClampedRating(props.rating);\n  }\n\n  private _getClampedRating(rating: number): number {\n    return Math.min(Math.max(rating, this._min as number), this.props.max as number);\n  }\n\n  private _getRating(): number {\n    if (this.props.rating !== undefined) {\n      return this._getClampedRating(this.props.rating);\n    }\n    if (this.state.rating !== undefined && this.state.rating !== null) {\n      return this._getClampedRating(this.state.rating);\n    }\n    return 0;\n  }\n\n  private _getFillingPercentage(starPosition: number): number {\n    const rating = this._getRating();\n    const ceilValue = Math.ceil(rating as number);\n    let fillPercentage = 100;\n\n    if (starPosition === rating) {\n      fillPercentage = 100;\n    } else if (starPosition === ceilValue) {\n      fillPercentage = 100 * ((rating as number) % 1);\n    } else if (starPosition > ceilValue) {\n      fillPercentage = 0;\n    }\n    return fillPercentage;\n  }\n}\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { IRatingProps, IRatingStyleProps, IRatingStyles } from './Rating.types';\nimport { getStyles } from './Rating.styles';\nimport { RatingBase } from './Rating.base';\n\nexport const Rating: React.FunctionComponent<IRatingProps> = styled<IRatingProps, IRatingStyleProps, IRatingStyles>(\n  RatingBase,\n  getStyles,\n  undefined,\n  { scope: 'Rating' },\n);\n","import * as React from 'react';\nimport {\n  KeyCodes,\n  css,\n  getId,\n  getRTL,\n  getRTLSafeKeyCode,\n  warnMutuallyExclusive,\n  initializeComponentRef,\n  Async,\n  on,\n  FocusRects,\n} from '../../Utilities';\nimport { ISliderProps, ISlider, ISliderStyleProps, ISliderStyles } from './Slider.types';\nimport { classNamesFunction, getNativeProps, divProperties } from '../../Utilities';\nimport { Label } from '../../Label';\n\nexport interface ISliderState {\n  value?: number;\n  renderedValue?: number;\n}\n\nconst getClassNames = classNamesFunction<ISliderStyleProps, ISliderStyles>();\nconst COMPONENT_NAME = 'SliderBase';\nexport const ONKEYDOWN_TIMEOUT_DURATION = 1000;\n\nexport class SliderBase extends React.Component<ISliderProps, ISliderState> implements ISlider {\n  public static defaultProps: ISliderProps = {\n    step: 1,\n    min: 0,\n    max: 10,\n    showValue: true,\n    disabled: false,\n    vertical: false,\n    buttonProps: {},\n    originFromZero: false,\n  };\n\n  private _async: Async;\n  private _disposables: (() => void)[] = [];\n  private _sliderLine = React.createRef<HTMLDivElement>();\n  private _thumb = React.createRef<HTMLSpanElement>();\n  private _id: string;\n  private _onKeyDownTimer = -1;\n\n  constructor(props: ISliderProps) {\n    super(props);\n\n    this._async = new Async(this);\n    initializeComponentRef(this);\n\n    warnMutuallyExclusive(COMPONENT_NAME, this.props, {\n      value: 'defaultValue',\n    });\n\n    this._id = getId('Slider');\n\n    const value =\n      props.value !== undefined ? props.value : props.defaultValue !== undefined ? props.defaultValue : props.min;\n\n    this.state = {\n      value: value,\n      renderedValue: undefined,\n    };\n  }\n\n  public componentWillUnmount() {\n    this._async.dispose();\n    this._disposeListeners();\n  }\n\n  public render(): React.ReactElement<{}> {\n    const {\n      ariaLabel,\n      className,\n      disabled,\n      label,\n      max,\n      min,\n      showValue,\n      buttonProps,\n      vertical,\n      valueFormat,\n      styles,\n      theme,\n      originFromZero,\n    } = this.props;\n    const value = this.value;\n    const renderedValue = this.renderedValue;\n    const thumbOffsetPercent: number = min === max ? 0 : ((renderedValue! - min!) / (max! - min!)) * 100;\n    const zeroOffsetPercent: number = min! >= 0 ? 0 : (-min! / (max! - min!)) * 100;\n    const lengthString = vertical ? 'height' : 'width';\n    const onMouseDownProp: {} = disabled ? {} : { onMouseDown: this._onMouseDownOrTouchStart };\n    const onTouchStartProp: {} = disabled ? {} : { onTouchStart: this._onMouseDownOrTouchStart };\n    const onKeyDownProp: {} = disabled ? {} : { onKeyDown: this._onKeyDown };\n    const classNames = getClassNames(styles, {\n      className,\n      disabled,\n      vertical,\n      showTransitions: renderedValue === value,\n      showValue,\n      theme: theme!,\n    });\n    const divButtonProps = buttonProps\n      ? getNativeProps<React.HTMLAttributes<HTMLDivElement>>(buttonProps, divProperties)\n      : undefined;\n\n    return (\n      <div className={classNames.root}>\n        {label && (\n          <Label className={classNames.titleLabel} {...(ariaLabel ? {} : { htmlFor: this._id })} disabled={disabled}>\n            {label}\n          </Label>\n        )}\n        <div className={classNames.container}>\n          <div\n            id={this._id}\n            aria-valuenow={value}\n            aria-valuemin={min}\n            aria-valuemax={max}\n            aria-valuetext={this._getAriaValueText(value)}\n            aria-label={ariaLabel || label}\n            aria-disabled={disabled}\n            {...onMouseDownProp}\n            {...onTouchStartProp}\n            {...onKeyDownProp}\n            {...divButtonProps}\n            className={css(classNames.slideBox, buttonProps!.className)}\n            role=\"slider\"\n            tabIndex={disabled ? undefined : 0}\n            data-is-focusable={!disabled}\n          >\n            <div ref={this._sliderLine} className={classNames.line}>\n              {originFromZero && (\n                <span\n                  className={css(classNames.zeroTick)}\n                  style={this._getStyleUsingOffsetPercent(vertical, zeroOffsetPercent)}\n                />\n              )}\n              <span\n                ref={this._thumb}\n                className={classNames.thumb}\n                style={this._getStyleUsingOffsetPercent(vertical, thumbOffsetPercent)}\n              />\n              {originFromZero ? (\n                <>\n                  <span\n                    className={css(classNames.lineContainer, classNames.inactiveSection)}\n                    style={{ [lengthString]: Math.min(thumbOffsetPercent, zeroOffsetPercent) + '%' }}\n                  />\n                  <span\n                    className={css(classNames.lineContainer, classNames.activeSection)}\n                    style={{ [lengthString]: Math.abs(zeroOffsetPercent - thumbOffsetPercent) + '%' }}\n                  />\n                  <span\n                    className={css(classNames.lineContainer, classNames.inactiveSection)}\n                    style={{ [lengthString]: Math.min(100 - thumbOffsetPercent, 100 - zeroOffsetPercent) + '%' }}\n                  />\n                </>\n              ) : (\n                <>\n                  <span\n                    className={css(classNames.lineContainer, classNames.activeSection)}\n                    style={{ [lengthString]: thumbOffsetPercent + '%' }}\n                  />\n                  <span\n                    className={css(classNames.lineContainer, classNames.inactiveSection)}\n                    style={{ [lengthString]: 100 - thumbOffsetPercent + '%' }}\n                  />\n                </>\n              )}\n            </div>\n          </div>\n          {showValue && (\n            <Label className={classNames.valueLabel} disabled={disabled}>\n              {valueFormat ? valueFormat(value!) : value}\n            </Label>\n          )}\n        </div>\n        <FocusRects />\n      </div>\n    ) as React.ReactElement<{}>;\n  }\n\n  public focus(): void {\n    if (this._thumb.current) {\n      this._thumb.current.focus();\n    }\n  }\n\n  public get value(): number | undefined {\n    const { value = this.state.value } = this.props;\n    if (this.props.min === undefined || this.props.max === undefined || value === undefined) {\n      return undefined;\n    } else {\n      return Math.max(this.props.min, Math.min(this.props.max, value));\n    }\n  }\n\n  private get renderedValue(): number | undefined {\n    // renderedValue is expected to be defined while user is interacting with control, otherwise `undefined`.\n    // Fall back to `value`.\n    const { renderedValue = this.value } = this.state;\n    return renderedValue;\n  }\n\n  private _getAriaValueText = (value: number | undefined): string | undefined => {\n    const { ariaValueText } = this.props;\n    if (value !== undefined) {\n      return ariaValueText ? ariaValueText(value) : value.toString();\n    }\n    return undefined;\n  };\n\n  private _getStyleUsingOffsetPercent(vertical: boolean | undefined, thumbOffsetPercent: number): any {\n    const direction: string = vertical ? 'bottom' : getRTL(this.props.theme) ? 'right' : 'left';\n    return {\n      [direction]: thumbOffsetPercent + '%',\n    };\n  }\n\n  private _onMouseDownOrTouchStart = (event: MouseEvent | TouchEvent): void => {\n    if (event.type === 'mousedown') {\n      this._disposables.push(\n        on(window, 'mousemove', this._onMouseMoveOrTouchMove, true),\n        on(window, 'mouseup', this._onMouseUpOrTouchEnd, true),\n      );\n    } else if (event.type === 'touchstart') {\n      this._disposables.push(\n        on(window, 'touchmove', this._onMouseMoveOrTouchMove, true),\n        on(window, 'touchend', this._onMouseUpOrTouchEnd, true),\n      );\n    }\n    this._onMouseMoveOrTouchMove(event, true);\n  };\n\n  private _onMouseMoveOrTouchMove = (event: MouseEvent | TouchEvent, suppressEventCancelation?: boolean): void => {\n    if (!this._sliderLine.current) {\n      return;\n    }\n\n    const { max, min, step } = this.props;\n    const steps: number = (max! - min!) / step!;\n    const sliderPositionRect: ClientRect = this._sliderLine.current.getBoundingClientRect();\n    const sliderLength: number = !this.props.vertical ? sliderPositionRect.width : sliderPositionRect.height;\n    const stepLength: number = sliderLength / steps;\n    let currentSteps: number | undefined;\n    let distance: number | undefined;\n\n    if (!this.props.vertical) {\n      const left: number | undefined = this._getPosition(event, this.props.vertical);\n      distance = getRTL(this.props.theme) ? sliderPositionRect.right - left! : left! - sliderPositionRect.left;\n      currentSteps = distance / stepLength;\n    } else {\n      const bottom: number | undefined = this._getPosition(event, this.props.vertical);\n      distance = sliderPositionRect.bottom - bottom!;\n      currentSteps = distance / stepLength;\n    }\n\n    let currentValue: number | undefined;\n    let renderedValue: number | undefined;\n\n    // The value shouldn't be bigger than max or be smaller than min.\n    if (currentSteps! > Math.floor(steps)) {\n      renderedValue = currentValue = max as number;\n    } else if (currentSteps! < 0) {\n      renderedValue = currentValue = min as number;\n    } else {\n      renderedValue = min! + step! * currentSteps!;\n      currentValue = min! + step! * Math.round(currentSteps!);\n    }\n\n    this._updateValue(currentValue, renderedValue);\n\n    if (!suppressEventCancelation) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n\n  private _getPosition(event: MouseEvent | TouchEvent, vertical: boolean | undefined): number | undefined {\n    let currentPosition: number | undefined;\n    switch (event.type) {\n      case 'mousedown':\n      case 'mousemove':\n        currentPosition = !vertical ? (event as MouseEvent).clientX : (event as MouseEvent).clientY;\n        break;\n      case 'touchstart':\n      case 'touchmove':\n        currentPosition = !vertical\n          ? (event as TouchEvent).touches[0].clientX\n          : (event as TouchEvent).touches[0].clientY;\n        break;\n    }\n    return currentPosition;\n  }\n  private _updateValue(value: number, renderedValue: number): void {\n    const { step, snapToStep } = this.props;\n    let numDec = 0;\n    if (isFinite(step!)) {\n      while (Math.round(step! * Math.pow(10, numDec)) / Math.pow(10, numDec) !== step!) {\n        numDec++;\n      }\n    }\n\n    // Make sure value has correct number of decimal places based on number of decimals in step\n    const roundedValue = parseFloat(value.toFixed(numDec));\n    const valueChanged = roundedValue !== this.state.value;\n\n    if (snapToStep) {\n      renderedValue = roundedValue;\n    }\n\n    this.setState(\n      {\n        value: roundedValue,\n        renderedValue,\n      },\n      () => {\n        if (valueChanged && this.props.onChange) {\n          this.props.onChange(this.state.value as number);\n        }\n      },\n    );\n  }\n\n  private _onMouseUpOrTouchEnd = (event: MouseEvent | TouchEvent): void => {\n    // Disable renderedValue override.\n    this.setState({\n      renderedValue: undefined,\n    });\n\n    if (this.props.onChanged) {\n      this.props.onChanged(event, this.state.value as number);\n    }\n\n    this._disposeListeners();\n  };\n\n  private _disposeListeners = (): void => {\n    this._disposables.forEach(dispose => dispose());\n    this._disposables = [];\n  };\n\n  private _onKeyDown = (event: KeyboardEvent): void => {\n    let value: number | undefined = this.state.value;\n    const { max, min, step } = this.props;\n\n    let diff: number | undefined = 0;\n\n    // tslint:disable-next-line:deprecation\n    switch (event.which) {\n      case getRTLSafeKeyCode(KeyCodes.left, this.props.theme):\n      case KeyCodes.down:\n        diff = -(step as number);\n\n        this._clearOnKeyDownTimer();\n        this._setOnKeyDownTimer(event);\n\n        break;\n      case getRTLSafeKeyCode(KeyCodes.right, this.props.theme):\n      case KeyCodes.up:\n        diff = step;\n\n        this._clearOnKeyDownTimer();\n        this._setOnKeyDownTimer(event);\n\n        break;\n\n      case KeyCodes.home:\n        value = min;\n        break;\n\n      case KeyCodes.end:\n        value = max;\n        break;\n\n      default:\n        return;\n    }\n\n    const newValue: number = Math.min(max as number, Math.max(min as number, value! + diff!));\n\n    this._updateValue(newValue, newValue);\n\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  private _clearOnKeyDownTimer = (): void => {\n    this._async.clearTimeout(this._onKeyDownTimer);\n  };\n\n  private _setOnKeyDownTimer = (event: KeyboardEvent): void => {\n    this._onKeyDownTimer = this._async.setTimeout(() => {\n      if (this.props.onChanged) {\n        this.props.onChanged(event, this.state.value as number);\n      }\n    }, ONKEYDOWN_TIMEOUT_DURATION);\n  };\n}\n","import { ISliderStyleProps, ISliderStyles } from './Slider.types';\nimport { getGlobalClassNames, HighContrastSelector, AnimationVariables, getFocusStyle } from '../../Styling';\nimport { getRTL } from '@uifabric/utilities';\n\nconst GlobalClassNames = {\n  root: 'ms-Slider',\n  enabled: 'ms-Slider-enabled',\n  disabled: 'ms-Slider-disabled',\n  row: 'ms-Slider-row',\n  column: 'ms-Slider-column',\n  container: 'ms-Slider-container',\n  slideBox: 'ms-Slider-slideBox',\n  line: 'ms-Slider-line',\n  thumb: 'ms-Slider-thumb',\n  activeSection: 'ms-Slider-active',\n  inactiveSection: 'ms-Slider-inactive',\n  valueLabel: 'ms-Slider-value',\n  showValue: 'ms-Slider-showValue',\n  showTransitions: 'ms-Slider-showTransitions',\n  zeroTick: 'ms-Slider-zeroTick',\n};\n\nexport const getStyles = (props: ISliderStyleProps): ISliderStyles => {\n  const { className, titleLabelClassName, theme, vertical, disabled, showTransitions, showValue } = props;\n  const { semanticColors } = theme;\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  /** Tokens:\n   *   The word \"active\" in the token refers to the selected section of the slider\n   *   The word \"inactive\" in the token refers to the unselected section of the slider */\n  const pressedActiveSectionColor = semanticColors.inputBackgroundCheckedHovered;\n  const hoveredActiveSectionColor = semanticColors.inputBackgroundChecked;\n  const hoveredPressedinactiveSectionColor = semanticColors.inputPlaceholderBackgroundChecked;\n  const restActiveSectionColor = semanticColors.smallInputBorder;\n  const restInactiveSectionColor = semanticColors.disabledBorder;\n\n  const disabledActiveSectionColor = semanticColors.disabledText;\n  const disabledInactiveSectionColor = semanticColors.disabledBackground;\n\n  const thumbBackgroundColor = semanticColors.inputBackground;\n  const thumbBorderColor = semanticColors.smallInputBorder;\n  const thumbDisabledBorderColor = semanticColors.disabledBorder;\n\n  const slideBoxActiveSectionStyles = !disabled && {\n    backgroundColor: pressedActiveSectionColor,\n    selectors: {\n      [HighContrastSelector]: {\n        backgroundColor: 'Highlight',\n      },\n    },\n  };\n\n  const slideBoxInactiveSectionStyles = !disabled && {\n    backgroundColor: hoveredPressedinactiveSectionColor,\n    selectors: {\n      [HighContrastSelector]: {\n        borderColor: 'Highlight',\n      },\n    },\n  };\n\n  const slideHoverSectionStyles = !disabled && {\n    backgroundColor: hoveredActiveSectionColor,\n    selectors: {\n      [HighContrastSelector]: {\n        backgroundColor: 'Highlight',\n      },\n    },\n  };\n\n  const slideBoxActiveThumbStyles = !disabled && {\n    border: `2px solid ${pressedActiveSectionColor}`,\n    selectors: {\n      [HighContrastSelector]: {\n        borderColor: 'Highlight',\n      },\n    },\n  };\n\n  const slideBoxActiveZeroTickStyles = !props.disabled && {\n    backgroundColor: semanticColors.inputPlaceholderBackgroundChecked,\n    selectors: {\n      [HighContrastSelector]: {\n        backgroundColor: 'Highlight',\n      },\n    },\n  };\n\n  return {\n    root: [\n      classNames.root,\n      theme.fonts.medium,\n      {\n        userSelect: 'none',\n      },\n      vertical && {\n        marginRight: 8,\n      },\n      ...[!disabled ? classNames.enabled : undefined],\n      ...[disabled ? classNames.disabled : undefined],\n      ...[!vertical ? classNames.row : undefined],\n      ...[vertical ? classNames.column : undefined],\n      className,\n    ],\n    titleLabel: [\n      {\n        padding: 0,\n      },\n      titleLabelClassName,\n    ],\n    container: [\n      classNames.container,\n      {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        alignItems: 'center',\n      },\n      vertical && {\n        flexDirection: 'column',\n        height: '100%',\n        textAlign: 'center',\n        margin: '8px 0',\n      },\n    ],\n    slideBox: [\n      classNames.slideBox,\n      getFocusStyle(theme),\n      {\n        background: 'transparent',\n        border: 'none',\n        flexGrow: 1,\n        lineHeight: 28,\n        display: 'flex',\n        alignItems: 'center',\n        selectors: {\n          [`:active .${classNames.activeSection}`]: slideBoxActiveSectionStyles,\n          [`:hover .${classNames.activeSection}`]: slideHoverSectionStyles,\n          [`:active .${classNames.inactiveSection}`]: slideBoxInactiveSectionStyles,\n          [`:hover .${classNames.inactiveSection}`]: slideBoxInactiveSectionStyles,\n          [`:active .${classNames.thumb}`]: slideBoxActiveThumbStyles,\n          [`:hover .${classNames.thumb}`]: slideBoxActiveThumbStyles,\n          [`:active .${classNames.zeroTick}`]: slideBoxActiveZeroTickStyles,\n          [`:hover .${classNames.zeroTick}`]: slideBoxActiveZeroTickStyles,\n        },\n      },\n      vertical\n        ? {\n            height: '100%',\n            width: 28,\n            padding: '8px 0', // Make room for thumb at bottom of line\n          }\n        : {\n            height: 28,\n            width: 'auto',\n            padding: '0 8px', // Make room for thumb at ends of line\n          },\n      ...[showValue ? classNames.showValue : undefined],\n      ...[showTransitions ? classNames.showTransitions : undefined],\n    ],\n    thumb: [\n      classNames.thumb,\n      {\n        borderWidth: 2,\n        borderStyle: 'solid',\n        borderColor: thumbBorderColor,\n        borderRadius: 10,\n        boxSizing: 'border-box',\n        background: thumbBackgroundColor,\n        display: 'block',\n        width: 16,\n        height: 16,\n        position: 'absolute',\n      },\n      vertical\n        ? {\n            left: -6,\n            margin: '0 auto',\n            transform: 'translateY(8px)',\n          }\n        : {\n            top: -6,\n            transform: getRTL(theme) ? 'translateX(50%)' : 'translateX(-50%)',\n          },\n      showTransitions && {\n        transition: `left ${AnimationVariables.durationValue3} ${AnimationVariables.easeFunction1}`,\n      },\n      disabled && {\n        borderColor: thumbDisabledBorderColor,\n        selectors: {\n          [HighContrastSelector]: {\n            borderColor: 'GrayText',\n          },\n        },\n      },\n    ],\n    line: [\n      classNames.line,\n      {\n        display: 'flex',\n        position: 'relative',\n      },\n      vertical\n        ? {\n            height: '100%',\n            width: 4,\n            margin: '0 auto',\n            flexDirection: 'column-reverse',\n          }\n        : {\n            width: '100%',\n          },\n    ],\n    lineContainer: [\n      {\n        borderRadius: 4,\n        boxSizing: 'border-box',\n      },\n      vertical\n        ? {\n            width: 4,\n            height: '100%',\n          }\n        : {\n            height: 4,\n            width: '100%',\n          },\n    ],\n    activeSection: [\n      classNames.activeSection,\n      {\n        background: restActiveSectionColor,\n        selectors: {\n          [HighContrastSelector]: {\n            backgroundColor: 'WindowText',\n          },\n        },\n      },\n      showTransitions && {\n        transition: `width ${AnimationVariables.durationValue3} ${AnimationVariables.easeFunction1}`,\n      },\n      disabled && {\n        background: disabledActiveSectionColor,\n        selectors: {\n          [HighContrastSelector]: {\n            backgroundColor: 'GrayText',\n            borderColor: 'GrayText',\n          },\n        },\n      },\n    ],\n    inactiveSection: [\n      classNames.inactiveSection,\n      {\n        background: restInactiveSectionColor,\n        selectors: {\n          [HighContrastSelector]: {\n            border: '1px solid WindowText',\n          },\n        },\n      },\n      showTransitions && {\n        transition: `width ${AnimationVariables.durationValue3} ${AnimationVariables.easeFunction1}`,\n      },\n      disabled && {\n        background: disabledInactiveSectionColor,\n        selectors: {\n          [HighContrastSelector]: {\n            borderColor: 'GrayText',\n          },\n        },\n      },\n    ],\n    zeroTick: [\n      classNames.zeroTick,\n      {\n        position: 'absolute',\n        background: semanticColors.disabledBorder,\n        selectors: {\n          [HighContrastSelector]: {\n            backgroundColor: 'WindowText',\n          },\n        },\n      },\n      props.disabled && {\n        background: semanticColors.disabledBackground,\n        selectors: {\n          [HighContrastSelector]: {\n            backgroundColor: 'GrayText',\n          },\n        },\n      },\n      props.vertical\n        ? {\n            width: '16px',\n            height: '1px',\n            transform: getRTL(theme) ? 'translateX(6px)' : 'translateX(-6px)',\n          }\n        : {\n            width: '1px',\n            height: '16px',\n            transform: 'translateY(-6px)',\n          },\n    ],\n    valueLabel: [\n      classNames.valueLabel,\n      {\n        flexShrink: 1,\n        width: 30,\n        lineHeight: '1', // using a string here meaning it's relative to the size of the font\n      },\n      vertical\n        ? {\n            margin: '0 auto',\n            whiteSpace: 'nowrap',\n            width: 40,\n          }\n        : {\n            margin: '0 8px',\n            whiteSpace: 'nowrap',\n            width: 40,\n          },\n    ],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\n\nimport { ISliderProps, ISliderStyleProps, ISliderStyles } from './Slider.types';\n\nimport { SliderBase } from './Slider.base';\nimport { getStyles } from './Slider.styles';\n\nexport const Slider: React.FunctionComponent<ISliderProps> = styled<ISliderProps, ISliderStyleProps, ISliderStyles>(\n  SliderBase,\n  getStyles,\n  undefined,\n  {\n    scope: 'Slider',\n  },\n);\n","import { Point } from './Point';\nimport { ISize } from './ISize';\n\n/**\n * Determines the distance between two points.\n *\n * @public\n */\n// tslint:disable:deprecation\nexport function getDistanceBetweenPoints(point1: Point, point2: Point): number {\n  const left1 = point1.left || point1.x || 0;\n  const top1 = point1.top || point1.y || 0;\n  const left2 = point2.left || point2.x || 0;\n  const top2 = point2.top || point2.y || 0;\n  // tslint:enable:deprecation\n\n  let distance = Math.sqrt(Math.pow(left1 - left2, 2) + Math.pow(top1 - top2, 2));\n\n  return distance;\n}\n\n/**\n * The available fit modes. These should match the fit modes for CSS.\n */\nexport type FitMode = 'contain' | 'cover';\n\n/**\n * Options for fitting content sizes into bounding sizes.\n */\nexport interface IFitContentToBoundsOptions {\n  /**\n   * The size of the content to fit to the bounds.\n   * The output will be proportional to this value.\n   */\n  contentSize: ISize;\n  /**\n   * The size of the bounds.\n   */\n  boundsSize: ISize;\n  /**\n   * The fit mode to apply, either 'contain' or 'cover'.\n   */\n  mode: FitMode;\n  /**\n   * An optional maximum scale factor to apply. The default is 1.\n   * Use Infinity for an unbounded resize.\n   */\n  maxScale?: number;\n}\n\n/**\n * Produces a proportionally-scaled version of an input content size when fit to a bounding size.\n * Given a `contentSize` and a `boundsSize`, this function scales `contentSize` proportionally\n * using either `contain` or `cover` fit behaviors.\n * Use this function to pre-calculate the layout for the CSS `object-fit` and `background-fit` behaviors.\n * With `contain`, the output size must be the largest it can be while completely within the `boundsSize`.\n * With `cover`, the output size must be the smallest it can be while completely around the `boundsSize`.\n * By default, there is a `maxScale` value of 1, which prevents the `contentSize` from being scaled larger.\n *\n * @param options - the options for the bounds fit operation\n */\nexport function fitContentToBounds(options: IFitContentToBoundsOptions): ISize {\n  const { contentSize, boundsSize, mode = 'contain', maxScale = 1 } = options;\n\n  const contentAspectRatio = contentSize.width / contentSize.height;\n  const boundsAspectRatio = boundsSize.width / boundsSize.height;\n\n  let scale: number;\n\n  if (mode === 'contain' ? contentAspectRatio > boundsAspectRatio : contentAspectRatio < boundsAspectRatio) {\n    scale = boundsSize.width / contentSize.width;\n  } else {\n    scale = boundsSize.height / contentSize.height;\n  }\n\n  const finalScale = Math.min(maxScale, scale);\n\n  return {\n    width: contentSize.width * finalScale,\n    height: contentSize.height * finalScale,\n  };\n}\n\n/**\n * Calculates a number's precision based on the number of trailing\n * zeros if the number does not have a decimal indicated by a negative\n * precision. Otherwise, it calculates the number of digits after\n * the decimal point indicated by a positive precision.\n * @param value - the value to determine the precision of\n */\nexport function calculatePrecision(value: number | string): number {\n  /**\n   * Group 1:\n   * [1-9]([0]+$) matches trailing zeros\n   * Group 2:\n   * \\.([0-9]*) matches all digits after a decimal point.\n   */\n  const groups = /[1-9]([0]+$)|\\.([0-9]*)/.exec(String(value));\n  if (!groups) {\n    return 0;\n  }\n  if (groups[1]) {\n    return -groups[1].length;\n  }\n  if (groups[2]) {\n    return groups[2].length;\n  }\n  return 0;\n}\n\n/**\n * Rounds a number to a certain level of precision. Accepts negative precision.\n * @param value - The value that is being rounded.\n * @param precision - The number of decimal places to round the number to\n */\nexport function precisionRound(value: number, precision: number, base: number = 10): number {\n  const exp = Math.pow(base, precision);\n  return Math.round(value * exp) / exp;\n}\n","import {\r\n  IRawStyle,\r\n  ITheme,\r\n  concatStyleSets,\r\n  HighContrastSelector,\r\n  IconFontSizes,\r\n  getInputFocusStyle,\r\n} from '../../Styling';\r\nimport { IButtonStyles } from '../../Button';\r\nimport { ISpinButtonStyles } from './SpinButton.types';\r\nimport { memoizeFunction } from '../../Utilities';\r\n\r\nconst ARROW_BUTTON_WIDTH = 23;\r\nconst ARROW_BUTTON_ICON_SIZE = 8;\r\nconst DEFAULT_HEIGHT = 32;\r\nconst DEFAULT_MIN_WIDTH = 86;\r\nconst LABEL_MARGIN = 10;\r\n\r\nconst _getDisabledStyles = memoizeFunction(\r\n  (theme: ITheme): IRawStyle => {\r\n    const { semanticColors } = theme;\r\n\r\n    const SpinButtonTextColorDisabled = semanticColors.disabledText;\r\n    const SpinButtonBackgroundColorDisabled = semanticColors.disabledBackground;\r\n\r\n    return {\r\n      backgroundColor: SpinButtonBackgroundColorDisabled,\r\n      pointerEvents: 'none',\r\n      cursor: 'default',\r\n      color: SpinButtonTextColorDisabled,\r\n      selectors: {\r\n        ':after': {\r\n          borderColor: SpinButtonBackgroundColorDisabled,\r\n        },\r\n        [HighContrastSelector]: {\r\n          color: 'GrayText',\r\n        },\r\n      },\r\n    };\r\n  },\r\n);\r\n\r\nexport const getArrowButtonStyles = memoizeFunction(\r\n  (theme: ITheme, isUpArrow: boolean, customSpecificArrowStyles?: Partial<IButtonStyles>): IButtonStyles => {\r\n    const { palette, semanticColors, effects } = theme;\r\n\r\n    // TODO: after updating the semanticColor slots all this need to be reevaluated.\r\n    const ArrowButtonTextColor = palette.neutralSecondary;\r\n    const ArrowButtonTextColorHovered = semanticColors.buttonText;\r\n    const ArrowButtonTextColorPressed = semanticColors.buttonText;\r\n\r\n    const ArrowButtonBackgroundHovered = semanticColors.buttonBackgroundHovered;\r\n    const ArrowButtonBackgroundPressed = semanticColors.buttonBackgroundPressed;\r\n\r\n    const defaultArrowButtonStyles: IButtonStyles = {\r\n      root: {\r\n        outline: 'none',\r\n        display: 'block',\r\n        height: '50%',\r\n        width: ARROW_BUTTON_WIDTH,\r\n        padding: 0,\r\n        backgroundColor: 'transparent',\r\n        textAlign: 'center',\r\n        cursor: 'default',\r\n        color: ArrowButtonTextColor,\r\n        selectors: {\r\n          '&.ms-DownButton': {\r\n            borderRadius: `0 0 ${effects.roundedCorner2} 0`,\r\n          },\r\n          '&.ms-UpButton': {\r\n            borderRadius: `0 ${effects.roundedCorner2} 0 0`,\r\n          },\r\n        },\r\n      },\r\n      rootHovered: {\r\n        backgroundColor: ArrowButtonBackgroundHovered,\r\n        color: ArrowButtonTextColorHovered,\r\n      },\r\n      rootChecked: {\r\n        backgroundColor: ArrowButtonBackgroundPressed,\r\n        color: ArrowButtonTextColorPressed,\r\n        selectors: {\r\n          [HighContrastSelector]: {\r\n            backgroundColor: 'Highlight',\r\n            color: 'HighlightText',\r\n          },\r\n        },\r\n      },\r\n      rootPressed: {\r\n        backgroundColor: ArrowButtonBackgroundPressed,\r\n        color: ArrowButtonTextColorPressed,\r\n        selectors: {\r\n          [HighContrastSelector]: {\r\n            backgroundColor: 'Highlight',\r\n            color: 'HighlightText',\r\n          },\r\n        },\r\n      },\r\n      rootDisabled: {\r\n        opacity: 0.5,\r\n        selectors: {\r\n          [HighContrastSelector]: {\r\n            color: 'GrayText',\r\n            opacity: 1,\r\n          },\r\n        },\r\n      },\r\n      icon: {\r\n        fontSize: ARROW_BUTTON_ICON_SIZE,\r\n        marginTop: 0,\r\n        marginRight: 0,\r\n        marginBottom: 0,\r\n        marginLeft: 0,\r\n      },\r\n    };\r\n\r\n    // No specific styles needed as of now.\r\n    const defaultUpArrowButtonStyles: Partial<IButtonStyles> = {};\r\n\r\n    const defaultDownArrowButtonStyles: Partial<IButtonStyles> = {};\r\n\r\n    return concatStyleSets(\r\n      defaultArrowButtonStyles,\r\n      isUpArrow ? defaultUpArrowButtonStyles : defaultDownArrowButtonStyles,\r\n      customSpecificArrowStyles,\r\n    ) as IButtonStyles;\r\n  },\r\n);\r\n\r\nexport const getStyles = memoizeFunction(\r\n  (theme: ITheme, customStyles?: Partial<ISpinButtonStyles>): ISpinButtonStyles => {\r\n    const { palette, semanticColors, effects, fonts } = theme;\r\n\r\n    const SpinButtonRootBorderColor = semanticColors.inputBorder;\r\n    const SpinButtonRootBackgroundColor = semanticColors.inputBackground;\r\n    const SpinButtonRootBorderColorHovered = semanticColors.inputBorderHovered;\r\n    const SpinButtonRootBorderColorFocused = semanticColors.inputFocusBorderAlt;\r\n\r\n    const SpinButtonInputTextColor = semanticColors.inputText;\r\n    const SpinButtonInputTextColorSelected = palette.white;\r\n    const SpinButtonInputBackgroundColorSelected = semanticColors.inputBackgroundChecked;\r\n\r\n    const SpinButtonIconDisabledColor = semanticColors.disabledText;\r\n\r\n    const defaultStyles: ISpinButtonStyles = {\r\n      root: {\r\n        outline: 'none',\r\n        fontSize: fonts.medium.fontSize,\r\n        width: '100%',\r\n        minWidth: DEFAULT_MIN_WIDTH,\r\n      },\r\n      labelWrapper: {\r\n        display: 'inline-flex',\r\n        alignItems: 'center',\r\n      },\r\n      labelWrapperStart: {\r\n        height: DEFAULT_HEIGHT,\r\n        float: 'left',\r\n        marginRight: LABEL_MARGIN,\r\n      },\r\n      labelWrapperEnd: {\r\n        height: DEFAULT_HEIGHT,\r\n        float: 'right',\r\n        marginLeft: LABEL_MARGIN,\r\n      },\r\n      labelWrapperTop: {\r\n        // Due to the lineHeight set on the label (below), the height of the wrapper (contains icon+label)\r\n        // ends up 1px taller than a standard label height, causing the vertical alignment to be off when\r\n        // the SpinButton is displayed with the label on top next to other form fields.\r\n        // Decrease the wrapper's effective height slightly to compensate.\r\n        marginBottom: -1,\r\n      },\r\n      labelWrapperBottom: {},\r\n      icon: {\r\n        padding: '0 5px',\r\n        fontSize: IconFontSizes.large,\r\n      },\r\n      iconDisabled: {\r\n        color: SpinButtonIconDisabledColor,\r\n      },\r\n      label: {\r\n        pointerEvents: 'none',\r\n        // centering the label with the icon by forcing the exact same height as the icon.\r\n        lineHeight: IconFontSizes.large,\r\n      },\r\n      labelDisabled: {},\r\n      spinButtonWrapper: {\r\n        display: 'flex',\r\n        position: 'relative',\r\n        boxSizing: 'border-box',\r\n        height: DEFAULT_HEIGHT,\r\n        minWidth: DEFAULT_MIN_WIDTH,\r\n        selectors: {\r\n          // setting border using pseudo-element here in order to prevent:\r\n          // input and chevron buttons to overlap border under certain resolutions\r\n          ':after': {\r\n            pointerEvents: 'none',\r\n            content: \"''\",\r\n            position: 'absolute',\r\n            left: 0,\r\n            top: 0,\r\n            bottom: 0,\r\n            right: 0,\r\n            borderWidth: '1px',\r\n            borderStyle: 'solid',\r\n            borderColor: SpinButtonRootBorderColor,\r\n            borderRadius: effects.roundedCorner2,\r\n          },\r\n        },\r\n      },\r\n      spinButtonWrapperTopBottom: {\r\n        width: '100%',\r\n      },\r\n      spinButtonWrapperHovered: {\r\n        selectors: {\r\n          ':after': {\r\n            borderColor: SpinButtonRootBorderColorHovered,\r\n          },\r\n          [HighContrastSelector]: {\r\n            selectors: {\r\n              ':after': {\r\n                borderColor: 'Highlight',\r\n              },\r\n            },\r\n          },\r\n        },\r\n      },\r\n      spinButtonWrapperFocused: getInputFocusStyle(SpinButtonRootBorderColorFocused, effects.roundedCorner2),\r\n      spinButtonWrapperDisabled: _getDisabledStyles(theme),\r\n      input: {\r\n        boxSizing: 'border-box',\r\n        boxShadow: 'none',\r\n        borderStyle: 'none',\r\n        flex: 1,\r\n        margin: 0,\r\n        fontSize: fonts.medium.fontSize,\r\n        color: SpinButtonInputTextColor,\r\n        backgroundColor: SpinButtonRootBackgroundColor,\r\n        height: '100%',\r\n        padding: '0 8px 0 9px',\r\n        outline: 0,\r\n        display: 'block',\r\n        minWidth: DEFAULT_MIN_WIDTH - ARROW_BUTTON_WIDTH - 2,\r\n        whiteSpace: 'nowrap',\r\n        textOverflow: 'ellipsis',\r\n        overflow: 'hidden',\r\n        cursor: 'text',\r\n        userSelect: 'text',\r\n        borderRadius: `${effects.roundedCorner2} 0 0 ${effects.roundedCorner2}`,\r\n      },\r\n      inputTextSelected: {\r\n        backgroundColor: SpinButtonInputBackgroundColorSelected,\r\n        color: SpinButtonInputTextColorSelected,\r\n        selectors: {\r\n          [HighContrastSelector]: {\r\n            backgroundColor: 'Highlight',\r\n            borderColor: 'Highlight',\r\n            color: 'HighlightText',\r\n          },\r\n        },\r\n      },\r\n      inputDisabled: _getDisabledStyles(theme),\r\n      arrowButtonsContainer: {\r\n        display: 'block',\r\n        height: '100%',\r\n        cursor: 'default',\r\n      },\r\n      arrowButtonsContainerDisabled: _getDisabledStyles(theme),\r\n    };\r\n    return concatStyleSets(defaultStyles, customStyles) as ISpinButtonStyles;\r\n  },\r\n);\r\n","import { memoizeFunction } from '../../Utilities';\nimport { mergeStyles, IStyle } from '../../Styling';\nimport { ISpinButtonStyles } from './SpinButton.types';\nimport { KeyboardSpinDirection } from './SpinButton';\nimport { Position } from '../../utilities/positioning';\n\nexport interface ISpinButtonClassNames {\n  root: string;\n  labelWrapper: string;\n  icon: string;\n  label: string;\n  spinButtonWrapper: string;\n  input: string;\n  arrowBox: string;\n}\n\nexport const getClassNames = memoizeFunction(\n  (\n    styles: ISpinButtonStyles,\n    disabled: boolean,\n    isFocused: boolean,\n    keyboardSpinDirection: KeyboardSpinDirection,\n    labelPosition: Position = Position.start,\n    className: string | undefined = undefined,\n  ): ISpinButtonClassNames => {\n    return {\n      root: mergeStyles(styles.root, className),\n      labelWrapper: mergeStyles(styles.labelWrapper, _getStyleForLabelBasedOnPosition(labelPosition, styles)),\n      icon: mergeStyles(styles.icon, disabled && styles.iconDisabled),\n      label: mergeStyles(styles.label),\n      spinButtonWrapper: mergeStyles(\n        styles.spinButtonWrapper,\n        _getStyleForRootBasedOnPosition(labelPosition, styles),\n        !disabled && [\n          {\n            selectors: {\n              ':hover': styles.spinButtonWrapperHovered,\n            },\n          },\n          isFocused && {\n            // This is to increase the specificity of the focus styles\n            // and make it equal to that of the hover styles.\n            selectors: {\n              '&&': styles.spinButtonWrapperFocused,\n            },\n          },\n        ],\n        disabled && styles.spinButtonWrapperDisabled,\n      ),\n      input: mergeStyles(\n        'ms-spinButton-input',\n        styles.input,\n        !disabled && {\n          selectors: {\n            '::selection': styles.inputTextSelected,\n          },\n        },\n        disabled && styles.inputDisabled,\n      ),\n      arrowBox: mergeStyles(styles.arrowButtonsContainer, disabled && styles.arrowButtonsContainerDisabled),\n    };\n  },\n);\n\n/**\n * Returns the Style corresponding to the label position\n */\nfunction _getStyleForLabelBasedOnPosition(labelPosition: Position, styles: ISpinButtonStyles): IStyle {\n  switch (labelPosition) {\n    case Position.start:\n      return styles.labelWrapperStart;\n    case Position.end:\n      return styles.labelWrapperEnd;\n    case Position.top:\n      return styles.labelWrapperTop;\n    case Position.bottom:\n      return styles.labelWrapperBottom;\n  }\n}\n\n/**\n * Returns the Style corresponding to the label position\n */\nfunction _getStyleForRootBasedOnPosition(labelPosition: Position, styles: ISpinButtonStyles): IStyle {\n  switch (labelPosition) {\n    case Position.top:\n    case Position.bottom:\n      return styles.spinButtonWrapperTopBottom;\n    default:\n      return {};\n  }\n}\n","import * as React from 'react';\nimport { IconButton } from '../../Button';\nimport { Label } from '../../Label';\nimport { Icon } from '../../Icon';\nimport {\n  initializeComponentRef,\n  warnMutuallyExclusive,\n  Async,\n  getId,\n  KeyCodes,\n  customizable,\n  calculatePrecision,\n  precisionRound,\n  mergeAriaAttributeValues,\n  getNativeProps,\n  divProperties,\n} from '../../Utilities';\nimport { ISpinButton, ISpinButtonProps } from './SpinButton.types';\nimport { Position } from '../../utilities/positioning';\nimport { getStyles, getArrowButtonStyles } from './SpinButton.styles';\nimport { getClassNames } from './SpinButton.classNames';\nimport { KeytipData } from '../../KeytipData';\n\nexport enum KeyboardSpinDirection {\n  down = -1,\n  notSpinning = 0,\n  up = 1,\n}\n\nexport interface ISpinButtonState {\n  /**\n   * Is true when the control has focus.\n   */\n  isFocused: boolean;\n\n  /**\n   * the value of the spin button\n   */\n  value: string;\n\n  /**\n   * keyboard spin direction, used to style the up or down button\n   * as active when up/down arrow is pressed\n   */\n  keyboardSpinDirection: KeyboardSpinDirection;\n}\n\n// TODO (Fabric Next): remove default min/max values (issue #11358).\nexport type DefaultProps = Required<\n  Pick<\n    ISpinButtonProps,\n    'step' | 'min' | 'max' | 'disabled' | 'labelPosition' | 'label' | 'incrementButtonIcon' | 'decrementButtonIcon'\n  >\n>;\n\n/** Internal only props */\ntype ISpinButtonInternalProps = ISpinButtonProps & DefaultProps;\n\n@customizable('SpinButton', ['theme', 'styles'], true)\nexport class SpinButton extends React.Component<ISpinButtonProps, ISpinButtonState> implements ISpinButton {\n  public static defaultProps: DefaultProps = {\n    step: 1,\n    min: 0,\n    max: 100,\n    disabled: false,\n    labelPosition: Position.start,\n    label: '',\n    incrementButtonIcon: { iconName: 'ChevronUpSmall' },\n    decrementButtonIcon: { iconName: 'ChevronDownSmall' },\n  };\n\n  private _async: Async;\n  private _input = React.createRef<HTMLInputElement>();\n  private _inputId: string;\n  private _labelId: string;\n  private _lastValidValue: string;\n  private _spinningByMouse: boolean;\n  private _valueToValidate: string | undefined; // To avoid duplicate validations/submissions\n  private _precision: number;\n\n  private _currentStepFunctionHandle: number;\n  private _initialStepDelay = 400;\n  private _stepDelay = 75;\n\n  constructor(props: ISpinButtonProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    warnMutuallyExclusive('SpinButton', props, {\n      value: 'defaultValue',\n    });\n\n    // Don't use || here because it won't handle empty strings properly\n    let { value = props.defaultValue } = props;\n    if (value === undefined) {\n      value = typeof props.min === 'number' ? String(props.min) : '0';\n    }\n    this._lastValidValue = value;\n\n    // Ensure that the autocalculated precision is not negative.\n    this._precision = this._calculatePrecision(props as ISpinButtonInternalProps);\n\n    this.state = {\n      isFocused: false,\n      value,\n      keyboardSpinDirection: KeyboardSpinDirection.notSpinning,\n    };\n\n    this._async = new Async(this);\n    this._currentStepFunctionHandle = -1;\n    this._labelId = getId('Label');\n    this._inputId = getId('input');\n    this._spinningByMouse = false;\n    this._valueToValidate = undefined;\n  }\n\n  public componentWillUnmount(): void {\n    this._async.dispose();\n  }\n\n  /**\n   * Invoked when a component is receiving new props. This method is not called for the initial render.\n   */\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillReceiveProps(newProps: ISpinButtonProps): void {\n    if (newProps.value !== undefined) {\n      // Value from props is considered pre-validated\n      this._lastValidValue = newProps.value;\n      this.setState({ value: newProps.value });\n    }\n    this._precision = this._calculatePrecision(newProps as ISpinButtonProps & DefaultProps);\n  }\n\n  public render(): JSX.Element {\n    const {\n      disabled,\n      label,\n      min,\n      max,\n      labelPosition,\n      iconProps,\n      incrementButtonIcon,\n      incrementButtonAriaLabel,\n      decrementButtonIcon,\n      decrementButtonAriaLabel,\n      ariaLabel,\n      ariaDescribedBy,\n      styles: customStyles,\n      upArrowButtonStyles: customUpArrowButtonStyles,\n      downArrowButtonStyles: customDownArrowButtonStyles,\n      theme,\n      ariaPositionInSet,\n      ariaSetSize,\n      ariaValueNow,\n      ariaValueText,\n      keytipProps,\n      className,\n      inputProps,\n      iconButtonProps,\n    } = this.props as ISpinButtonInternalProps;\n\n    const { isFocused, keyboardSpinDirection } = this.state;\n    const value = this.value;\n\n    const classNames = this.props.getClassNames\n      ? this.props.getClassNames(theme!, disabled, isFocused, keyboardSpinDirection, labelPosition, className)\n      : getClassNames(\n          getStyles(theme!, customStyles),\n          disabled,\n          isFocused,\n          keyboardSpinDirection,\n          labelPosition,\n          className,\n        );\n\n    const nativeProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties, [\n      'onBlur',\n      'onFocus',\n      'className',\n    ]);\n\n    return (\n      <div className={classNames.root}>\n        {labelPosition !== Position.bottom && (iconProps || label) && (\n          <div className={classNames.labelWrapper}>\n            {iconProps && <Icon {...iconProps} className={classNames.icon} aria-hidden=\"true\" />}\n            {label && (\n              <Label id={this._labelId} htmlFor={this._inputId} className={classNames.label} disabled={disabled}>\n                {label}\n              </Label>\n            )}\n          </div>\n        )}\n        <KeytipData keytipProps={keytipProps} disabled={disabled}>\n          {(keytipAttributes: any): JSX.Element => (\n            <div\n              {...nativeProps}\n              className={classNames.spinButtonWrapper}\n              aria-label={ariaLabel && ariaLabel}\n              aria-posinset={ariaPositionInSet}\n              aria-setsize={ariaSetSize}\n              data-ktp-target={keytipAttributes['data-ktp-target']}\n            >\n              <input\n                value={value}\n                id={this._inputId}\n                onChange={this._onChange}\n                onInput={this._onInputChange}\n                className={classNames.input}\n                type=\"text\"\n                autoComplete=\"off\"\n                role=\"spinbutton\"\n                aria-labelledby={label && this._labelId}\n                aria-valuenow={\n                  typeof ariaValueNow === 'number'\n                    ? ariaValueNow\n                    : value && !isNaN(Number(value)) // Number('') is 0 which may not be desirable\n                    ? Number(value)\n                    : undefined\n                }\n                aria-valuetext={\n                  typeof ariaValueText === 'string'\n                    ? ariaValueText\n                    : !value || isNaN(Number(value)) // Number('') is 0 which may not be desirable\n                    ? value\n                    : undefined\n                }\n                aria-valuemin={min}\n                aria-valuemax={max}\n                aria-describedby={mergeAriaAttributeValues(ariaDescribedBy, keytipAttributes['aria-describedby'])}\n                onBlur={this._onBlur}\n                ref={this._input}\n                onFocus={this._onFocus}\n                onKeyDown={this._handleKeyDown}\n                onKeyUp={this._handleKeyUp}\n                disabled={disabled}\n                aria-disabled={disabled}\n                data-lpignore={true}\n                data-ktp-execute-target={keytipAttributes['data-ktp-execute-target']}\n                {...inputProps}\n              />\n              <span className={classNames.arrowBox}>\n                <IconButton\n                  styles={getArrowButtonStyles(theme!, true, customUpArrowButtonStyles)}\n                  className={'ms-UpButton'}\n                  checked={keyboardSpinDirection === KeyboardSpinDirection.up}\n                  disabled={disabled}\n                  iconProps={incrementButtonIcon}\n                  onMouseDown={this._onIncrementMouseDown}\n                  onMouseLeave={this._stop}\n                  onMouseUp={this._stop}\n                  tabIndex={-1}\n                  ariaLabel={incrementButtonAriaLabel}\n                  data-is-focusable={false}\n                  {...iconButtonProps}\n                />\n                <IconButton\n                  styles={getArrowButtonStyles(theme!, false, customDownArrowButtonStyles)}\n                  className={'ms-DownButton'}\n                  checked={keyboardSpinDirection === KeyboardSpinDirection.down}\n                  disabled={disabled}\n                  iconProps={decrementButtonIcon}\n                  onMouseDown={this._onDecrementMouseDown}\n                  onMouseLeave={this._stop}\n                  onMouseUp={this._stop}\n                  tabIndex={-1}\n                  ariaLabel={decrementButtonAriaLabel}\n                  data-is-focusable={false}\n                  {...iconButtonProps}\n                />\n              </span>\n            </div>\n          )}\n        </KeytipData>\n        {labelPosition === Position.bottom && (iconProps || label) && (\n          <div className={classNames.labelWrapper}>\n            {iconProps && <Icon iconName={iconProps.iconName} className={classNames.icon} aria-hidden=\"true\" />}\n            {label && (\n              <Label id={this._labelId} htmlFor={this._inputId} className={classNames.label} disabled={disabled}>\n                {label}\n              </Label>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  public focus(): void {\n    if (this._input.current) {\n      this._input.current.focus();\n    }\n  }\n\n  /**\n   * Gets the value of the spin button.\n   */\n  public get value(): string | undefined {\n    // TODO (version 8): value from props should ALWAYS override value from state.\n    // In a class component the code should be:\n    // const { value = this.state.value } = this.props;\n    // return value;\n    return this.state.value;\n  }\n\n  private _onFocus = (ev: React.FocusEvent<HTMLInputElement>): void => {\n    // We can't set focus on a non-existing element\n    if (!this._input.current) {\n      return;\n    }\n\n    if (this._spinningByMouse || this.state.keyboardSpinDirection !== KeyboardSpinDirection.notSpinning) {\n      this._stop();\n    }\n\n    this._input.current.select();\n\n    this.setState({ isFocused: true });\n\n    if (this.props.onFocus) {\n      this.props.onFocus(ev);\n    }\n  };\n\n  private _onBlur = (ev: React.FocusEvent<HTMLInputElement>): void => {\n    this._validate(ev);\n    this.setState({ isFocused: false });\n    if (this.props.onBlur) {\n      this.props.onBlur(ev);\n    }\n  };\n\n  private _onValidate = (value: string, event?: React.SyntheticEvent<HTMLElement>): string | void => {\n    if (this.props.onValidate) {\n      return this.props.onValidate(value, event);\n    } else {\n      return this._defaultOnValidate(value);\n    }\n  };\n\n  private _calculatePrecision = (props: ISpinButtonProps & DefaultProps) => {\n    const { precision = Math.max(calculatePrecision(props.step), 0) } = props;\n    return precision;\n  };\n\n  /**\n   * Validate function to use if one is not passed in\n   */\n  private _defaultOnValidate = (value: string) => {\n    if (value === null || value.trim().length === 0 || isNaN(Number(value))) {\n      return this._lastValidValue;\n    }\n    const newValue = Math.min(this.props.max as number, Math.max(this.props.min as number, Number(value)));\n    return String(newValue);\n  };\n\n  private _onIncrement = (value: string): string | void => {\n    if (this.props.onIncrement) {\n      return this.props.onIncrement(value);\n    } else {\n      return this._defaultOnIncrement(value);\n    }\n  };\n\n  /**\n   * Increment function to use if one is not passed in\n   */\n  private _defaultOnIncrement = (value: string): string | void => {\n    const { max, step } = this.props as ISpinButtonInternalProps;\n    let newValue: number = Math.min(Number(value) + Number(step), max);\n    newValue = precisionRound(newValue, this._precision);\n    return String(newValue);\n  };\n\n  private _onDecrement = (value: string): string | void => {\n    if (this.props.onDecrement) {\n      return this.props.onDecrement(value);\n    } else {\n      return this._defaultOnDecrement(value);\n    }\n  };\n\n  /**\n   * Increment function to use if one is not passed in\n   */\n  private _defaultOnDecrement = (value: string): string | void => {\n    const { min, step } = this.props as ISpinButtonInternalProps;\n    let newValue: number = Math.max(Number(value) - Number(step), min);\n    newValue = precisionRound(newValue, this._precision);\n    return String(newValue);\n  };\n\n  private _onChange(): void {\n    /**\n     * A noop input change handler. Using onInput instead of onChange was meant to address an issue\n     * which apparently has been resolved in React 16 (https://github.com/facebook/react/issues/7027).\n     * The no-op onChange handler was still needed because React gives console errors if an input\n     * doesn't have onChange.\n     *\n     * TODO (Fabric 8?) - switch to just calling onChange (this is a breaking change for any tests,\n     * ours or 3rd-party, which simulate entering text in a SpinButton)\n     */\n  }\n\n  /**\n   * This is used when validating text entry in the input on blur or when enter key is pressed\n   * (not when changed via the buttons).\n   * @param event - the event that fired\n   */\n  private _validate = (event: React.FocusEvent<HTMLInputElement> | React.KeyboardEvent<HTMLInputElement>): void => {\n    if (\n      this.value !== undefined &&\n      this._valueToValidate !== undefined &&\n      this._valueToValidate !== this._lastValidValue\n    ) {\n      const newValue = this._onValidate!(this._valueToValidate, event);\n      // Done validating this value, so clear it\n      this._valueToValidate = undefined;\n\n      if (newValue !== undefined) {\n        this._lastValidValue = newValue;\n        this.setState({ value: newValue });\n      } else {\n        // Value was invalid. Reset state to last valid value.\n        this.setState({ value: this._lastValidValue });\n      }\n    }\n  };\n\n  /**\n   * The method is needed to ensure we are updating the actual input value.\n   * without this our value will never change (and validation will not have the correct number)\n   * @param event - the event that was fired\n   */\n  private _onInputChange = (event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>): void => {\n    const element: HTMLInputElement = event.target as HTMLInputElement;\n    const value: string = element.value;\n    this._valueToValidate = value;\n    this.setState({\n      value: value,\n    });\n  };\n\n  /**\n   * Update the value with the given stepFunction\n   * @param shouldSpin - should we fire off another updateValue when we are done here? This should be true\n   * when spinning in response to a mouseDown\n   * @param stepFunction - function to use to step by\n   */\n  private _updateValue = (\n    shouldSpin: boolean,\n    stepDelay: number,\n    stepFunction: (value: string) => string | void,\n  ): void => {\n    const newValue: string | void = stepFunction(this.value || '');\n    if (newValue !== undefined) {\n      this._lastValidValue = newValue;\n      this.setState({ value: newValue });\n    }\n\n    if (this._spinningByMouse !== shouldSpin) {\n      this._spinningByMouse = shouldSpin;\n    }\n\n    if (shouldSpin) {\n      this._currentStepFunctionHandle = this._async.setTimeout(() => {\n        this._updateValue(shouldSpin, this._stepDelay, stepFunction);\n      }, stepDelay);\n    }\n  };\n\n  /**\n   * Stop spinning (clear any currently pending update and set spinning to false)\n   */\n  private _stop = (): void => {\n    if (this._currentStepFunctionHandle >= 0) {\n      this._async.clearTimeout(this._currentStepFunctionHandle);\n      this._currentStepFunctionHandle = -1;\n    }\n\n    if (this._spinningByMouse || this.state.keyboardSpinDirection !== KeyboardSpinDirection.notSpinning) {\n      this._spinningByMouse = false;\n      this.setState({ keyboardSpinDirection: KeyboardSpinDirection.notSpinning });\n    }\n  };\n\n  /**\n   * Handle keydown on the text field. We need to update\n   * the value when up or down arrow are depressed\n   * @param event - the keyboardEvent that was fired\n   */\n  private _handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>): void => {\n    // eat the up and down arrow keys to keep focus in the spinButton\n    // (especially when a spinButton is inside of a FocusZone)\n    if (event.which === KeyCodes.up || event.which === KeyCodes.down || event.which === KeyCodes.enter) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    if (this.props.disabled) {\n      this._stop();\n      return;\n    }\n\n    let spinDirection = KeyboardSpinDirection.notSpinning;\n\n    switch (event.which) {\n      case KeyCodes.up:\n        spinDirection = KeyboardSpinDirection.up;\n        this._updateValue(false /* shouldSpin */, this._initialStepDelay, this._onIncrement!);\n        break;\n      case KeyCodes.down:\n        spinDirection = KeyboardSpinDirection.down;\n        this._updateValue(false /* shouldSpin */, this._initialStepDelay, this._onDecrement!);\n        break;\n      case KeyCodes.enter:\n        this._validate(event);\n        break;\n      case KeyCodes.escape:\n        if (this.value !== this._lastValidValue) {\n          this.setState({ value: this._lastValidValue });\n        }\n        break;\n      default:\n        break;\n    }\n\n    // style the increment/decrement button to look active\n    // when the corresponding up/down arrow keys trigger a step\n    if (this.state.keyboardSpinDirection !== spinDirection) {\n      this.setState({ keyboardSpinDirection: spinDirection });\n    }\n  };\n\n  /**\n   * Make sure that we have stopped spinning on keyUp\n   * if the up or down arrow fired this event\n   * @param event - keyboard event\n   */\n  private _handleKeyUp = (event: React.KeyboardEvent<HTMLElement>): void => {\n    if (this.props.disabled || event.which === KeyCodes.up || event.which === KeyCodes.down) {\n      this._stop();\n      return;\n    }\n  };\n\n  private _onIncrementMouseDown = (): void => {\n    this._updateValue(true /* shouldSpin */, this._initialStepDelay, this._onIncrement!);\n  };\n\n  private _onDecrementMouseDown = (): void => {\n    this._updateValue(true /* shouldSpin */, this._initialStepDelay, this._onDecrement!);\n  };\n}\n","import * as React from 'react';\nimport {\n  getId,\n  toMatrix,\n  classNamesFunction,\n  getNativeProps,\n  htmlElementProperties,\n  initializeComponentRef,\n} from '../../Utilities';\nimport { FocusZone } from '../../FocusZone';\nimport { IGrid, IGridProps, IGridStyleProps, IGridStyles } from './Grid.types';\n\nconst getClassNames = classNamesFunction<IGridStyleProps, IGridStyles>();\n\nexport class GridBase extends React.Component<IGridProps, {}> implements IGrid {\n  private _id: string;\n\n  constructor(props: IGridProps) {\n    super(props);\n\n    initializeComponentRef(this);\n    this._id = props.id || getId();\n  }\n\n  public render(): JSX.Element {\n    const props = this.props;\n    const {\n      items,\n      columnCount,\n      onRenderItem,\n\n      // tslint:disable:deprecation\n      ariaPosInSet = props.positionInSet,\n      ariaSetSize = props.setSize,\n      // tslint:enable:deprecation\n\n      styles,\n      doNotContainWithinFocusZone,\n    } = props;\n\n    const htmlProps = getNativeProps<React.HTMLAttributes<HTMLTableElement>>(\n      this.props,\n      htmlElementProperties,\n      // avoid applying onBlur on the table if it's being used in the FocusZone\n      doNotContainWithinFocusZone ? [] : ['onBlur'],\n    );\n\n    const classNames = getClassNames(styles!, { theme: this.props.theme! });\n\n    // Array to store the cells in the correct row index\n    const rowsOfItems: any[][] = toMatrix(items, columnCount);\n\n    const content = (\n      <table\n        aria-posinset={ariaPosInSet}\n        aria-setsize={ariaSetSize}\n        id={this._id}\n        role=\"grid\"\n        {...htmlProps}\n        className={classNames.root}\n      >\n        <tbody>\n          {rowsOfItems.map((rows: any[], rowIndex: number) => {\n            return (\n              <tr role={'row'} key={this._id + '-' + rowIndex + '-row'}>\n                {rows.map((cell: any, cellIndex: number) => {\n                  return (\n                    <td\n                      role={'presentation'}\n                      key={this._id + '-' + cellIndex + '-cell'}\n                      className={classNames.tableCell}\n                    >\n                      {onRenderItem(cell, cellIndex)}\n                    </td>\n                  );\n                })}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    );\n\n    // Create the table/grid\n    return doNotContainWithinFocusZone ? (\n      content\n    ) : (\n      <FocusZone\n        isCircularNavigation={this.props.shouldFocusCircularNavigate}\n        className={classNames.focusedContainer}\n        onBlur={this.props.onBlur}\n      >\n        {content}\n      </FocusZone>\n    );\n  }\n}\n","import * as React from 'react';\r\nimport { styled } from '../../Utilities';\r\nimport { GridBase } from './Grid.base';\r\nimport { IGridProps, IGridStyleProps, IGridStyles } from './Grid.types';\r\nimport { getStyles } from './Grid.styles';\r\n\r\nexport const Grid: React.FunctionComponent<IGridProps> = styled<IGridProps, IGridStyleProps, IGridStyles>(\r\n  GridBase,\r\n  getStyles,\r\n);\r\n","import { IGridStyleProps, IGridStyles } from './Grid.types';\n\nexport const getStyles = (props: IGridStyleProps): IGridStyles => {\n  return {\n    root: {\n      padding: 2,\n      outline: 'none',\n    },\n    tableCell: {\n      padding: 0,\n    },\n  };\n};\n","import * as React from 'react';\nimport { css, getId } from '../../Utilities';\nimport { IGridCellProps } from './GridCell.types';\nimport { CommandButton } from '../../Button';\n\nexport class GridCell<T, P extends IGridCellProps<T>> extends React.Component<P, {}> {\n  public static defaultProps = {\n    disabled: false,\n    id: getId('gridCell'),\n  };\n\n  public render(): JSX.Element {\n    const {\n      item,\n      id,\n      className,\n      role,\n      selected,\n      disabled,\n      onRenderItem,\n      cellDisabledStyle,\n      cellIsSelectedStyle,\n      index,\n      label,\n      getClassNames,\n    } = this.props;\n\n    return (\n      <CommandButton\n        id={id}\n        data-index={index}\n        data-is-focusable={true}\n        disabled={disabled}\n        className={css(className, {\n          ['' + cellIsSelectedStyle]: selected,\n          ['' + cellDisabledStyle]: disabled,\n        })}\n        onClick={this._onClick}\n        onMouseEnter={this._onMouseEnter}\n        onMouseMove={this._onMouseMove}\n        onMouseLeave={this._onMouseLeave}\n        onFocus={this._onFocus}\n        role={role}\n        aria-selected={selected}\n        ariaLabel={label}\n        title={label}\n        getClassNames={getClassNames}\n      >\n        {onRenderItem(item)}\n      </CommandButton>\n    );\n  }\n\n  private _onClick = (): void => {\n    const { onClick, disabled, item } = this.props as P;\n\n    if (onClick && !disabled) {\n      onClick(item);\n    }\n  };\n\n  private _onMouseEnter = (ev: React.MouseEvent<HTMLButtonElement>): void => {\n    const { onHover, disabled, item, onMouseEnter } = this.props as P;\n\n    const didUpdateOnEnter = onMouseEnter && onMouseEnter(ev);\n\n    if (!didUpdateOnEnter && onHover && !disabled) {\n      onHover(item);\n    }\n  };\n\n  private _onMouseMove = (ev: React.MouseEvent<HTMLButtonElement>): void => {\n    const { onHover, disabled, item, onMouseMove } = this.props as P;\n\n    const didUpdateOnMove = onMouseMove && onMouseMove(ev);\n\n    if (!didUpdateOnMove && onHover && !disabled) {\n      onHover(item);\n    }\n  };\n\n  private _onMouseLeave = (ev: React.MouseEvent<HTMLButtonElement>): void => {\n    const { onHover, disabled, onMouseLeave } = this.props as P;\n\n    const didUpdateOnLeave = onMouseLeave && onMouseLeave(ev);\n\n    if (!didUpdateOnLeave && onHover && !disabled) {\n      onHover();\n    }\n  };\n\n  private _onFocus = (): void => {\n    const { onFocus, disabled, item } = this.props as P;\n\n    if (onFocus && !disabled) {\n      onFocus(item);\n    }\n  };\n}\n","import * as React from 'react';\nimport { ITheme, mergeStyleSets } from '../../Styling';\nimport { classNamesFunction, memoizeFunction } from '../../Utilities';\nimport { getColorFromString } from '../../utilities/color/getColorFromString';\nimport { GridCell } from '../../utilities/grid/GridCell';\nimport { IGridCellProps } from '../../utilities/grid/GridCell.types';\nimport { getStyles as getActionButtonStyles } from '../Button/ActionButton/ActionButton.styles';\nimport { IButtonClassNames } from '../Button/BaseButton.classNames';\nimport {\n  IColorCellProps,\n  IColorPickerGridCellProps,\n  IColorPickerGridCellStyleProps,\n  IColorPickerGridCellStyles,\n} from './ColorPickerGridCell.types';\n\nconst getColorPickerGridCellButtonClassNames = memoizeFunction(\n  (\n    theme: ITheme,\n    className: string,\n    variantClassName: string,\n    iconClassName: string | undefined,\n    menuIconClassName: string | undefined,\n    disabled: boolean,\n    checked: boolean,\n    expanded: boolean,\n    isSplit: boolean | undefined,\n  ): IButtonClassNames => {\n    const styles = getActionButtonStyles(theme);\n    return mergeStyleSets({\n      root: [\n        'ms-Button',\n        styles.root,\n        variantClassName,\n        className,\n        checked && ['is-checked', styles.rootChecked],\n        disabled && ['is-disabled', styles.rootDisabled],\n        !disabled &&\n          !checked && {\n            selectors: {\n              ':hover': styles.rootHovered,\n              ':focus': styles.rootFocused,\n              ':active': styles.rootPressed,\n            },\n          },\n        disabled && checked && [styles.rootCheckedDisabled],\n        !disabled &&\n          checked && {\n            selectors: {\n              ':hover': styles.rootCheckedHovered,\n              ':active': styles.rootCheckedPressed,\n            },\n          },\n      ],\n      flexContainer: ['ms-Button-flexContainer', styles.flexContainer],\n    });\n  },\n);\n\nconst getClassNames = classNamesFunction<IColorPickerGridCellStyleProps, IColorPickerGridCellStyles>();\n\nclass ColorCell extends GridCell<IColorCellProps, IGridCellProps<IColorCellProps>> {}\n\nexport class ColorPickerGridCellBase extends React.PureComponent<IColorPickerGridCellProps, {}> {\n  public static defaultProps: Partial<IColorPickerGridCellProps> = {\n    circle: true,\n    disabled: false,\n    selected: false,\n  };\n\n  private _classNames: { [key in keyof IColorPickerGridCellStyles]: string };\n\n  public render(): JSX.Element {\n    const {\n      item,\n      // tslint:disable-next-line:deprecation\n      idPrefix = this.props.id,\n      selected,\n      disabled,\n      styles,\n      theme,\n      circle,\n      color,\n      onClick,\n      onHover,\n      onFocus,\n      onMouseEnter,\n      onMouseMove,\n      onMouseLeave,\n      onWheel,\n      onKeyDown,\n      height,\n      width,\n      borderWidth,\n    } = this.props;\n\n    this._classNames = getClassNames(styles!, {\n      theme: theme!,\n      disabled,\n      selected,\n      circle,\n      isWhite: this._isWhiteCell(color),\n      height,\n      width,\n      borderWidth,\n    });\n\n    return (\n      <ColorCell\n        item={item}\n        id={`${idPrefix}-${item.id}-${item.index}`}\n        key={item.id}\n        disabled={disabled}\n        role={'gridcell'}\n        onRenderItem={this._onRenderColorOption}\n        selected={selected}\n        onClick={onClick}\n        onHover={onHover}\n        onFocus={onFocus}\n        label={item.label}\n        className={this._classNames.colorCell}\n        getClassNames={getColorPickerGridCellButtonClassNames}\n        index={item.index}\n        onMouseEnter={onMouseEnter}\n        onMouseMove={onMouseMove}\n        onMouseLeave={onMouseLeave}\n        onWheel={onWheel}\n        onKeyDown={onKeyDown}\n      />\n    );\n  }\n\n  /**\n   * Render the core of a color cell\n   * @returns - Element representing the core of the item\n   */\n  private _onRenderColorOption = (colorOption: IColorCellProps): JSX.Element => {\n    // Build an SVG for the cell with the given shape and color properties\n    return (\n      <svg\n        className={this._classNames.svg}\n        viewBox=\"0 0 20 20\"\n        fill={getColorFromString(colorOption.color as string)!.str}\n      >\n        {this.props.circle ? <circle cx=\"50%\" cy=\"50%\" r=\"50%\" /> : <rect width=\"100%\" height=\"100%\" />}\n      </svg>\n    );\n  };\n\n  /**\n   * Validate if the cell's color is white or not to apply whiteCell style\n   * @param inputColor - The color of the current cell\n   * @returns - Whether the cell's color is white or not.\n   */\n  private _isWhiteCell(inputColor: string | undefined): boolean {\n    const color = getColorFromString(inputColor!);\n    return color!.hex === 'ffffff';\n  }\n}\n","import { IsFocusVisibleClassName } from '../../Utilities';\nimport { HighContrastSelector, getFocusStyle } from '../../Styling';\nimport { IColorPickerGridCellStyleProps, IColorPickerGridCellStyles } from './ColorPickerGridCell.types';\n\n// Size breakpoint when the default border width changes from 2px to 4px.\nconst CELL_BORDER_BREAKPOINT = 24;\nconst LARGE_BORDER = 4;\nconst SMALL_BORDER = 2;\nconst DIVIDING_PADDING = 2;\nconst DEFAULT_CELL_SIZE = 20;\n\nconst cellHighContrastFocus = {\n  left: -2,\n  top: -2,\n  bottom: -2,\n  right: -2,\n  border: 'none',\n  outlineColor: 'ButtonText',\n};\n\nexport const getStyles = (props: IColorPickerGridCellStyleProps): IColorPickerGridCellStyles => {\n  const {\n    theme,\n    disabled,\n    selected,\n    circle,\n    isWhite,\n    height = DEFAULT_CELL_SIZE,\n    width = DEFAULT_CELL_SIZE,\n    borderWidth,\n  } = props;\n  const { semanticColors, palette } = theme;\n\n  const buttonBorderHovered = palette.neutralLighter;\n  const buttonBorderChecked = palette.neutralLight;\n  const buttonBorderCheckedHovered = palette.neutralSecondary;\n  const buttonBorderIsWhite = palette.neutralTertiary;\n\n  // If user provided a value, use it. If not, then we decide depending on the 24px size breakpoint.\n  const calculatedBorderWidth = borderWidth\n    ? borderWidth\n    : width < CELL_BORDER_BREAKPOINT\n    ? SMALL_BORDER\n    : LARGE_BORDER;\n\n  return {\n    // this is a button that wraps the color\n    colorCell: [\n      getFocusStyle(theme, { inset: -1, position: 'relative', highContrastStyle: cellHighContrastFocus }),\n      {\n        backgroundColor: semanticColors.bodyBackground,\n        padding: 0,\n        position: 'relative',\n        boxSizing: 'border-box',\n        display: 'inline-block',\n        cursor: 'pointer',\n        userSelect: 'none',\n        borderRadius: 0,\n        border: 'none',\n        height: height,\n        width: width,\n      },\n      !circle && {\n        selectors: {\n          [`.${IsFocusVisibleClassName} &:focus::after`]: {\n            // -1px so that we don't increase visually the size of the cell.\n            outlineOffset: `${calculatedBorderWidth - 1}px`,\n          },\n        },\n      },\n      // In focus state for circle we want a round border which is not possible with outline.\n      circle && {\n        borderRadius: '50%',\n        selectors: {\n          [`.${IsFocusVisibleClassName} &:focus::after`]: {\n            outline: 'none',\n            borderColor: semanticColors.focusBorder,\n            borderRadius: '50%',\n            left: -calculatedBorderWidth,\n            right: -calculatedBorderWidth,\n            top: -calculatedBorderWidth,\n            bottom: -calculatedBorderWidth,\n            selectors: {\n              [HighContrastSelector]: {\n                outline: `1px solid ButtonText`,\n              },\n            },\n          },\n        },\n      },\n      selected && {\n        padding: DIVIDING_PADDING,\n        border: `${calculatedBorderWidth}px solid ${buttonBorderChecked}`,\n        selectors: {\n          ['&:hover::before']: {\n            content: '\"\"',\n            height: height,\n            width: width,\n            position: 'absolute',\n            top: -calculatedBorderWidth,\n            left: -calculatedBorderWidth,\n            borderRadius: circle ? '50%' : 'default',\n            boxShadow: `inset 0 0 0 1px ${buttonBorderCheckedHovered}`,\n          },\n        },\n      },\n      !selected && {\n        selectors: {\n          ['&:hover, &:active, &:focus']: {\n            backgroundColor: semanticColors.bodyBackground, // overwrite white's override\n            padding: DIVIDING_PADDING,\n            border: `${calculatedBorderWidth}px solid ${buttonBorderHovered}`,\n          },\n          ['&:focus']: {\n            borderColor: semanticColors.bodyBackground,\n            padding: 0,\n            selectors: {\n              ':hover': {\n                borderColor: theme.palette.neutralLight,\n                padding: DIVIDING_PADDING,\n              },\n            },\n          },\n        },\n      },\n      disabled && {\n        color: semanticColors.disabledBodyText,\n        pointerEvents: 'none',\n        opacity: 0.3,\n      },\n      isWhite &&\n        !selected && {\n          // fake a border for white\n          backgroundColor: buttonBorderIsWhite,\n          padding: 1,\n        },\n    ],\n    // the <svg> that holds the color\n    svg: [\n      {\n        width: '100%',\n        height: '100%',\n      },\n      circle && {\n        borderRadius: '50%',\n      },\n    ],\n  };\n};\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { ColorPickerGridCellBase } from './ColorPickerGridCell.base';\nimport {\n  IColorPickerGridCellProps,\n  IColorPickerGridCellStyleProps,\n  IColorPickerGridCellStyles,\n} from './ColorPickerGridCell.types';\nimport { getStyles } from './ColorPickerGridCell.styles';\n\nexport const ColorPickerGridCell: React.FunctionComponent<IColorPickerGridCellProps> = styled<\n  IColorPickerGridCellProps,\n  IColorPickerGridCellStyleProps,\n  IColorPickerGridCellStyles\n>(ColorPickerGridCellBase, getStyles, undefined, { scope: 'ColorPickerGridCell' }, true);\n","import * as React from 'react';\nimport {\n  Async,\n  classNamesFunction,\n  findIndex,\n  KeyCodes,\n  getId,\n  warnMutuallyExclusive,\n  warnConditionallyRequiredProps,\n} from '../../Utilities';\nimport {\n  ISwatchColorPickerProps,\n  ISwatchColorPickerStyleProps,\n  ISwatchColorPickerStyles,\n} from './SwatchColorPicker.types';\nimport { Grid } from '../../utilities/grid/Grid';\nimport { IColorCellProps } from './ColorPickerGridCell.types';\nimport { ColorPickerGridCell } from './ColorPickerGridCell';\nimport { memoizeFunction, warnDeprecations } from '@uifabric/utilities';\n\nexport interface ISwatchColorPickerState {\n  selectedIndex?: number;\n}\n\nconst getClassNames = classNamesFunction<ISwatchColorPickerStyleProps, ISwatchColorPickerStyles>();\n\nconst COMPONENT_NAME = 'SwatchColorPicker';\n\nexport class SwatchColorPickerBase extends React.Component<ISwatchColorPickerProps, ISwatchColorPickerState> {\n  public static defaultProps = {\n    cellShape: 'circle',\n    disabled: false,\n    shouldFocusCircularNavigate: true,\n    cellMargin: 10,\n  } as ISwatchColorPickerProps;\n\n  private _id: string;\n  private _cellFocused: boolean;\n\n  private navigationIdleTimeoutId: number | undefined;\n  private isNavigationIdle: boolean;\n  private readonly navigationIdleDelay: number = 250 /* ms */;\n  private async: Async;\n\n  // Add an index to each color cells. Memoizes this so that color cells do not re-render on every update.\n  private _getItemsWithIndex = memoizeFunction((items: IColorCellProps[]) => {\n    return items.map((item, index) => {\n      return { ...item, index: index };\n    });\n  });\n\n  constructor(props: ISwatchColorPickerProps) {\n    super(props);\n\n    this._id = props.id || getId('swatchColorPicker');\n\n    if (process.env.NODE_ENV !== 'production') {\n      warnMutuallyExclusive(COMPONENT_NAME, props, {\n        focusOnHover: 'onHover',\n      });\n\n      warnConditionallyRequiredProps(\n        COMPONENT_NAME,\n        props,\n        ['focusOnHover'],\n        'mouseLeaveParentSelector',\n        !!props.mouseLeaveParentSelector,\n      );\n\n      warnDeprecations(COMPONENT_NAME, props, {\n        positionInSet: 'ariaPosInSet',\n        setSize: 'ariaSetSize',\n      });\n    }\n\n    this.isNavigationIdle = true;\n    this.async = new Async(this);\n\n    let selectedIndex: number | undefined;\n    if (props.selectedId) {\n      selectedIndex = this._getSelectedIndex(props.colorCells, props.selectedId);\n    }\n\n    this.state = {\n      selectedIndex,\n    };\n  }\n\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillReceiveProps(newProps: ISwatchColorPickerProps): void {\n    if (newProps.selectedId !== undefined) {\n      this.setState({\n        selectedIndex: this._getSelectedIndex(newProps.colorCells, newProps.selectedId),\n      });\n    }\n  }\n\n  public componentWillUnmount() {\n    if (this.props.onCellFocused && this._cellFocused) {\n      this._cellFocused = false;\n      this.props.onCellFocused();\n    }\n    this.async.dispose();\n  }\n\n  public render(): JSX.Element | null {\n    const {\n      colorCells,\n      columnCount,\n      // tslint:disable:deprecation\n      ariaPosInSet = this.props.positionInSet,\n      ariaSetSize = this.props.setSize,\n      // tslint:enable:deprecation\n      shouldFocusCircularNavigate,\n      className,\n      doNotContainWithinFocusZone,\n      styles,\n      cellMargin,\n    } = this.props;\n\n    const classNames = getClassNames(styles!, {\n      theme: this.props.theme!,\n      className,\n      cellMargin,\n    });\n\n    if (colorCells.length < 1 || columnCount < 1) {\n      return null;\n    }\n    return (\n      <Grid\n        {...this.props}\n        id={this._id}\n        items={this._getItemsWithIndex(colorCells)}\n        columnCount={columnCount}\n        onRenderItem={this._renderOption}\n        ariaPosInSet={ariaPosInSet}\n        ariaSetSize={ariaSetSize}\n        shouldFocusCircularNavigate={shouldFocusCircularNavigate}\n        doNotContainWithinFocusZone={doNotContainWithinFocusZone}\n        onBlur={this._onSwatchColorPickerBlur}\n        theme={this.props.theme!}\n        styles={{\n          root: classNames.root,\n          tableCell: classNames.tableCell,\n          focusedContainer: classNames.focusedContainer,\n        }}\n      />\n    );\n  }\n\n  /**\n   * When the whole swatchColorPicker is blurred,\n   * make sure to clear the pending focused stated\n   */\n  private _onSwatchColorPickerBlur = (): void => {\n    if (this.props.onCellFocused) {\n      this._cellFocused = false;\n      this.props.onCellFocused();\n    }\n  };\n\n  /**\n   * Get the selected item's index\n   * @param items - The items to search\n   * @param selectedId - The selected item's id to find\n   * @returns - The index of the selected item's id, -1 if there was no match\n   */\n  private _getSelectedIndex(items: IColorCellProps[], selectedId: string): number | undefined {\n    const selectedIndex = findIndex(items, item => item.id === selectedId);\n    return selectedIndex >= 0 ? selectedIndex : undefined;\n  }\n\n  /**\n   * Render a color cell\n   * @param item - The item to render\n   * @returns - Element representing the item\n   */\n  private _renderOption = (item: IColorCellProps): JSX.Element => {\n    const props = this.props;\n    const id = this._id;\n\n    return (\n      <ColorPickerGridCell\n        item={item}\n        idPrefix={id}\n        color={item.color}\n        styles={props.getColorGridCellStyles}\n        disabled={props.disabled}\n        onClick={this._onCellClick}\n        onHover={this._onGridCellHovered}\n        onFocus={this._onGridCellFocused}\n        selected={this.state.selectedIndex !== undefined && this.state.selectedIndex === item.index}\n        circle={props.cellShape === 'circle'}\n        label={item.label}\n        onMouseEnter={this._onMouseEnter}\n        onMouseMove={this._onMouseMove}\n        onMouseLeave={this._onMouseLeave}\n        onWheel={this._onWheel}\n        onKeyDown={this._onKeyDown}\n        height={props.cellHeight}\n        width={props.cellWidth}\n        borderWidth={props.cellBorderWidth}\n      />\n    );\n  };\n\n  /**\n   * Callback passed to the GridCell that will manage triggering the onCellHovered callback for mouseEnter\n   */\n  private _onMouseEnter = (ev: React.MouseEvent<HTMLButtonElement>): boolean => {\n    if (!this.props.focusOnHover) {\n      return !this.isNavigationIdle || !!this.props.disabled;\n    }\n\n    if (this.isNavigationIdle && !this.props.disabled) {\n      ev.currentTarget.focus();\n    }\n\n    return true;\n  };\n\n  /**\n   * Callback passed to the GridCell that will manage Hover/Focus updates\n   */\n  private _onMouseMove = (ev: React.MouseEvent<HTMLButtonElement>): boolean => {\n    if (!this.props.focusOnHover) {\n      return !this.isNavigationIdle || !!this.props.disabled;\n    }\n\n    const targetElement = ev.currentTarget as HTMLElement;\n\n    // If navigation is idle and the targetElement is the focused element bail out\n    // if (!this.isNavigationIdle || (document && targetElement === (document.activeElement as HTMLElement))) {\n    if (this.isNavigationIdle && !(document && targetElement === (document.activeElement as HTMLElement))) {\n      targetElement.focus();\n    }\n\n    return true;\n  };\n\n  /**\n   * Callback passed to the GridCell that will manage Hover/Focus updates\n   */\n  private _onMouseLeave = (ev: React.MouseEvent<HTMLButtonElement>): void => {\n    const parentSelector = this.props.mouseLeaveParentSelector;\n\n    if (!this.props.focusOnHover || !parentSelector || !this.isNavigationIdle || this.props.disabled) {\n      return;\n    }\n\n    // Get the elements that math the given selector\n    const elements = document.querySelectorAll(parentSelector);\n\n    // iterate over the elements return to make sure it is a parent of the target and focus it\n    for (let index = 0; index < elements.length; index += 1) {\n      if (elements[index].contains(ev.currentTarget)) {\n        /**\n         * IE11 focus() method forces parents to scroll to top of element.\n         * Edge and IE expose a setActive() function for focusable divs that\n         * sets the page focus but does not scroll the parent element.\n         */\n        if ((elements[index] as any).setActive) {\n          try {\n            (elements[index] as any).setActive();\n          } catch (e) {\n            /* no-op */\n          }\n        } else {\n          (elements[index] as HTMLElement).focus();\n        }\n\n        break;\n      }\n    }\n  };\n\n  /**\n   * Callback to make sure we don't update the hovered element during mouse wheel\n   */\n  private _onWheel = (): void => {\n    this.setNavigationTimeout();\n  };\n\n  /**\n   * Callback that\n   */\n  private _onKeyDown = (ev: React.KeyboardEvent<HTMLButtonElement>): void => {\n    if (\n      ev.which === KeyCodes.up ||\n      ev.which === KeyCodes.down ||\n      ev.which === KeyCodes.left ||\n      ev.which === KeyCodes.right\n    ) {\n      this.setNavigationTimeout();\n    }\n  };\n\n  /**\n   * Sets a timeout so we won't process any mouse \"hover\" events\n   * while navigating (via mouseWheel or arrowKeys)\n   */\n  private setNavigationTimeout = () => {\n    if (!this.isNavigationIdle && this.navigationIdleTimeoutId !== undefined) {\n      this.async.clearTimeout(this.navigationIdleTimeoutId);\n      this.navigationIdleTimeoutId = undefined;\n    } else {\n      this.isNavigationIdle = false;\n    }\n\n    this.navigationIdleTimeoutId = this.async.setTimeout(() => {\n      this.isNavigationIdle = true;\n    }, this.navigationIdleDelay);\n  };\n\n  /**\n   * Callback passed to the GridCell class that will trigger the onCellHovered callback of the SwatchColorPicker\n   * NOTE: This will not be triggered if shouldFocusOnHover === true\n   */\n  private _onGridCellHovered = (item?: IColorCellProps): void => {\n    const { onCellHovered } = this.props;\n\n    if (onCellHovered) {\n      return item ? onCellHovered(item.id, item.color) : onCellHovered();\n    }\n  };\n\n  /**\n   * Callback passed to the GridCell class that will trigger the onCellFocus callback of the SwatchColorPicker\n   */\n  private _onGridCellFocused = (item?: IColorCellProps): void => {\n    const { onCellFocused } = this.props;\n    if (onCellFocused) {\n      if (item) {\n        this._cellFocused = true;\n        return onCellFocused(item.id, item.color);\n      } else {\n        this._cellFocused = false;\n        return onCellFocused();\n      }\n    }\n  };\n\n  /**\n   * Handle the click on a cell\n   * @param item - The cell that the click was fired against\n   */\n  private _onCellClick = (item: IColorCellProps): void => {\n    if (this.props.disabled) {\n      return;\n    }\n\n    const index = item.index as number;\n\n    // If we have a valid index and it is not already\n    // selected, select it\n    if (index >= 0 && index !== this.state.selectedIndex) {\n      if (this.props.onCellFocused && this._cellFocused) {\n        this._cellFocused = false;\n        this.props.onCellFocused();\n      }\n\n      if (this.props.onColorChanged) {\n        this.props.onColorChanged(item.id, item.color);\n      }\n\n      // Update internal state only if the component is uncontrolled\n      if (this.props.isControlled !== true) {\n        this.setState({\n          selectedIndex: index,\n        });\n      }\n    }\n  };\n}\n","import { ISwatchColorPickerStyleProps, ISwatchColorPickerStyles } from './SwatchColorPicker.types';\nimport { getGlobalClassNames } from '../../Styling';\n\nconst GlobalClassNames = {\n  focusedContainer: 'ms-swatchColorPickerBodyContainer',\n};\n\nexport const getStyles = (props: ISwatchColorPickerStyleProps): ISwatchColorPickerStyles => {\n  const { className, theme, cellMargin } = props;\n\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\n\n  return {\n    root: {\n      margin: '8px 0',\n      borderCollapse: 'collapse',\n    },\n    tableCell: {\n      padding: cellMargin! / 2,\n    },\n    focusedContainer: [\n      classNames.focusedContainer,\n      {\n        clear: 'both',\n        display: 'block',\n        minWidth: '180px',\n      },\n      className,\n    ],\n  };\n};\n","export interface IMaskValue {\n  value?: string;\n  /**\n   * This index refers to the index in the displayMask rather than the inputMask.\n   * This means that any escaped characters do not count toward this index.\n   */\n  displayIndex: number;\n  format: RegExp;\n}\n\nexport const DEFAULT_MASK_FORMAT_CHARS: { [key: string]: RegExp } = {\n  '9': /[0-9]/,\n  a: /[a-zA-Z]/,\n  '*': /[a-zA-Z0-9]/,\n};\n\n/**\n * Takes in the mask string and the formatCharacters and returns an array of MaskValues\n * Example:\n * mask = 'Phone Number: (999) - 9999'\n * return = [\n *    { value: undefined, displayIndex: 16, format: /[0-9]/ },\n *    { value: undefined, displayIndex: 17, format: /[0-9]/ },\n *    { value: undefined, displayIndex: 18, format: /[0-9]/ },\n *    { value: undefined, displayIndex: 22, format: /[0-9]/ },\n * ]\n *\n * @param mask The string use to define the format of the displayed maskedValue.\n * @param formatChars An object defining how certain characters in the mask should accept input.\n */\nexport function parseMask(\n  mask: string | undefined,\n  formatChars: { [key: string]: RegExp } = DEFAULT_MASK_FORMAT_CHARS,\n): IMaskValue[] {\n  if (!mask) {\n    return [];\n  }\n\n  const maskCharData: IMaskValue[] = [];\n  // Count the escape characters in the mask string.\n  let escapedChars = 0;\n  for (let i = 0; i + escapedChars < mask.length; i++) {\n    const maskChar = mask.charAt(i + escapedChars);\n    if (maskChar === '\\\\') {\n      escapedChars++;\n    } else {\n      // Check if the maskChar is a format character.\n      const maskFormat = formatChars[maskChar];\n      if (maskFormat) {\n        maskCharData.push({\n          /**\n           * Do not add escapedChars to the displayIndex.\n           * The index refers to a position in the mask's displayValue.\n           * Since the backslashes don't appear in the displayValue,\n           * we do not add them to the charData displayIndex.\n           */\n          displayIndex: i,\n          format: maskFormat,\n        });\n      }\n    }\n  }\n\n  return maskCharData;\n}\n\n/**\n * Takes in the mask string, an array of MaskValues, and the maskCharacter\n * returns the mask string formatted with the input values and maskCharacter.\n * If the maskChar is undefined, the maskDisplay is truncated to the last filled format character.\n * Example:\n * mask = 'Phone Number: (999) 999 - 9999'\n * maskCharData = '12345'\n * maskChar = '_'\n * return = 'Phone Number: (123) 45_ - ___'\n *\n * Example:\n * mask = 'Phone Number: (999) 999 - 9999'\n * value = '12345'\n * maskChar = undefined\n * return = 'Phone Number: (123) 45'\n *\n * @param mask The string use to define the format of the displayed maskedValue.\n * @param maskCharData The input values to insert into the mask string for displaying.\n * @param maskChar? A character to display in place of unfilled mask format characters.\n */\nexport function getMaskDisplay(mask: string | undefined, maskCharData: IMaskValue[], maskChar?: string): string {\n  let maskDisplay = mask;\n\n  if (!maskDisplay) {\n    return '';\n  }\n\n  // Remove all backslashes\n  maskDisplay = maskDisplay.replace(/\\\\/g, '');\n\n  // lastDisplayIndex is is used to truncate the string if necessary.\n  let lastDisplayIndex = 0;\n  if (maskCharData.length > 0) {\n    lastDisplayIndex = maskCharData[0].displayIndex - 1;\n  }\n\n  /**\n   * For each input value, replace the character in the maskDisplay with the value.\n   * If there is no value set for the format character, use the maskChar.\n   */\n  for (const charData of maskCharData) {\n    let nextChar = ' ';\n    if (charData.value) {\n      nextChar = charData.value;\n      if (charData.displayIndex > lastDisplayIndex) {\n        lastDisplayIndex = charData.displayIndex;\n      }\n    } else {\n      if (maskChar) {\n        nextChar = maskChar;\n      }\n    }\n\n    // Insert the character into the maskdisplay at its corresponding index\n    maskDisplay = maskDisplay.slice(0, charData.displayIndex) + nextChar + maskDisplay.slice(charData.displayIndex + 1);\n  }\n\n  // Cut off all mask characters after the last filled format value\n  if (!maskChar) {\n    maskDisplay = maskDisplay.slice(0, lastDisplayIndex + 1);\n  }\n\n  return maskDisplay;\n}\n\n/**\n * Get the next format index right of or at a specified index.\n * If no index exists, returns the rightmost index.\n * @param maskCharData\n * @param index\n */\nexport function getRightFormatIndex(maskCharData: IMaskValue[], index: number): number {\n  for (let i = 0; i < maskCharData.length; i++) {\n    if (maskCharData[i].displayIndex >= index) {\n      return maskCharData[i].displayIndex;\n    }\n  }\n  return maskCharData[maskCharData.length - 1].displayIndex;\n}\n\n/**\n * Get the next format index left of a specified index.\n * If no index exists, returns the leftmost index.\n * @param maskCharData\n * @param index\n */\nexport function getLeftFormatIndex(maskCharData: IMaskValue[], index: number): number {\n  for (let i = maskCharData.length - 1; i >= 0; i--) {\n    if (maskCharData[i].displayIndex < index) {\n      return maskCharData[i].displayIndex;\n    }\n  }\n  return maskCharData[0].displayIndex;\n}\n\n/**\n * Deletes all values in maskCharData with a displayIndex that falls inside the specified range.\n * maskCharData is modified inline and also returned.\n * @param maskCharData\n * @param selectionStart\n * @param selectionCount\n */\nexport function clearRange(maskCharData: IMaskValue[], selectionStart: number, selectionCount: number): IMaskValue[] {\n  for (let i = 0; i < maskCharData.length; i++) {\n    if (maskCharData[i].displayIndex >= selectionStart) {\n      if (maskCharData[i].displayIndex >= selectionStart + selectionCount) {\n        break;\n      }\n      maskCharData[i].value = undefined;\n    }\n  }\n  return maskCharData;\n}\n\n/**\n * Deletes the input character at or after a specified index and returns the new array of charData\n * maskCharData is modified inline and also returned.\n * @param maskCharData\n * @param selectionStart\n */\nexport function clearNext(maskCharData: IMaskValue[], selectionStart: number): IMaskValue[] {\n  for (let i = 0; i < maskCharData.length; i++) {\n    if (maskCharData[i].displayIndex >= selectionStart) {\n      maskCharData[i].value = undefined;\n      break;\n    }\n  }\n  return maskCharData;\n}\n\n/**\n * Deletes the input character before a specified index and returns the new array of charData\n * maskCharData is modified inline and also returned.\n * @param maskCharData\n * @param selectionStart\n */\nexport function clearPrev(maskCharData: IMaskValue[], selectionStart: number): IMaskValue[] {\n  for (let i = maskCharData.length - 1; i >= 0; i--) {\n    if (maskCharData[i].displayIndex < selectionStart) {\n      maskCharData[i].value = undefined;\n      break;\n    }\n  }\n  return maskCharData;\n}\n\n/**\n * Deletes all values in maskCharData with a displayIndex that falls inside the specified range.\n * Modifies the maskCharData inplace with the passed string and returns the display index of the\n * next format character after the inserted string.\n * @param maskCharData\n * @param selectionStart\n * @param selectionCount\n * @return The displayIndex of the next format character\n */\nexport function insertString(maskCharData: IMaskValue[], selectionStart: number, newString: string): number {\n  let stringIndex = 0;\n  let nextIndex = 0;\n  let isStringInserted = false;\n\n  // Iterate through _maskCharData finding values with a displayIndex after the specified range start\n  for (let i = 0; i < maskCharData.length && stringIndex < newString.length; i++) {\n    if (maskCharData[i].displayIndex >= selectionStart) {\n      isStringInserted = true;\n      nextIndex = maskCharData[i].displayIndex;\n      // Find the next character in the newString that matches the format\n      while (stringIndex < newString.length) {\n        // If the character matches the format regexp, set the maskCharData to the new character\n        if (maskCharData[i].format.test(newString.charAt(stringIndex))) {\n          maskCharData[i].value = newString.charAt(stringIndex++);\n          // Set the nextIndex to the display index of the next mask format character.\n          if (i + 1 < maskCharData.length) {\n            nextIndex = maskCharData[i + 1].displayIndex;\n          } else {\n            nextIndex++;\n          }\n          break;\n        }\n        stringIndex++;\n      }\n    }\n  }\n\n  return isStringInserted ? nextIndex : selectionStart;\n}\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { SwatchColorPickerBase } from './SwatchColorPicker.base';\nimport {\n  ISwatchColorPickerProps,\n  ISwatchColorPickerStyles,\n  ISwatchColorPickerStyleProps,\n} from './SwatchColorPicker.types';\nimport { getStyles } from './SwatchColorPicker.styles';\n\nexport const SwatchColorPicker: React.FunctionComponent<ISwatchColorPickerProps> = styled<\n  ISwatchColorPickerProps,\n  ISwatchColorPickerStyleProps,\n  ISwatchColorPickerStyles\n>(SwatchColorPickerBase, getStyles, undefined, { scope: 'SwatchColorPicker' });\n","import * as React from 'react';\nimport { TextField } from '../TextField';\nimport { ITextField, ITextFieldProps } from '../TextField.types';\nimport { initializeComponentRef, KeyCodes } from '../../../Utilities';\n\nimport {\n  clearNext,\n  clearPrev,\n  clearRange,\n  DEFAULT_MASK_FORMAT_CHARS,\n  getLeftFormatIndex,\n  getMaskDisplay,\n  getRightFormatIndex,\n  IMaskValue,\n  insertString,\n  parseMask,\n} from './inputMask';\n\n/**\n * State for the MaskedTextField component.\n */\nexport interface IMaskedTextFieldState {\n  /**\n   * The mask string formatted with the input value.\n   * This is what is displayed inside the TextField\n   * @example\n   *  `Phone Number: 12_ - 4___`\n   */\n  displayValue: string;\n  /** The index into the rendered value of the first unfilled format character */\n  maskCursorPosition?: number;\n}\n\nexport const DEFAULT_MASK_CHAR = '_';\n\ntype InputChangeType = 'default' | 'backspace' | 'delete' | 'textPasted';\n\nexport class MaskedTextField extends React.Component<ITextFieldProps, IMaskedTextFieldState> implements ITextField {\n  public static defaultProps: ITextFieldProps = {\n    maskChar: DEFAULT_MASK_CHAR,\n    maskFormat: DEFAULT_MASK_FORMAT_CHARS,\n  };\n\n  private _textField = React.createRef<ITextField>();\n\n  /**\n   *  An array of data containing information regarding the format characters,\n   *  their indices inside the display text, and their corresponding values.\n   * @example\n   * ```\n   *  [\n   *    { value: '1', displayIndex: 16, format: /[0-9]/ },\n   *    { value: '2', displayIndex: 17, format: /[0-9]/ },\n   *    { displayIndex: 18, format: /[0-9]/ },\n   *    { value: '4', displayIndex: 22, format: /[0-9]/ },\n   *    ...\n   *  ]\n   * ```\n   */\n  private _maskCharData: IMaskValue[];\n  /** True if the TextField is focused */\n  private _isFocused: boolean;\n  /** True if the TextField was not focused and it was clicked into */\n  private _moveCursorOnMouseUp: boolean;\n\n  /** The stored selection data prior to input change events. */\n  private _changeSelectionData: {\n    changeType: InputChangeType;\n    selectionStart: number;\n    selectionEnd: number;\n  } | null;\n\n  constructor(props: ITextFieldProps) {\n    super(props);\n\n    initializeComponentRef(this);\n\n    // Translate mask into charData\n    this._maskCharData = parseMask(props.mask, props.maskFormat);\n    // If an initial value is provided, use it to populate the format chars\n    props.value !== undefined && this.setValue(props.value);\n\n    this._isFocused = false;\n    this._moveCursorOnMouseUp = false;\n\n    this.state = {\n      displayValue: getMaskDisplay(props.mask, this._maskCharData, props.maskChar),\n    };\n  }\n\n  // tslint:disable-next-line function-name\n  public UNSAFE_componentWillReceiveProps(newProps: ITextFieldProps) {\n    if (newProps.mask !== this.props.mask || newProps.value !== this.props.value) {\n      this._maskCharData = parseMask(newProps.mask, newProps.maskFormat);\n      newProps.value !== undefined && this.setValue(newProps.value);\n\n      this.setState({\n        displayValue: getMaskDisplay(newProps.mask, this._maskCharData, newProps.maskChar),\n      });\n    }\n  }\n\n  public componentDidUpdate() {\n    // Move the cursor to the start of the mask format on update\n    if (this._isFocused && this.state.maskCursorPosition !== undefined && this._textField.current) {\n      this._textField.current.setSelectionRange(this.state.maskCursorPosition, this.state.maskCursorPosition);\n    }\n  }\n\n  public render() {\n    return (\n      <TextField\n        {...this.props}\n        onFocus={this._onFocus}\n        onBlur={this._onBlur}\n        onMouseDown={this._onMouseDown}\n        onMouseUp={this._onMouseUp}\n        onChange={this._onInputChange}\n        onKeyDown={this._onKeyDown}\n        onPaste={this._onPaste}\n        value={this.state.displayValue || ''}\n        componentRef={this._textField}\n      />\n    );\n  }\n\n  /**\n   * @returns The value of all filled format characters or undefined if not all format characters are filled\n   */\n  public get value(): string | undefined {\n    let value = '';\n\n    for (let i = 0; i < this._maskCharData.length; i++) {\n      if (!this._maskCharData[i].value) {\n        return undefined;\n      }\n      value += this._maskCharData[i].value;\n    }\n    return value;\n  }\n\n  public setValue(newValue: string): void {\n    let valueIndex = 0,\n      charDataIndex = 0;\n\n    while (valueIndex < newValue.length && charDataIndex < this._maskCharData.length) {\n      // Test if the next character in the new value fits the next format character\n      const testVal = newValue[valueIndex];\n      if (this._maskCharData[charDataIndex].format.test(testVal)) {\n        this._maskCharData[charDataIndex].value = testVal;\n        charDataIndex++;\n      }\n      valueIndex++;\n    }\n  }\n\n  public focus(): void {\n    const { current } = this._textField;\n\n    current && current.focus();\n  }\n\n  public blur(): void {\n    const { current } = this._textField;\n\n    current && current.blur();\n  }\n\n  public select(): void {\n    const { current } = this._textField;\n\n    current && current.select();\n  }\n\n  public setSelectionStart(value: number): void {\n    const { current } = this._textField;\n\n    current && current.setSelectionStart(value);\n  }\n\n  public setSelectionEnd(value: number): void {\n    const { current } = this._textField;\n\n    current && current.setSelectionEnd(value);\n  }\n\n  public setSelectionRange(start: number, end: number): void {\n    const { current } = this._textField;\n    current && current.setSelectionRange(start, end);\n  }\n\n  public get selectionStart(): number | null {\n    const { current } = this._textField;\n\n    return current && current.selectionStart !== null ? current.selectionStart : -1;\n  }\n\n  public get selectionEnd(): number | null {\n    const { current } = this._textField;\n\n    return current && current.selectionEnd ? current.selectionEnd : -1;\n  }\n\n  private _onFocus = (event: React.FocusEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    if (this.props.onFocus) {\n      this.props.onFocus(event);\n    }\n\n    this._isFocused = true;\n\n    // Move the cursor position to the leftmost unfilled position\n    for (let i = 0; i < this._maskCharData.length; i++) {\n      if (!this._maskCharData[i].value) {\n        this.setState({\n          maskCursorPosition: this._maskCharData[i].displayIndex,\n        });\n        break;\n      }\n    }\n  };\n\n  private _onBlur = (event: React.FocusEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    if (this.props.onBlur) {\n      this.props.onBlur(event);\n    }\n\n    this._isFocused = false;\n    this._moveCursorOnMouseUp = true;\n  };\n\n  private _onMouseDown = (event: React.MouseEvent<HTMLInputElement>) => {\n    if (this.props.onMouseDown) {\n      this.props.onMouseDown(event);\n    }\n\n    if (!this._isFocused) {\n      this._moveCursorOnMouseUp = true;\n    }\n  };\n\n  private _onMouseUp = (event: React.MouseEvent<HTMLInputElement>) => {\n    if (this.props.onMouseUp) {\n      this.props.onMouseUp(event);\n    }\n\n    // Move the cursor on mouseUp after focusing the textField\n    if (this._moveCursorOnMouseUp) {\n      this._moveCursorOnMouseUp = false;\n      // Move the cursor position to the rightmost unfilled position\n      for (let i = 0; i < this._maskCharData.length; i++) {\n        if (!this._maskCharData[i].value) {\n          this.setState({\n            maskCursorPosition: this._maskCharData[i].displayIndex,\n          });\n          break;\n        }\n      }\n    }\n  };\n\n  private _onInputChange = (ev: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>, value: string) => {\n    const textField = this._textField.current;\n    if (this._changeSelectionData === null && textField) {\n      this._changeSelectionData = {\n        changeType: 'default',\n        selectionStart: textField.selectionStart !== null ? textField.selectionStart : -1,\n        selectionEnd: textField.selectionEnd !== null ? textField.selectionEnd : -1,\n      };\n    }\n    if (!this._changeSelectionData) {\n      return;\n    }\n\n    const { displayValue } = this.state;\n\n    // The initial value of cursorPos does not matter\n    let cursorPos = 0;\n    const { changeType, selectionStart, selectionEnd } = this._changeSelectionData;\n\n    if (changeType === 'textPasted') {\n      const charsSelected = selectionEnd - selectionStart,\n        charCount = value.length + charsSelected - displayValue.length,\n        startPos = selectionStart,\n        pastedString = value.substr(startPos, charCount);\n\n      // Clear any selected characters\n      if (charsSelected) {\n        this._maskCharData = clearRange(this._maskCharData, selectionStart, charsSelected);\n      }\n      cursorPos = insertString(this._maskCharData, startPos, pastedString);\n    } else if (changeType === 'delete' || changeType === 'backspace') {\n      // isDel is true If the characters are removed LTR, otherwise RTL\n      const isDel = changeType === 'delete',\n        charCount = selectionEnd - selectionStart;\n\n      if (charCount) {\n        // charCount is > 0 if range was deleted\n        this._maskCharData = clearRange(this._maskCharData, selectionStart, charCount);\n        cursorPos = getRightFormatIndex(this._maskCharData, selectionStart);\n      } else {\n        // If charCount === 0, there was no selection and a single character was deleted\n        if (isDel) {\n          this._maskCharData = clearNext(this._maskCharData, selectionStart);\n          cursorPos = getRightFormatIndex(this._maskCharData, selectionStart);\n        } else {\n          this._maskCharData = clearPrev(this._maskCharData, selectionStart);\n          cursorPos = getLeftFormatIndex(this._maskCharData, selectionStart);\n        }\n      }\n    } else if (value.length > displayValue.length) {\n      // This case is if the user added characters\n      const charCount = value.length - displayValue.length,\n        startPos = selectionEnd - charCount,\n        enteredString = value.substr(startPos, charCount);\n\n      cursorPos = insertString(this._maskCharData, startPos, enteredString);\n    } else if (value.length <= displayValue.length) {\n      /**\n       * This case is reached only if the user has selected a block of 1 or more\n       * characters and input a character replacing the characters they've selected.\n       */\n      const charCount = 1,\n        selectCount = displayValue.length + charCount - value.length,\n        startPos = selectionEnd - charCount,\n        enteredString = value.substr(startPos, charCount);\n\n      // Clear the selected range\n      this._maskCharData = clearRange(this._maskCharData, startPos, selectCount);\n      // Insert the printed character\n      cursorPos = insertString(this._maskCharData, startPos, enteredString);\n    }\n\n    this._changeSelectionData = null;\n\n    const newValue = getMaskDisplay(this.props.mask, this._maskCharData, this.props.maskChar);\n\n    this.setState({\n      displayValue: newValue,\n      maskCursorPosition: cursorPos,\n    });\n\n    // Perform onChange after input has been processed. Return value is expected to be the displayed text\n    if (this.props.onChange) {\n      this.props.onChange(ev, newValue);\n    }\n  };\n\n  private _onKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    const { current } = this._textField;\n\n    if (this.props.onKeyDown) {\n      this.props.onKeyDown(event);\n    }\n\n    this._changeSelectionData = null;\n    if (current && current.value) {\n      const { keyCode, ctrlKey, metaKey } = event;\n\n      // Ignore ctrl and meta keydown\n      if (ctrlKey || metaKey) {\n        return;\n      }\n\n      // On backspace or delete, store the selection and the keyCode\n      if (keyCode === KeyCodes.backspace || keyCode === KeyCodes.del) {\n        const selectionStart = (event.target as HTMLInputElement).selectionStart,\n          selectionEnd = (event.target as HTMLInputElement).selectionEnd;\n\n        // Check if backspace or delete press is valid.\n        if (\n          !(keyCode === KeyCodes.backspace && selectionEnd && selectionEnd > 0) &&\n          !(keyCode === KeyCodes.del && selectionStart !== null && selectionStart < current.value.length)\n        ) {\n          return;\n        }\n\n        this._changeSelectionData = {\n          changeType: keyCode === KeyCodes.backspace ? 'backspace' : 'delete',\n          selectionStart: selectionStart !== null ? selectionStart : -1,\n          selectionEnd: selectionEnd !== null ? selectionEnd : -1,\n        };\n      }\n    }\n  };\n\n  private _onPaste = (event: React.ClipboardEvent<HTMLInputElement>) => {\n    if (this.props.onPaste) {\n      this.props.onPaste(event);\n    }\n\n    const selectionStart = (event.target as HTMLInputElement).selectionStart,\n      selectionEnd = (event.target as HTMLInputElement).selectionEnd;\n    // Store the paste selection range\n    this._changeSelectionData = {\n      changeType: 'textPasted',\n      selectionStart: selectionStart !== null ? selectionStart : -1,\n      selectionEnd: selectionEnd !== null ? selectionEnd : -1,\n    };\n  };\n}\n","import * as React from 'react';\nimport {\n  initializeComponentRef,\n  classNamesFunction,\n  getId,\n  inputProperties,\n  getNativeProps,\n  warnDeprecations,\n  warnMutuallyExclusive,\n  FocusRects,\n} from '../../Utilities';\nimport { IToggleProps, IToggle, IToggleStyleProps, IToggleStyles } from './Toggle.types';\nimport { Label } from '../../Label';\nimport { KeytipData } from '../../KeytipData';\n\nexport interface IToggleState {\n  checked: boolean;\n}\n\nconst getClassNames = classNamesFunction<IToggleStyleProps, IToggleStyles>();\nconst COMPONENT_NAME = 'Toggle';\n\nexport class ToggleBase extends React.Component<IToggleProps, IToggleState> implements IToggle {\n  private _id: string;\n  private _toggleButton = React.createRef<HTMLButtonElement>();\n\n  public static getDerivedStateFromProps(\n    nextProps: Readonly<IToggleProps>,\n    prevState: Readonly<IToggleState>,\n  ): Partial<IToggleState> | null {\n    if (nextProps.checked === undefined) {\n      return null;\n    }\n\n    return {\n      checked: !!nextProps.checked,\n    };\n  }\n\n  constructor(props: IToggleProps) {\n    super(props);\n\n    initializeComponentRef(this);\n    warnMutuallyExclusive(COMPONENT_NAME, props, {\n      checked: 'defaultChecked',\n    });\n\n    warnDeprecations(COMPONENT_NAME, props, {\n      onAriaLabel: 'ariaLabel',\n      offAriaLabel: undefined,\n      onChanged: 'onChange',\n    });\n\n    this.state = {\n      checked: !!(props.checked || props.defaultChecked),\n    };\n    this._id = props.id || getId('Toggle');\n  }\n\n  /**\n   * Gets the current checked state of the toggle.\n   */\n  public get checked(): boolean {\n    return this.state.checked;\n  }\n\n  public render(): JSX.Element {\n    const {\n      as: RootType = 'div',\n      className,\n      theme,\n      disabled,\n      keytipProps,\n      label,\n      ariaLabel,\n      // tslint:disable:deprecation\n      onAriaLabel,\n      offAriaLabel,\n      // tslint:enable:deprecation\n      offText,\n      onText,\n      styles,\n      inlineLabel,\n    } = this.props;\n    const { checked } = this.state;\n    const stateText = checked ? onText : offText;\n    const badAriaLabel = checked ? onAriaLabel : offAriaLabel;\n    const toggleNativeProps = getNativeProps(this.props, inputProperties, ['defaultChecked']);\n    const classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      disabled,\n      checked,\n      inlineLabel,\n      onOffMissing: !onText && !offText,\n    });\n\n    const labelId = `${this._id}-label`;\n    const stateTextId = `${this._id}-stateText`;\n\n    // The following properties take priority for what Narrator should read:\n    // 1. ariaLabel\n    // 2. onAriaLabel (if checked) or offAriaLabel (if not checked)\n    // 3. label\n    // 4. onText (if checked) or offText (if not checked)\n    let labelledById: string | undefined = undefined;\n    if (!ariaLabel && !badAriaLabel) {\n      if (label) {\n        labelledById = labelId;\n      } else if (stateText) {\n        labelledById = stateTextId;\n      }\n    }\n\n    const ariaRole = this.props.role ? this.props.role : 'switch';\n\n    return (\n      <RootType className={classNames.root} hidden={(toggleNativeProps as any).hidden}>\n        {label && (\n          <Label htmlFor={this._id} className={classNames.label} id={labelId}>\n            {label}\n          </Label>\n        )}\n\n        <div className={classNames.container}>\n          <KeytipData\n            keytipProps={keytipProps}\n            ariaDescribedBy={(toggleNativeProps as any)['aria-describedby']}\n            disabled={disabled}\n          >\n            {(keytipAttributes: any): JSX.Element => (\n              <button\n                {...toggleNativeProps}\n                {...keytipAttributes}\n                className={classNames.pill}\n                disabled={disabled}\n                id={this._id}\n                type=\"button\"\n                role={ariaRole}\n                ref={this._toggleButton}\n                aria-disabled={disabled}\n                aria-checked={checked}\n                aria-label={ariaLabel ? ariaLabel : badAriaLabel}\n                data-is-focusable={true}\n                onChange={this._noop}\n                onClick={this._onClick}\n                aria-labelledby={labelledById}\n              >\n                <span className={classNames.thumb} />\n              </button>\n            )}\n          </KeytipData>\n          {stateText && (\n            <Label htmlFor={this._id} className={classNames.text} id={stateTextId}>\n              {stateText}\n            </Label>\n          )}\n        </div>\n        <FocusRects />\n      </RootType>\n    );\n  }\n\n  public focus() {\n    if (this._toggleButton.current) {\n      this._toggleButton.current.focus();\n    }\n  }\n\n  private _onClick = (ev: React.MouseEvent<HTMLElement>) => {\n    // tslint:disable-next-line:deprecation\n    const { disabled, checked: checkedProp, onChange, onChanged, onClick } = this.props;\n    const { checked } = this.state;\n\n    if (!disabled) {\n      // Only update the state if the user hasn't provided it.\n      if (checkedProp === undefined) {\n        this.setState({\n          checked: !checked,\n        });\n      }\n\n      if (onChange) {\n        onChange(ev, !checked);\n      }\n\n      if (onChanged) {\n        onChanged(!checked);\n      }\n\n      if (onClick) {\n        onClick(ev);\n      }\n    }\n  };\n\n  private _noop(): void {\n    /* no-op */\n  }\n}\n","import * as React from 'react';\nimport { styled } from '../../Utilities';\nimport { ToggleBase } from './Toggle.base';\nimport { getStyles } from './Toggle.styles';\nimport { IToggleProps, IToggleStyleProps, IToggleStyles } from './Toggle.types';\n\nexport const Toggle: React.FunctionComponent<IToggleProps> = styled<IToggleProps, IToggleStyleProps, IToggleStyles>(\n  ToggleBase,\n  getStyles,\n  undefined,\n  { scope: 'Toggle' },\n);\n","import { HighContrastSelector, getFocusStyle, FontWeights } from '../../Styling';\nimport { IToggleStyleProps, IToggleStyles } from './Toggle.types';\n\nconst DEFAULT_PILL_WIDTH = 40;\nconst DEFAULT_PILL_HEIGHT = 20;\nconst DEFAULT_THUMB_SIZE = 12;\n\nexport const getStyles = (props: IToggleStyleProps): IToggleStyles => {\n  const { theme, className, disabled, checked, inlineLabel, onOffMissing } = props;\n  const { semanticColors, palette } = theme;\n\n  // Tokens\n  const pillUncheckedBackground = semanticColors.bodyBackground;\n  const pillCheckedBackground = semanticColors.inputBackgroundChecked;\n  // TODO: after updating the semanticColors slots mapping this needs to be semanticColors.inputBackgroundCheckedHovered\n  const pillCheckedHoveredBackground = palette.themeDark;\n  const thumbUncheckedHoveredBackground = palette.neutralDark;\n  const pillCheckedDisabledBackground = semanticColors.disabledBodySubtext;\n  const thumbBackground = semanticColors.smallInputBorder;\n  const thumbCheckedBackground = semanticColors.inputForegroundChecked;\n  const thumbDisabledBackground = semanticColors.disabledBodySubtext;\n  const thumbCheckedDisabledBackground = semanticColors.disabledBackground;\n  const pillBorderColor = semanticColors.smallInputBorder;\n  const pillBorderHoveredColor = semanticColors.inputBorderHovered;\n  const pillBorderDisabledColor = semanticColors.disabledBodySubtext;\n  const textDisabledColor = semanticColors.disabledText;\n\n  return {\n    root: [\n      'ms-Toggle',\n      checked && 'is-checked',\n      !disabled && 'is-enabled',\n      disabled && 'is-disabled',\n      theme.fonts.medium,\n      {\n        marginBottom: '8px',\n      },\n      inlineLabel && {\n        display: 'flex',\n        alignItems: 'center',\n      },\n      className,\n    ],\n\n    label: [\n      'ms-Toggle-label',\n      disabled && {\n        color: textDisabledColor,\n        selectors: {\n          [HighContrastSelector]: {\n            color: 'GrayText',\n          },\n        },\n      },\n      inlineLabel &&\n        !onOffMissing && {\n          marginRight: 16,\n        },\n      onOffMissing &&\n        inlineLabel && {\n          order: 1,\n          marginLeft: 16,\n        },\n      inlineLabel && { wordBreak: 'break-all' },\n    ],\n\n    container: [\n      'ms-Toggle-innerContainer',\n      {\n        display: 'inline-flex',\n        position: 'relative',\n      },\n    ],\n\n    pill: [\n      'ms-Toggle-background',\n      getFocusStyle(theme, { inset: -3 }),\n      {\n        fontSize: '20px',\n        boxSizing: 'border-box',\n        width: DEFAULT_PILL_WIDTH,\n        height: DEFAULT_PILL_HEIGHT,\n        borderRadius: DEFAULT_PILL_HEIGHT / 2,\n        transition: 'all 0.1s ease',\n        border: `1px solid ${pillBorderColor}`,\n        background: pillUncheckedBackground,\n        cursor: 'pointer',\n        display: 'flex',\n        alignItems: 'center',\n        padding: '0 3px',\n      },\n      !disabled && [\n        !checked && {\n          selectors: {\n            ':hover': [\n              {\n                borderColor: pillBorderHoveredColor,\n              },\n            ],\n            ':hover .ms-Toggle-thumb': [\n              {\n                backgroundColor: thumbUncheckedHoveredBackground,\n                selectors: {\n                  [HighContrastSelector]: {\n                    borderColor: 'Highlight',\n                  },\n                },\n              },\n            ],\n          },\n        },\n        checked && [\n          {\n            background: pillCheckedBackground,\n            borderColor: 'transparent',\n            justifyContent: 'flex-end',\n          },\n          {\n            selectors: {\n              ':hover': [\n                {\n                  backgroundColor: pillCheckedHoveredBackground,\n                  borderColor: 'transparent',\n                  selectors: {\n                    [HighContrastSelector]: {\n                      backgroundColor: 'Highlight',\n                    },\n                  },\n                },\n              ],\n              [HighContrastSelector]: {\n                backgroundColor: 'WindowText',\n              },\n            },\n          },\n        ],\n      ],\n      disabled && [\n        {\n          cursor: 'default',\n        },\n        !checked && [\n          {\n            borderColor: pillBorderDisabledColor,\n          },\n        ],\n        checked && [\n          {\n            backgroundColor: pillCheckedDisabledBackground,\n            borderColor: 'transparent',\n            justifyContent: 'flex-end',\n          },\n        ],\n      ],\n      !disabled && {\n        selectors: {\n          '&:hover': {\n            selectors: {\n              [HighContrastSelector]: {\n                borderColor: 'Highlight',\n              },\n            },\n          },\n        },\n      },\n    ],\n\n    thumb: [\n      'ms-Toggle-thumb',\n      {\n        display: 'block',\n        width: DEFAULT_THUMB_SIZE,\n        height: DEFAULT_THUMB_SIZE,\n        borderRadius: '50%',\n        transition: 'all 0.1s ease',\n        backgroundColor: thumbBackground,\n        /* Border is added to handle high contrast mode for Firefox */\n        borderColor: 'transparent',\n        borderWidth: '.28em',\n        borderStyle: 'solid',\n        boxSizing: 'border-box',\n      },\n      !disabled &&\n        checked && [\n          {\n            backgroundColor: thumbCheckedBackground,\n            selectors: {\n              [HighContrastSelector]: {\n                backgroundColor: 'Window',\n                borderColor: 'Window',\n              },\n            },\n          },\n        ],\n      disabled && [\n        !checked && [\n          {\n            backgroundColor: thumbDisabledBackground,\n          },\n        ],\n        checked && [\n          {\n            backgroundColor: thumbCheckedDisabledBackground,\n          },\n        ],\n      ],\n    ],\n\n    text: [\n      'ms-Toggle-stateText',\n      {\n        selectors: {\n          // Workaround: make rules more specific than Label rules.\n          '&&': {\n            padding: '0',\n            margin: '0 8px',\n            userSelect: 'none',\n            fontWeight: FontWeights.regular,\n          },\n        },\n      },\n      disabled && {\n        selectors: {\n          '&&': {\n            color: textDisabledColor,\n            selectors: {\n              [HighContrastSelector]: {\n                color: 'GrayText',\n              },\n            },\n          },\n        },\n      },\n    ],\n  };\n};\n","import { FieldProps } from 'formik'\nimport {\n  ITextFieldProps,\n  MaskedTextField,\n  TextField,\n} from 'office-ui-fabric-react'\nimport * as React from 'react'\nimport { getErrorMessage, Omit } from './utils'\n\nexport function mapFieldToTextField<T = any>({\n  form,\n  field,\n}: FieldProps<T>): Pick<\n  ITextFieldProps,\n  'value' | 'name' | 'onChange' | 'onBlur' | 'errorMessage' | 'form'\n> {\n  return {\n    ...field,\n    errorMessage: getErrorMessage({ form, field }),\n  }\n}\n\nexport function mapFieldToMaskedTextField<T = any>({\n  form,\n  field,\n}: FieldProps<T>): Pick<\n  ITextFieldProps,\n  'value' | 'name' | 'onChange' | 'onBlur' | 'errorMessage' | 'form'\n> {\n  return {\n    ...mapFieldToTextField({ form, field }),\n    // ev hsa wrong balue for MaskedTextField\n    onChange: (_, value) => form.setFieldValue(field.name, value),\n  }\n}\n\nexport type FormikTextFieldProps<T = any> = Omit<\n  ITextFieldProps,\n  'value' | 'name' | 'onChange' | 'onBlur' | 'form'\n> &\n  FieldProps<T>\n\nexport function FormikTextField<T = any>({\n  field,\n  form,\n  ...props\n}: FormikTextFieldProps<T>) {\n  const { errorMessage, ...fieldProps } = mapFieldToTextField({ field, form })\n\n  return (\n    <TextField\n      errorMessage={errorMessage} // allow for prop overwrite\n      {...props}\n      {...fieldProps}\n    />\n  )\n}\n\nexport function FormikMaskedTextField<T = any>({\n  field,\n  form,\n  ...props\n}: FormikTextFieldProps<T>) {\n  const { errorMessage, ...fieldProps } = mapFieldToMaskedTextField({\n    field,\n    form,\n  })\n\n  return (\n    <MaskedTextField\n      errorMessage={errorMessage} // allow for prop overwrite\n      {...props}\n      {...fieldProps}\n    />\n  )\n}\n","var isProduction = process.env.NODE_ENV === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;\n"],"sourceRoot":""}